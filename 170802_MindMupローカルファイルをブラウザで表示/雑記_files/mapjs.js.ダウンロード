var mmStart=function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(n,'a',n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=77)}([function(e,t){var n=Math.floor,o=Math.max,i,a;(function(){function d(e){function t(t,n,o,i,a,d){for(;0<=a&&a<d;a+=e){var r=i?i[a]:a;o=n(o,t[r],r,t)}return o}return function(n,o,i,a){o=T(o,a,4);var d=!L(n)&&C.keys(n),r=(d||n).length,s=0<e?0:r-1;return 3>arguments.length&&(i=n[d?d[s]:s],s+=e),t(n,o,i,d,s,r)}}function r(e){return function(t,n,o){n=F(n,o);for(var i=A(t),a=0<e?0:i-1;0<=a&&a<i;a+=e)if(n(t[a],a,t))return a;return-1}}function s(e,t,n){return function(a,d,r){var s=0,i=A(a);if('number'==typeof r)0<e?s=0<=r?r:o(r+i,s):i=0<=r?Math.min(r+1,i):r+i+1;else if(n&&r&&i)return r=n(a,d),a[r]===d?r:-1;if(d!==d)return r=t(f.call(a,s,i),C.isNaN),0<=r?r+s:-1;for(r=0<e?s:i-1;0<=r&&r<i;r+=e)if(a[r]===d)return r;return-1}}function l(e,t){var n=O.length,o=e.constructor,i=C.isFunction(o)&&o.prototype||g,a='constructor';for(C.has(e,a)&&!C.contains(t,a)&&t.push(a);n--;)a=O[n],a in e&&e[a]!==i[a]&&!C.contains(t,a)&&t.push(a)}var c=this,p=c._,h=Array.prototype,g=Object.prototype,u=Function.prototype,m=h.push,f=h.slice,y=g.toString,x=g.hasOwnProperty,v=Array.isArray,b=Object.keys,w=u.bind,E=Object.create,k=function(){},C=function(e){return e instanceof C?e:this instanceof C?void(this._wrapped=e):new C(e)};('undefined'!=typeof e&&e.exports&&(t=e.exports=C),t._=C),C.VERSION='1.8.3';var T=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,o){return e.call(t,n,o)};case 3:return function(n,o,i){return e.call(t,n,o,i)};case 4:return function(n,o,i,a){return e.call(t,n,o,i,a)};}return function(){return e.apply(t,arguments)}},F=function(e,t,n){return null==e?C.identity:C.isFunction(e)?T(e,t,n):C.isObject(e)?C.matcher(e):C.property(e)};C.iteratee=function(e,t){return F(e,t,Infinity)};var S=function(e,t){return function(n){var o=arguments.length;if(2>o||null==n)return n;for(var a=1;a<o;a++)for(var d=arguments[a],r=e(d),s=r.length,l=0,i;l<s;l++)i=r[l],t&&void 0!==n[i]||(n[i]=d[i]);return n}},I=function(e){if(!C.isObject(e))return{};if(E)return E(e);k.prototype=e;var t=new k;return k.prototype=null,t},N=function(e){return function(t){return null==t?void 0:t[e]}},A=N('length'),L=function(e){var t=A(e);return'number'==typeof t&&0<=t&&t<=9007199254740991};C.each=C.forEach=function(e,t,n){t=T(t,n);var o,i;if(L(e))for(o=0,i=e.length;o<i;o++)t(e[o],o,e);else{var a=C.keys(e);for(o=0,i=a.length;o<i;o++)t(e[a[o]],a[o],e)}return e},C.map=C.collect=function(e,t,n){t=F(t,n);for(var o=!L(e)&&C.keys(e),i=(o||e).length,a=Array(i),d=0,r;d<i;d++)r=o?o[d]:d,a[d]=t(e[r],r,e);return a},C.reduce=C.foldl=C.inject=d(1),C.reduceRight=C.foldr=d(-1),C.find=C.detect=function(e,t,n){var o;if(o=L(e)?C.findIndex(e,t,n):C.findKey(e,t,n),void 0!==o&&-1!==o)return e[o]},C.filter=C.select=function(e,t,n){var o=[];return t=F(t,n),C.each(e,function(e,n,i){t(e,n,i)&&o.push(e)}),o},C.reject=function(e,t,n){return C.filter(e,C.negate(F(t)),n)},C.every=C.all=function(e,t,n){t=F(t,n);for(var o=!L(e)&&C.keys(e),i=(o||e).length,a=0,d;a<i;a++)if(d=o?o[a]:a,!t(e[d],d,e))return!1;return!0},C.some=C.any=function(e,t,n){t=F(t,n);for(var o=!L(e)&&C.keys(e),i=(o||e).length,a=0,d;a<i;a++)if(d=o?o[a]:a,t(e[d],d,e))return!0;return!1},C.contains=C.includes=C.include=function(e,t,n,o){return L(e)||(e=C.values(e)),('number'!=typeof n||o)&&(n=0),0<=C.indexOf(e,t,n)},C.invoke=function(e,t){var n=f.call(arguments,2),o=C.isFunction(t);return C.map(e,function(e){var i=o?t:e[t];return null==i?i:i.apply(e,n)})},C.pluck=function(e,t){return C.map(e,C.property(t))},C.where=function(e,t){return C.filter(e,C.matcher(t))},C.findWhere=function(e,t){return C.find(e,C.matcher(t))},C.max=function(e,t,n){var o=-Infinity,a=-Infinity,d,r;if(null==t&&null!=e){e=L(e)?e:C.values(e);for(var s=0,i=e.length;s<i;s++)d=e[s],d>o&&(o=d)}else t=F(t,n),C.each(e,function(e,n,i){r=t(e,n,i),(r>a||r===-Infinity&&o==-Infinity)&&(o=e,a=r)});return o},C.min=function(e,t,n){var o=Infinity,a=Infinity,d,r;if(null==t&&null!=e){e=L(e)?e:C.values(e);for(var s=0,i=e.length;s<i;s++)d=e[s],d<o&&(o=d)}else t=F(t,n),C.each(e,function(e,n,i){r=t(e,n,i),(r<a||r===Infinity&&o==Infinity)&&(o=e,a=r)});return o},C.shuffle=function(e){for(var t=L(e)?e:C.values(e),n=t.length,o=Array(n),i=0,a;i<n;i++)a=C.random(0,i),a!==i&&(o[i]=o[a]),o[a]=t[i];return o},C.sample=function(e,t,n){return null==t||n?(L(e)||(e=C.values(e)),e[C.random(e.length-1)]):C.shuffle(e).slice(0,o(0,t))},C.sortBy=function(e,t,n){return t=F(t,n),C.pluck(C.map(e,function(e,n,o){return{value:e,index:n,criteria:t(e,n,o)}}).sort(function(e,t){var n=e.criteria,o=t.criteria;if(n!==o){if(n>o||void 0===n)return 1;if(n<o||void 0===o)return-1}return e.index-t.index}),'value')};var R=function(e){return function(t,n,o){var i={};return n=F(n,o),C.each(t,function(o,a){var d=n(o,a,t);e(i,o,d)}),i}};C.groupBy=R(function(e,t,n){C.has(e,n)?e[n].push(t):e[n]=[t]}),C.indexBy=R(function(e,t,n){e[n]=t}),C.countBy=R(function(e,t,n){C.has(e,n)?e[n]++:e[n]=1}),C.toArray=function(e){return e?C.isArray(e)?f.call(e):L(e)?C.map(e,C.identity):C.values(e):[]},C.size=function(e){return null==e?0:L(e)?e.length:C.keys(e).length},C.partition=function(e,t,n){t=F(t,n);var o=[],i=[];return C.each(e,function(e,n,a){(t(e,n,a)?o:i).push(e)}),[o,i]},C.first=C.head=C.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:C.initial(e,e.length-t)},C.initial=function(e,t,n){return f.call(e,0,o(0,e.length-(null==t||n?1:t)))},C.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:C.rest(e,o(0,e.length-t))},C.rest=C.tail=C.drop=function(e,t,n){return f.call(e,null==t||n?1:t)},C.compact=function(e){return C.filter(e,C.identity)};var D=function(e,t,n,o){for(var a=[],d=0,r=o||0,i=A(e),s;r<i;r++)if(s=e[r],L(s)&&(C.isArray(s)||C.isArguments(s))){t||(s=D(s,t,n));var l=0,c=s.length;for(a.length+=c;l<c;)a[d++]=s[l++]}else n||(a[d++]=s);return a};C.flatten=function(e,t){return D(e,t,!1)},C.without=function(e){return C.difference(e,f.call(arguments,1))},C.uniq=C.unique=function(e,t,n,o){C.isBoolean(t)||(o=n,n=t,t=!1),null!=n&&(n=F(n,o));for(var a=[],d=[],r=0,s=A(e);r<s;r++){var l=e[r],c=n?n(l,r,e):l;t?((!r||d!==c)&&a.push(l),d=c):n?!C.contains(d,c)&&(d.push(c),a.push(l)):!C.contains(a,l)&&a.push(l)}return a},C.union=function(){return C.uniq(D(arguments,!0,!0))},C.intersection=function(e){for(var t=[],n=arguments.length,o=0,i=A(e),a;o<i;o++)if(a=e[o],!C.contains(t,a)){for(var d=1;d<n&&!!C.contains(arguments[d],a);d++);d===n&&t.push(a)}return t},C.difference=function(e){var t=D(arguments,!0,!0,1);return C.filter(e,function(e){return!C.contains(t,e)})},C.zip=function(){return C.unzip(arguments)},C.unzip=function(e){for(var t=e&&C.max(e,A).length||0,n=Array(t),o=0;o<t;o++)n[o]=C.pluck(e,o);return n},C.object=function(e,t){for(var n={},o=0,i=A(e);o<i;o++)t?n[e[o]]=t[o]:n[e[o][0]]=e[o][1];return n},C.findIndex=r(1),C.findLastIndex=r(-1),C.sortedIndex=function(e,t,o,i){o=F(o,i,1);for(var a=o(t),d=0,r=A(e);d<r;){var s=n((d+r)/2);o(e[s])<a?d=s+1:r=s}return d},C.indexOf=s(1,C.findIndex,C.sortedIndex),C.lastIndexOf=s(-1,C.findLastIndex),C.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var i=o(Math.ceil((t-e)/n),0),a=Array(i),d=0;d<i;d++,e+=n)a[d]=e;return a};var j=function(e,t,n,o,i){if(!(o instanceof t))return e.apply(n,i);var a=I(e.prototype),d=e.apply(a,i);return C.isObject(d)?d:a};C.bind=function(e,t){if(w&&e.bind===w)return w.apply(e,f.call(arguments,1));if(!C.isFunction(e))throw new TypeError('Bind must be called on a function');var n=f.call(arguments,2),o=function(){return j(e,o,t,this,n.concat(f.call(arguments)))};return o},C.partial=function(e){var t=f.call(arguments,1),n=function(){for(var o=0,a=t.length,d=Array(a),r=0;r<a;r++)d[r]=t[r]===C?arguments[o++]:t[r];for(;o<arguments.length;)d.push(arguments[o++]);return j(e,n,this,this,d)};return n},C.bindAll=function(e){var t=arguments.length,n,o;if(1>=t)throw new Error('bindAll must be passed function names');for(n=1;n<t;n++)o=arguments[n],e[o]=C.bind(e[o],e);return e},C.memoize=function(e,t){var n=function(o){var i=n.cache,a=''+(t?t.apply(this,arguments):o);return C.has(i,a)||(i[a]=e.apply(this,arguments)),i[a]};return n.cache={},n},C.delay=function(e,t){var n=f.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},C.defer=C.partial(C.delay,C,1),C.throttle=function(e,t,n){var o=null,i=0,a,d,r;n||(n={});var s=function(){i=!1===n.leading?0:C.now(),o=null,r=e.apply(a,d),o||(a=d=null)};return function(){var l=C.now();i||!1!==n.leading||(i=l);var c=t-(l-i);return a=this,d=arguments,0>=c||c>t?(o&&(clearTimeout(o),o=null),i=l,r=e.apply(a,d),!o&&(a=d=null)):!o&&!1!==n.trailing&&(o=setTimeout(s,c)),r}},C.debounce=function(e,t,n){var o=function(){var l=C.now()-r;l<t&&0<=l?i=setTimeout(o,t-l):(i=null,!n&&(s=e.apply(d,a),!i&&(d=a=null)))},i,a,d,r,s;return function(){d=this,a=arguments,r=C.now();var l=n&&!i;return i||(i=setTimeout(o,t)),l&&(s=e.apply(d,a),d=a=null),s}},C.wrap=function(e,t){return C.partial(t,e)},C.negate=function(e){return function(){return!e.apply(this,arguments)}},C.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,o=e[t].apply(this,arguments);n--;)o=e[n].call(this,o);return o}},C.after=function(e,t){return function(){if(1>--e)return t.apply(this,arguments)}},C.before=function(e,t){var n;return function(){return 0<--e&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},C.once=C.partial(C.before,2);var P=!{toString:null}.propertyIsEnumerable('toString'),O=['valueOf','isPrototypeOf','toString','propertyIsEnumerable','hasOwnProperty','toLocaleString'];C.keys=function(e){if(!C.isObject(e))return[];if(b)return b(e);var t=[];for(var n in e)C.has(e,n)&&t.push(n);return P&&l(e,t),t},C.allKeys=function(e){if(!C.isObject(e))return[];var t=[];for(var n in e)t.push(n);return P&&l(e,t),t},C.values=function(e){for(var t=C.keys(e),n=t.length,o=Array(n),a=0;a<n;a++)o[a]=e[t[a]];return o},C.mapObject=function(e,t,n){t=F(t,n);for(var o=C.keys(e),i=o.length,a={},d=0,r;d<i;d++)r=o[d],a[r]=t(e[r],r,e);return a},C.pairs=function(e){for(var t=C.keys(e),n=t.length,o=Array(n),a=0;a<n;a++)o[a]=[t[a],e[t[a]]];return o},C.invert=function(e){for(var t={},n=C.keys(e),o=0,i=n.length;o<i;o++)t[e[n[o]]]=n[o];return t},C.functions=C.methods=function(e){var t=[];for(var n in e)C.isFunction(e[n])&&t.push(n);return t.sort()},C.extend=S(C.allKeys),C.extendOwn=C.assign=S(C.keys),C.findKey=function(e,t,n){t=F(t,n);for(var o=C.keys(e),a=0,i=o.length,d;a<i;a++)if(d=o[a],t(e[d],d,e))return d},C.pick=function(e,t,n){var o={},a=e,d,r;if(null==a)return o;C.isFunction(t)?(r=C.allKeys(a),d=T(t,n)):(r=D(arguments,!1,!1,1),d=function(e,t,n){return t in n},a=Object(a));for(var s=0,i=r.length;s<i;s++){var l=r[s],c=a[l];d(c,l,a)&&(o[l]=c)}return o},C.omit=function(e,t,n){if(C.isFunction(t))t=C.negate(t);else{var o=C.map(D(arguments,!1,!1,1),String);t=function(e,t){return!C.contains(o,t)}}return C.pick(e,t,n)},C.defaults=S(C.allKeys,!0),C.create=function(e,t){var n=I(e);return t&&C.extendOwn(n,t),n},C.clone=function(e){return C.isObject(e)?C.isArray(e)?e.slice():C.extend({},e):e},C.tap=function(e,t){return t(e),e},C.isMatch=function(e,t){var n=C.keys(t),o=n.length;if(null==e)return!o;for(var a=Object(e),d=0,i;d<o;d++)if(i=n[d],t[i]!==a[i]||!(i in a))return!1;return!0};var M=function(e,t,n,o){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof C&&(e=e._wrapped),t instanceof C&&(t=t._wrapped);var i=y.call(e);if(i!==y.call(t))return!1;switch(i){case'[object RegExp]':case'[object String]':return''+e==''+t;case'[object Number]':return+e==+e?0==+e?1/+e==1/t:+e==+t:+t!=+t;case'[object Date]':case'[object Boolean]':return+e==+t;}var d='[object Array]'===i;if(!d){if('object'!=typeof e||'object'!=typeof t)return!1;var r=e.constructor,s=t.constructor;if(r!==s&&!(C.isFunction(r)&&r instanceof r&&C.isFunction(s)&&s instanceof s)&&'constructor'in e&&'constructor'in t)return!1}n=n||[],o=o||[];for(var l=n.length;l--;)if(n[l]===e)return o[l]===t;if(n.push(e),o.push(t),d){if(l=e.length,l!==t.length)return!1;for(;l--;)if(!M(e[l],t[l],n,o))return!1}else{var c=C.keys(e),p;if(l=c.length,C.keys(t).length!==l)return!1;for(;l--;)if(p=c[l],!(C.has(t,p)&&M(e[p],t[p],n,o)))return!1}return n.pop(),o.pop(),!0};C.isEqual=function(e,t){return M(e,t)},C.isEmpty=function(e){return!(null!=e)||(L(e)&&(C.isArray(e)||C.isString(e)||C.isArguments(e))?0===e.length:0===C.keys(e).length)},C.isElement=function(e){return!!(e&&1===e.nodeType)},C.isArray=v||function(e){return'[object Array]'===y.call(e)},C.isObject=function(e){var t=typeof e;return'function'==t||'object'==t&&!!e},C.each(['Arguments','Function','String','Number','Date','RegExp','Error'],function(e){C['is'+e]=function(t){return y.call(t)==='[object '+e+']'}}),C.isArguments(arguments)||(C.isArguments=function(e){return C.has(e,'callee')}),'function'!=typeof /./&&'object'!=typeof Int8Array&&(C.isFunction=function(e){return'function'==typeof e||!1}),C.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},C.isNaN=function(e){return C.isNumber(e)&&e!==+e},C.isBoolean=function(e){return!0===e||!1===e||'[object Boolean]'===y.call(e)},C.isNull=function(e){return null===e},C.isUndefined=function(e){return void 0===e},C.has=function(e,t){return null!=e&&x.call(e,t)},C.noConflict=function(){return c._=p,this},C.identity=function(e){return e},C.constant=function(e){return function(){return e}},C.noop=function(){},C.property=N,C.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},C.matcher=C.matches=function(e){return e=C.extendOwn({},e),function(t){return C.isMatch(t,e)}},C.times=function(e,t,n){var a=Array(o(0,e));t=T(t,n,1);for(var d=0;d<e;d++)a[d]=t(d);return a},C.random=function(e,t){return null==t&&(t=e,e=0),e+n(Math.random()*(t-e+1))},C.now=Date.now||function(){return new Date().getTime()};var B={"&":'&amp;',"<":'&lt;',">":'&gt;','"':'&quot;',"'":'&#x27;',"`":'&#x60;'},_=C.invert(B),q=function(e){var t=function(t){return e[t]},n='(?:'+C.keys(e).join('|')+')',o=RegExp(n),i=RegExp(n,'g');return function(e){return e=null==e?'':''+e,o.test(e)?e.replace(i,t):e}};C.escape=q(B),C.unescape=q(_),C.result=function(e,t,n){var o=null==e?void 0:e[t];return void 0===o&&(o=n),C.isFunction(o)?o.call(e):o};var H=0;C.uniqueId=function(e){var t=++H+'';return e?e+t:t},C.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var W=/(.)^/,Y={"'":'\'',"\\":'\\',"\r":'r',"\n":'n',"\u2028":'u2028',"\u2029":'u2029'},z=/\\|'|\r|\n|\u2028|\u2029/g,X=function(e){return'\\'+Y[e]};C.template=function(e,t,n){!t&&n&&(t=n),t=C.defaults({},t,C.templateSettings);var o=RegExp([(t.escape||W).source,(t.interpolate||W).source,(t.evaluate||W).source].join('|')+'|$','g'),i=0,a='__p+=\'';e.replace(o,function(t,n,o,d,r){return a+=e.slice(i,r).replace(z,X),i=r+t.length,n?a+='\'+\n((__t=('+n+'))==null?\'\':_.escape(__t))+\n\'':o?a+='\'+\n((__t=('+o+'))==null?\'\':__t)+\n\'':d&&(a+='\';\n'+d+'\n__p+=\''),t}),a+='\';\n',t.variable||(a='with(obj||{}){\n'+a+'}\n'),a='var __t,__p=\'\',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,\'\');};\n'+a+'return __p;\n';try{var d=new Function(t.variable||'obj','_',a)}catch(t){throw t.source=a,t}var r=function(e){return d.call(this,e,C)},s=t.variable||'obj';return r.source='function('+s+'){\n'+a+'}',r},C.chain=function(e){var t=C(e);return t._chain=!0,t};var V=function(e,t){return e._chain?C(t).chain():t};C.mixin=function(e){C.each(C.functions(e),function(t){var n=C[t]=e[t];C.prototype[t]=function(){var e=[this._wrapped];return m.apply(e,arguments),V(this,n.apply(C,e))}})},C.mixin(C),C.each(['pop','push','reverse','shift','sort','splice','unshift'],function(e){var t=h[e];C.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),('shift'===e||'splice'===e)&&0===n.length&&delete n[0],V(this,n)}}),C.each(['concat','join','slice'],function(e){var t=h[e];C.prototype[e]=function(){return V(this,t.apply(this._wrapped,arguments))}}),C.prototype.value=function(){return this._wrapped},C.prototype.valueOf=C.prototype.toJSON=C.prototype.value,C.prototype.toString=function(){return''+this._wrapped},i=[],a=function(){return C}.apply(t,i),!(a!==void 0&&(e.exports=a))}).call(this)},function(e,t){var n=String.fromCharCode,o=Math.max,i,a;(function(t,n){'object'==typeof e&&'object'==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error('jQuery requires a window with a document');return n(e)}:n(t)})('undefined'==typeof window?this:window,function(d,r){function s(e){var t=!!e&&'length'in e&&e.length,n=ce.type(e);return'function'===n||ce.isWindow(e)?!1:'array'===n||0===t||'number'==typeof t&&0<t&&t-1 in e}function l(e,t,n){if(ce.isFunction(t))return ce.grep(e,function(e,o){return!!t.call(e,o,e)!==n});if(t.nodeType)return ce.grep(e,function(e){return e===t!==n});if('string'==typeof t){if(be.test(t))return ce.filter(t,e,n);t=ce.filter(t,e)}return ce.grep(e,function(e){return-1<ie.call(t,e)!==n})}function c(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function p(e){var t={};return ce.each(e.match(Fe)||[],function(e,n){t[n]=!0}),t}function h(){ee.removeEventListener('DOMContentLoaded',h),d.removeEventListener('load',h),ce.ready()}function g(){this.expando=ce.expando+g.uid++}function u(e,t,n){var o;if(void 0===n&&1===e.nodeType)if(o='data-'+t.replace(De,'-$&').toLowerCase(),n=e.getAttribute(o),'string'==typeof n){try{n='true'===n||'false'!==n&&('null'===n?null:+n+''===n?+n:Re.test(n)?ce.parseJSON(n):n)}catch(t){}Le.set(e,t,n)}else n=void 0;return n}function m(e,t,n,o){var i=1,a=20,d=o?function(){return o.cur()}:function(){return ce.css(e,t,'')},r=d(),s=n&&n[3]||(ce.cssNumber[t]?'':'px'),l=(ce.cssNumber[t]||'px'!==s&&+r)&&Pe.exec(ce.css(e,t)),c;if(l&&l[3]!==s){s=s||l[3],n=n||[],l=+r||1;do i=i||'.5',l/=i,ce.style(e,t,l+s);while(i!=(i=d()/r)&&1!=i&&--a)}return n&&(l=+l||+r||0,c=n[1]?l+(n[1]+1)*n[2]:+n[2],o&&(o.unit=s,o.start=l,o.end=c)),c}function f(e,t){var n='undefined'==typeof e.getElementsByTagName?'undefined'==typeof e.querySelectorAll?[]:e.querySelectorAll(t||'*'):e.getElementsByTagName(t||'*');return void 0===t||t&&ce.nodeName(e,t)?ce.merge([e],n):n}function y(e,t){for(var n=0,o=e.length;n<o;n++)Ae.set(e[n],'globalEval',!t||Ae.get(t[n],'globalEval'))}function x(e,t,n,o,a){for(var d=t.createDocumentFragment(),r=[],s=0,i=e.length,l,c,p,h,g,u;s<i;s++)if(l=e[s],l||0===l)if('object'===ce.type(l))ce.merge(r,l.nodeType?[l]:l);else if(!We.test(l))r.push(t.createTextNode(l));else{for(c=c||d.appendChild(t.createElement('div')),p=(_e.exec(l)||['',''])[1].toLowerCase(),h=He[p]||He._default,c.innerHTML=h[1]+ce.htmlPrefilter(l)+h[2],u=h[0];u--;)c=c.lastChild;ce.merge(r,c.childNodes),c=d.firstChild,c.textContent=''}for(d.textContent='',s=0;l=r[s++];){if(o&&-1<ce.inArray(l,o)){a&&a.push(l);continue}if(g=ce.contains(l.ownerDocument,l),c=f(d.appendChild(l),'script'),g&&y(c),n)for(u=0;l=c[u++];)qe.test(l.type||'')&&n.push(l)}return d}function v(){return!0}function b(){return!1}function w(){try{return ee.activeElement}catch(e){}}function E(e,t,n,o,i,a){var d,r;if('object'==typeof t){for(r in'string'!=typeof n&&(o=o||n,n=void 0),t)E(e,r,n,o,t[r],a);return e}if(null==o&&null==i?(i=n,o=n=void 0):null==i&&('string'==typeof n?(i=o,o=void 0):(i=o,o=n,n=void 0)),!1===i)i=b;else if(!i)return e;return 1===a&&(d=i,i=function(e){return ce().off(e),d.apply(this,arguments)},i.guid=d.guid||(d.guid=ce.guid++)),e.each(function(){ce.event.add(this,t,i,o,n)})}function k(e,t){return ce.nodeName(e,'table')&&ce.nodeName(11===t.nodeType?t.firstChild:t,'tr')?e.getElementsByTagName('tbody')[0]||e.appendChild(e.ownerDocument.createElement('tbody')):e}function C(e){return e.type=(null!==e.getAttribute('type'))+'/'+e.type,e}function T(e){var t=$e.exec(e.type);return t?e.type=t[1]:e.removeAttribute('type'),e}function F(e,t){var n,o,i,a,d,r,s,l;if(1===t.nodeType){if(Ae.hasData(e)&&(a=Ae.access(e),d=Ae.set(t,a),l=a.events,l))for(i in delete d.handle,d.events={},l)for(n=0,o=l[i].length;n<o;n++)ce.event.add(t,i,l[i][n]);Le.hasData(e)&&(r=Le.access(e),s=ce.extend({},r),Le.set(t,s))}}function S(e,t){var n=t.nodeName.toLowerCase();'input'===n&&Be.test(e.type)?t.checked=e.checked:('input'===n||'textarea'===n)&&(t.defaultValue=e.defaultValue)}function I(e,t,n,o){t=ne.apply([],t);var a=0,i=e.length,d=t[0],r=ce.isFunction(d),s,l,c,p,h,g;if(r||1<i&&'string'==typeof d&&!se.checkClone&&Ke.test(d))return e.each(function(i){var a=e.eq(i);r&&(t[0]=d.call(this,i,a.html())),I(a,t,n,o)});if(i&&(s=x(t,e[0].ownerDocument,!1,e,o),l=s.firstChild,1===s.childNodes.length&&(s=l),l||o)){for(c=ce.map(f(s,'script'),C),p=c.length;a<i;a++)h=s,a!=i-1&&(h=ce.clone(h,!0,!0),p&&ce.merge(c,f(h,'script'))),n.call(e[a],h,a);if(p)for(g=c[c.length-1].ownerDocument,ce.map(c,T),a=0;a<p;a++)h=c[a],qe.test(h.type||'')&&!Ae.access(h,'globalEval')&&ce.contains(g,h)&&(h.src?ce._evalUrl&&ce._evalUrl(h.src):ce.globalEval(h.textContent.replace(Ge,'')))}return e}function N(e,t,n){for(var o=t?ce.filter(t,e):e,a=0,i;null!=(i=o[a]);a++)n||1!==i.nodeType||ce.cleanData(f(i)),i.parentNode&&(n&&ce.contains(i.ownerDocument,i)&&y(f(i,'script')),i.parentNode.removeChild(i));return e}function A(e,t){var n=ce(t.createElement(e)).appendTo(t.body),o=ce.css(n[0],'display');return n.detach(),o}function L(e){var t=ee,n=Qe[e];return n||(n=A(e,t),('none'===n||!n)&&(ot=(ot||ce('<iframe frameborder=\'0\' width=\'0\' height=\'0\'/>')).appendTo(t.documentElement),t=ot[0].contentDocument,t.write(),t.close(),n=A(e,t),ot.detach()),Qe[e]=n),n}function R(e,t,n){var o=e.style,i,a,d,r;return n=n||et(e),r=n?n.getPropertyValue(t)||n[t]:void 0,''!==r&&void 0!==r||ce.contains(e.ownerDocument,e)||(r=ce.style(e,t)),n&&!se.pixelMarginRight()&&Ze.test(r)&&Je.test(t)&&(i=o.width,a=o.minWidth,d=o.maxWidth,o.minWidth=o.maxWidth=o.width=r,r=n.width,o.width=i,o.minWidth=a,o.maxWidth=d),void 0===r?r:r+''}function D(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function j(e){if(e in st)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=rt.length;n--;)if(e=rt[n]+t,e in st)return e}function P(e,t,n){var i=Pe.exec(t);return i?o(0,i[2]-(n||0))+(i[3]||'px'):t}function O(e,t,n,o,a){for(var d=n===(o?'border':'content')?4:'width'===t?1:0,i=0;4>d;d+=2)'margin'===n&&(i+=ce.css(e,n+Oe[d],!0,a)),o?('content'===n&&(i-=ce.css(e,'padding'+Oe[d],!0,a)),'margin'!==n&&(i-=ce.css(e,'border'+Oe[d]+'Width',!0,a))):(i+=ce.css(e,'padding'+Oe[d],!0,a),'padding'!==n&&(i+=ce.css(e,'border'+Oe[d]+'Width',!0,a)));return i}function M(e,t,n){var o=!0,i='width'===t?e.offsetWidth:e.offsetHeight,a=et(e),d='border-box'===ce.css(e,'boxSizing',!1,a);if(0>=i||null==i){if(i=R(e,t,a),(0>i||null==i)&&(i=e.style[t]),Ze.test(i))return i;o=d&&(se.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+O(e,t,n||(d?'border':'content'),o,a)+'px'}function B(e,t){for(var n=[],o=0,i=e.length,a,d,r;o<i;o++)(d=e[o],!!d.style)&&(n[o]=Ae.get(d,'olddisplay'),a=d.style.display,t?(!n[o]&&'none'===a&&(d.style.display=''),''===d.style.display&&Me(d)&&(n[o]=Ae.access(d,'olddisplay',L(d.nodeName)))):(r=Me(d),('none'!==a||!r)&&Ae.set(d,'olddisplay',r?a:ce.css(d,'display'))));for(o=0;o<i;o++)(d=e[o],!!d.style)&&(t&&'none'!==d.style.display&&''!==d.style.display||(d.style.display=t?n[o]||'':'none'));return e}function _(e,t,n,o,i){return new _.prototype.init(e,t,n,o,i)}function q(){return d.setTimeout(function(){pt=void 0}),pt=ce.now()}function H(e,t){var n=0,o={height:e},i;for(t=t?1:0;4>n;n+=2-t)i=Oe[n],o['margin'+i]=o['padding'+i]=e;return t&&(o.opacity=o.width=e),o}function W(e,t,n){for(var o=(z.tweeners[t]||[]).concat(z.tweeners['*']),i=0,a=o.length,d;i<a;i++)if(d=o[i].call(n,t,e))return d}function Y(e,t){var n,o,i,a,d;for(n in e)if(o=ce.camelCase(n),i=t[o],a=e[n],ce.isArray(a)&&(i=a[1],a=e[n]=a[0]),n!==o&&(e[o]=a,delete e[n]),d=ce.cssHooks[o],d&&'expand'in d)for(n in a=d.expand(a),delete e[o],a)n in e||(e[n]=a[n],t[n]=i);else t[o]=i}function z(e,t,n){var i=0,a=z.prefilters.length,d=ce.Deferred().always(function(){delete r.elem}),r=function(){if(p)return!1;for(var t=pt||q(),n=o(0,s.startTime+s.duration-t),i=n/s.duration||0,a=1-i,r=0,l=s.tweens.length;r<l;r++)s.tweens[r].run(a);return d.notifyWith(e,[s,a,n]),1>a&&l?n:(d.resolveWith(e,[s]),!1)},s=d.promise({elem:e,props:ce.extend({},t),opts:ce.extend(!0,{specialEasing:{},easing:ce.easing._default},n),originalProperties:t,originalOptions:n,startTime:pt||q(),duration:n.duration,tweens:[],createTween:function(t,n){var o=ce.Tween(e,s.opts,t,n,s.opts.specialEasing[t]||s.opts.easing);return s.tweens.push(o),o},stop:function(t){var n=0,o=t?s.tweens.length:0;if(p)return this;for(p=!0;n<o;n++)s.tweens[n].run(1);return t?(d.notifyWith(e,[s,1,0]),d.resolveWith(e,[s,t])):d.rejectWith(e,[s,t]),this}}),l=s.props,c,p;for(Y(l,s.opts.specialEasing);i<a;i++)if(c=z.prefilters[i].call(s,e,l,s.opts),c)return ce.isFunction(c.stop)&&(ce._queueHooks(s.elem,s.opts.queue).stop=ce.proxy(c.stop,c)),c;return ce.map(l,W,s),ce.isFunction(s.opts.start)&&s.opts.start.call(e,s),ce.fx.timer(ce.extend(r,{elem:e,anim:s,queue:s.opts.queue})),s.progress(s.opts.progress).done(s.opts.done,s.opts.complete).fail(s.opts.fail).always(s.opts.always)}function X(e){return e.getAttribute&&e.getAttribute('class')||''}function V(e){return function(t,n){'string'!=typeof t&&(n=t,t='*');var o=0,i=t.toLowerCase().match(Fe)||[],a;if(ce.isFunction(n))for(;a=i[o++];)'+'===a[0]?(a=a.slice(1)||'*',(e[a]=e[a]||[]).unshift(n)):(e[a]=e[a]||[]).push(n)}}function U(e,t,n,o){function i(r){var s;return a[r]=!0,ce.each(e[r]||[],function(e,r){var l=r(t,n,o);return'string'!=typeof l||d||a[l]?d?!(s=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),s}var a={},d=e===Lt;return i(t.dataTypes[0])||!a['*']&&i('*')}function K(e,t){var n=ce.ajaxSettings.flatOptions||{},o,i;for(o in t)void 0!==t[o]&&((n[o]?e:i||(i={}))[o]=t[o]);return i&&ce.extend(!0,e,i),e}function $(e,t,n){for(var o=e.contents,i=e.dataTypes,a,d,r,s;'*'===i[0];)i.shift(),void 0==a&&(a=e.mimeType||t.getResponseHeader('Content-Type'));if(a)for(d in o)if(o[d]&&o[d].test(a)){i.unshift(d);break}if(i[0]in n)r=i[0];else{for(d in n){if(!i[0]||e.converters[d+' '+i[0]]){r=d;break}s||(s=d)}r=r||s}return r?(r!==i[0]&&i.unshift(r),n[r]):void 0}function G(e,t,n,o){var i={},a=e.dataTypes.slice(),d,r,s,l,c;if(a[1])for(s in e.converters)i[s.toLowerCase()]=e.converters[s];for(r=a.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!c&&o&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=r,r=a.shift(),r)if('*'===r)r=c;else if('*'!==c&&c!==r){if(s=i[c+' '+r]||i['* '+r],!s)for(d in i)if(l=d.split(' '),l[1]===r&&(s=i[c+' '+l[0]]||i['* '+l[0]],s)){!0===s?s=i[d]:!0!==i[d]&&(r=l[0],a.unshift(l[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(t){return{state:'parsererror',error:s?t:'No conversion from '+c+' to '+r}}}return{state:'success',data:t}}function Q(e,t,n,o){if(ce.isArray(t))ce.each(t,function(t,i){n||Pt.test(e)?o(e,i):Q(e+'['+('object'==typeof i&&null!=i?t:'')+']',i,n,o)});else if(!n&&'object'===ce.type(t))for(var i in t)Q(e+'['+i+']',t[i],n,o);else o(e,t)}function J(e){return ce.isWindow(e)?e:9===e.nodeType&&e.defaultView}var Z=[],ee=d.document,te=Z.slice,ne=Z.concat,oe=Z.push,ie=Z.indexOf,ae={},de=ae.toString,re=ae.hasOwnProperty,se={},le='2.2.4',ce=function(e,t){return new ce.fn.init(e,t)},pe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,he=/^-ms-/,ge=/-([\da-z])/gi,ue=function(e,t){return t.toUpperCase()};ce.fn=ce.prototype={jquery:le,constructor:ce,selector:'',length:0,toArray:function(){return te.call(this)},get:function(e){return null==e?te.call(this):0>e?this[e+this.length]:this[e]},pushStack:function(e){var t=ce.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return ce.each(this,e)},map:function(e){return this.pushStack(ce.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(te.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:oe,sort:Z.sort,splice:Z.splice},ce.extend=ce.fn.extend=function(){var e=arguments[0]||{},t=1,n=arguments.length,o=!1,i,a,d,r,s,l;for('boolean'==typeof e&&(o=e,e=arguments[t]||{},t++),'object'==typeof e||ce.isFunction(e)||(e={}),t===n&&(e=this,t--);t<n;t++)if(null!=(i=arguments[t]))for(a in i)(d=e[a],r=i[a],e!==r)&&(o&&r&&(ce.isPlainObject(r)||(s=ce.isArray(r)))?(s?(s=!1,l=d&&ce.isArray(d)?d:[]):l=d&&ce.isPlainObject(d)?d:{},e[a]=ce.extend(o,l,r)):void 0!==r&&(e[a]=r));return e},ce.extend({expando:'jQuery'+(le+Math.random()).replace(/\D/g,''),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return'function'===ce.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!ce.isArray(e)&&0<=t-parseFloat(t)+1},isPlainObject:function(e){if('object'!==ce.type(e)||e.nodeType||ce.isWindow(e))return!1;if(e.constructor&&!re.call(e,'constructor')&&!re.call(e.constructor.prototype||{},'isPrototypeOf'))return!1;for(var t in e);return void 0==t||re.call(e,t)},isEmptyObject:function(e){for(var t in e)return!1;return!0},type:function(e){return null==e?e+'':'object'==typeof e||'function'==typeof e?ae[de.call(e)]||'object':typeof e},globalEval:function(e){var t=eval,n;e=ce.trim(e),e&&(1===e.indexOf('use strict')?(n=ee.createElement('script'),n.text=e,ee.head.appendChild(n).parentNode.removeChild(n)):t(e))},camelCase:function(e){return e.replace(he,'ms-').replace(ge,ue)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n=0,o;if(s(e))for(o=e.length;n<o&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?'':(e+'').replace(pe,'')},makeArray:function(e,t){var n=t||[];return null!=e&&(s(Object(e))?ce.merge(n,'string'==typeof e?[e]:e):oe.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:ie.call(t,e,n)},merge:function(e,t){for(var n=+t.length,o=0,a=e.length;o<n;o++)e[a++]=t[o];return e.length=a,e},grep:function(e,t,n){for(var o=[],a=0,i=e.length,d;a<i;a++)d=!t(e[a],a),d!==!n&&o.push(e[a]);return o},map:function(e,t,n){var o=0,i=[],a,d;if(s(e))for(a=e.length;o<a;o++)d=t(e[o],o,n),null!=d&&i.push(d);else for(o in e)d=t(e[o],o,n),null!=d&&i.push(d);return ne.apply([],i)},guid:1,proxy:function(e,t){var n,o,i;if('string'==typeof t&&(n=e[t],t=e,e=n),!!ce.isFunction(e))return o=te.call(arguments,2),i=function(){return e.apply(t||this,o.concat(te.call(arguments)))},i.guid=e.guid=e.guid||ce.guid++,i},now:Date.now,support:se}),'function'==typeof Symbol&&(ce.fn[Symbol.iterator]=Z[Symbol.iterator]),ce.each(['Boolean','Number','String','Function','Array','Date','RegExp','Object','Error','Symbol'],function(e,t){ae['[object '+t+']']=t.toLowerCase()});var me=function(e){function t(e,t,n,o){var a=t&&t.ownerDocument,d=t?t.nodeType:9,r,s,i,l,c,p,g,m;if(n=n||[],'string'!=typeof e||!e||1!==d&&9!==d&&11!==d)return n;if(!o&&((t?t.ownerDocument||t:k)!==me&&ue(t),t=t||me,ye)){if(11!==d&&(p=J.exec(e)))if(!(r=p[1])){if(p[2])return P.apply(n,t.getElementsByTagName(e)),n;if((r=p[3])&&ae.getElementsByClassName&&t.getElementsByClassName)return P.apply(n,t.getElementsByClassName(r)),n}else if(9===d){if(!(i=t.getElementById(r)))return n;if(i.id===r)return n.push(i),n}else if(a&&(i=a.getElementById(r))&&we(t,i)&&i.id===r)return n.push(i),n;if(ae.qsa&&!I[e+' ']&&(!xe||!xe.test(e))){if(1!==d)a=t,m=e;else if('object'!==t.nodeName.toLowerCase()){for((l=t.getAttribute('id'))?l=l.replace(ee,'\\$&'):t.setAttribute('id',l=E),g=se(e),s=g.length,c=U.test(l)?'#'+l:'[id=\''+l+'\']';s--;)g[s]=c+' '+u(g[s]);m=g.join(','),a=Z.test(e)&&h(t.parentNode)||t}if(m)try{return P.apply(n,a.querySelectorAll(m)),n}catch(e){}finally{l===E&&t.removeAttribute('id')}}}return ce(e.replace(W,'$1'),t,n,o)}function o(){function e(n,o){return t.push(n+' ')>de.cacheLength&&delete e[t.shift()],e[n+' ']=o}var t=[];return e}function a(e){return e[E]=!0,e}function d(e){var t=me.createElement('div');try{return!!e(t)}catch(t){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var n=e.split('|'),o=n.length;o--;)de.attrHandle[n[o]]=t}function s(e,t){var n=t&&e,o=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||A)-(~e.sourceIndex||A);if(o)return o;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return function(t){var n=t.nodeName.toLowerCase();return'input'===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return('input'===n||'button'===n)&&t.type===e}}function p(e){return a(function(t){return t=+t,a(function(n,o){for(var a=e([],n.length,t),d=a.length,i;d--;)n[i=a[d]]&&(n[i]=!(o[i]=n[i]))})})}function h(e){return e&&'undefined'!=typeof e.getElementsByTagName&&e}function g(){}function u(e){for(var t=0,n=e.length,o='';t<n;t++)o+=e[t].value;return o}function m(e,t,n){var o=t.dir,i=n&&'parentNode'===o,a=T++;return t.first?function(t,n,a){for(;t=t[o];)if(1===t.nodeType||i)return e(t,n,a)}:function(t,n,d){var r=[C,a],s,l,c;if(d){for(;t=t[o];)if((1===t.nodeType||i)&&e(t,n,d))return!0;}else for(;t=t[o];)if(1===t.nodeType||i){if(c=t[E]||(t[E]={}),l=c[t.uniqueID]||(c[t.uniqueID]={}),(s=l[o])&&s[0]===C&&s[1]===a)return r[2]=s[2];if(l[o]=r,r[2]=e(t,n,d))return!0}}}function f(e){return 1<e.length?function(t,n,o){for(var a=e.length;a--;)if(!e[a](t,n,o))return!1;return!0}:e[0]}function y(e,n,o){for(var a=0,i=n.length;a<i;a++)t(e,n[a],o);return o}function x(e,t,n,o,a){for(var d=[],r=0,i=e.length,s;r<i;r++)(s=e[r])&&(!n||n(s,o,a))&&(d.push(s),null!=t&&t.push(r));return d}function v(e,t,n,o,d,i){return o&&!o[E]&&(o=v(o)),d&&!d[E]&&(d=v(d,i)),a(function(a,r,s,l){var c=[],p=[],h=r.length,g=a||y(t||'*',s.nodeType?[s]:s,[]),u=e&&(a||!t)?x(g,c,e,s,l):g,m=n?d||(a?e:h||o)?[]:r:u,f,v,i;if(n&&n(u,m,s,l),o)for(f=x(m,p),o(f,[],s,l),v=f.length;v--;)(i=f[v])&&(m[p[v]]=!(u[p[v]]=i));if(!a)m=x(m===r?m.splice(h,m.length):m),d?d(null,r,m,l):P.apply(r,m);else if(d||e){if(d){for(f=[],v=m.length;v--;)(i=m[v])&&f.push(u[v]=i);d(null,m=[],f,l)}for(v=m.length;v--;)(i=m[v])&&-1<(f=d?M(a,i):c[v])&&(a[f]=!(r[f]=i))}})}function b(e){for(var t=e.length,n=de.relative[e[0].type],o=n||de.relative[' '],a=n?1:0,i=m(function(e){return e===s},o,!0),d=m(function(e){return-1<M(s,e)},o,!0),r=[function(e,t,o){var a=!n&&(o||t!==pe)||((s=t).nodeType?i(e,t,o):d(e,t,o));return s=null,a}],s,l,c;a<t;a++)if(l=de.relative[e[a].type])r=[m(f(r),l)];else{if(l=de.filter[e[a].type].apply(null,e[a].matches),l[E]){for(c=++a;c<t&&!de.relative[e[c].type];c++);return v(1<a&&f(r),1<a&&u(e.slice(0,a-1).concat({value:' '===e[a-2].type?'*':''})).replace(W,'$1'),l,a<c&&b(e.slice(a,c)),c<t&&b(e=e.slice(c)),c<t&&u(e))}r.push(l)}return f(r)}function w(e,n){var o=0<n.length,d=0<e.length,i=function(a,r,s,l,c){var p=0,h='0',i=a&&[],g=[],u=pe,m=a||d&&de.find.TAG('*',c),f=C+=null==u?1:Math.random()||0.1,y=m.length,v,b,w;for(c&&(pe=r===me||r||c);h!==y&&null!=(v=m[h]);h++){if(d&&v){for(b=0,r||v.ownerDocument===me||(ue(v),s=!ye);w=e[b++];)if(w(v,r||me,s)){l.push(v);break}c&&(C=f)}o&&((v=!w&&v)&&p--,a&&i.push(v))}if(p+=h,o&&h!==p){for(b=0;w=n[b++];)w(i,g,r,s);if(a){if(0<p)for(;h--;)i[h]||g[h]||(g[h]=D.call(l));g=x(g)}P.apply(l,g),c&&!a&&0<g.length&&1<p+n.length&&t.uniqueSort(l)}return c&&(C=f,pe=u),i};return o?a(i):i}var E='sizzle'+1*new Date,k=e.document,C=0,T=0,F=o(),S=o(),I=o(),N=function(e,t){return e===t&&(ge=!0),0},A=-2147483648,L={}.hasOwnProperty,R=[],D=R.pop,j=R.push,P=R.push,O=R.slice,M=function(e,t){for(var n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},B='checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped',_='[\\x20\\t\\r\\n\\f]',q='(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+',H=/[\x20\t\r\n\f]+/g,W=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,Y=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,z=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,X=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,V=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,U=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,K={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},$=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,ee=/'|\\/g,te=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,ne=function(e,t,o){var i='0x'+t-65536;return i!=i||o?t:0>i?n(i+65536):n(55296|i>>10,56320|1023&i)},oe=function(){ue()},ie,ae,de,re,i,se,le,ce,pe,he,ge,ue,me,fe,ye,xe,ve,be,we;try{P.apply(R=O.call(k.childNodes),k.childNodes),R[k.childNodes.length].nodeType}catch(t){P={apply:R.length?function(e,t){j.apply(e,O.call(t))}:function(e,t){for(var n=e.length,o=0;e[n++]=t[o++];);e.length=n-1}}}for(ie in ae=t.support={},i=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&'HTML'!==t.nodeName},ue=t.setDocument=function(e){var t=e?e.ownerDocument||e:k,n,o;return t!==me&&9===t.nodeType&&t.documentElement?(me=t,fe=me.documentElement,ye=!i(me),(o=me.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener('unload',oe,!1):o.attachEvent&&o.attachEvent('onunload',oe)),ae.attributes=d(function(e){return e.className='i',!e.getAttribute('className')}),ae.getElementsByTagName=d(function(e){return e.appendChild(me.createComment('')),!e.getElementsByTagName('*').length}),ae.getElementsByClassName=Q.test(me.getElementsByClassName),ae.getById=d(function(e){return fe.appendChild(e).id=E,!me.getElementsByName||!me.getElementsByName(E).length}),ae.getById?(de.find.ID=function(e,t){if('undefined'!=typeof t.getElementById&&ye){var n=t.getElementById(e);return n?[n]:[]}},de.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute('id')===t}}):(delete de.find.ID,de.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n='undefined'!=typeof e.getAttributeNode&&e.getAttributeNode('id');return n&&n.value===t}}),de.find.TAG=ae.getElementsByTagName?function(e,t){return'undefined'==typeof t.getElementsByTagName?ae.qsa?t.querySelectorAll(e):void 0:t.getElementsByTagName(e)}:function(e,t){var n=[],o=0,i=t.getElementsByTagName(e),a;if('*'===e){for(;a=i[o++];)1===a.nodeType&&n.push(a);return n}return i},de.find.CLASS=ae.getElementsByClassName&&function(e,t){if('undefined'!=typeof t.getElementsByClassName&&ye)return t.getElementsByClassName(e)},ve=[],xe=[],(ae.qsa=Q.test(me.querySelectorAll))&&(d(function(e){fe.appendChild(e).innerHTML='<a id=\''+E+'\'></a><select id=\''+E+'-\r\\\' msallowcapture=\'\'><option selected=\'\'></option></select>',e.querySelectorAll('[msallowcapture^=\'\']').length&&xe.push('[*^$]='+_+'*(?:\'\'|"")'),e.querySelectorAll('[selected]').length||xe.push('\\['+_+'*(?:value|'+B+')'),e.querySelectorAll('[id~='+E+'-]').length||xe.push('~='),e.querySelectorAll(':checked').length||xe.push(':checked'),e.querySelectorAll('a#'+E+'+*').length||xe.push('.#.+[+~]')}),d(function(e){var t=me.createElement('input');t.setAttribute('type','hidden'),e.appendChild(t).setAttribute('name','D'),e.querySelectorAll('[name=d]').length&&xe.push('name'+_+'*[*^$|!~]?='),e.querySelectorAll(':enabled').length||xe.push(':enabled',':disabled'),e.querySelectorAll('*,:x'),xe.push(',.*:')})),(ae.matchesSelector=Q.test(be=fe.matches||fe.webkitMatchesSelector||fe.mozMatchesSelector||fe.oMatchesSelector||fe.msMatchesSelector))&&d(function(e){ae.disconnectedMatch=be.call(e,'div'),be.call(e,'[s!=\'\']:x'),ve.push('!=',':('+q+')(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|'+('\\['+_+'*('+q+')(?:'+_+'*([*^$|!~]?=)'+_+'*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|('+q+'))|)'+_+'*\\]')+')*)|.*)\\)|)')}),xe=xe.length&&new RegExp(xe.join('|')),ve=ve.length&&new RegExp(ve.join('|')),n=Q.test(fe.compareDocumentPosition),we=n||Q.test(fe.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,o=t&&t.parentNode;return e===o||!!(o&&1===o.nodeType&&(n.contains?n.contains(o):e.compareDocumentPosition&&16&e.compareDocumentPosition(o)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},N=n?function(e,t){if(e===t)return ge=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!ae.sortDetached&&t.compareDocumentPosition(e)===n?e===me||e.ownerDocument===k&&we(k,e)?-1:t===me||t.ownerDocument===k&&we(k,t)?1:he?M(he,e)-M(he,t):0:4&n?-1:1)}:function(e,t){if(e===t)return ge=!0,0;var n=0,o=e.parentNode,i=t.parentNode,a=[e],d=[t],r;if(!o||!i)return e===me?-1:t===me?1:o?-1:i?1:he?M(he,e)-M(he,t):0;if(o===i)return s(e,t);for(r=e;r=r.parentNode;)a.unshift(r);for(r=t;r=r.parentNode;)d.unshift(r);for(;a[n]===d[n];)n++;return n?s(a[n],d[n]):a[n]===k?-1:d[n]===k?1:0},me):me},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==me&&ue(e),n=n.replace(X,'=\'$1\']'),ae.matchesSelector&&ye&&!I[n+' ']&&(!ve||!ve.test(n))&&(!xe||!xe.test(n)))try{var o=be.call(e,n);if(o||ae.disconnectedMatch||e.document&&11!==e.document.nodeType)return o}catch(t){}return 0<t(n,me,null,[e]).length},t.contains=function(e,t){return(e.ownerDocument||e)!==me&&ue(e),we(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==me&&ue(e);var n=de.attrHandle[t.toLowerCase()],o=n&&L.call(de.attrHandle,t.toLowerCase())?n(e,t,!ye):void 0;return void 0===o?ae.attributes||!ye?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null:o},t.error=function(e){throw new Error('Syntax error, unrecognized expression: '+e)},t.uniqueSort=function(e){var t=[],n=0,o=0,i;if(ge=!ae.detectDuplicates,he=!ae.sortStable&&e.slice(0),e.sort(N),ge){for(;i=e[o++];)i===e[o]&&(n=t.push(o));for(;n--;)e.splice(t[n],1)}return he=null,e},re=t.getText=function(e){var t='',n=0,o=e.nodeType,i;if(!o)for(;i=e[n++];)t+=re(i);else if(1===o||9===o||11===o){if('string'==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)t+=re(e)}else if(3===o||4===o)return e.nodeValue;return t},de=t.selectors={cacheLength:50,createPseudo:a,match:K,attrHandle:{},find:{},relative:{">":{dir:'parentNode',first:!0}," ":{dir:'parentNode'},"+":{dir:'previousSibling',first:!0},"~":{dir:'previousSibling'}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||'').replace(te,ne),'~='===e[2]&&(e[3]=' '+e[3]+' '),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),'nth'===e[1].slice(0,3)?(!e[3]&&t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*('even'===e[3]||'odd'===e[3])),e[5]=+(e[7]+e[8]||'odd'===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t=!e[6]&&e[2],n;return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||'':t&&V.test(t)&&(n=se(t,!0))&&(n=t.indexOf(')',t.length-n)-t.length)&&(e[0]=e[0].slice(0,n),e[2]=t.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return'*'===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=F[e+' '];return t||(t=new RegExp('(^|'+_+')'+e+'('+_+'|$)'))&&F(e,function(e){return t.test('string'==typeof e.className&&e.className||'undefined'!=typeof e.getAttribute&&e.getAttribute('class')||'')})},ATTR:function(e,n,o){return function(i){var a=t.attr(i,e);return null==a?'!='===n:!n||(a+='','='===n?a===o:'!='===n?a!==o:'^='===n?o&&0===a.indexOf(o):'*='===n?o&&-1<a.indexOf(o):'$='===n?o&&a.slice(-o.length)===o:'~='===n?-1<(' '+a.replace(H,' ')+' ').indexOf(o):'|='===n&&(a===o||a.slice(0,o.length+1)===o+'-'))}},CHILD:function(e,t,n,o,i){var a='nth'!==e.slice(0,3),d='last'!==e.slice(-4),r='of-type'===t;return 1===o&&0===i?function(e){return!!e.parentNode}:function(t,n,s){var l=a==d?'previousSibling':'nextSibling',c=t.parentNode,p=r&&t.nodeName.toLowerCase(),h=!s&&!r,g=!1,u,m,f,y,x,v;if(c){if(a){for(;l;){for(y=t;y=y[l];)if(r?y.nodeName.toLowerCase()===p:1===y.nodeType)return!1;v=l='only'===e&&!v&&'nextSibling'}return!0}if(v=[d?c.firstChild:c.lastChild],d&&h){for(y=c,f=y[E]||(y[E]={}),m=f[y.uniqueID]||(f[y.uniqueID]={}),u=m[e]||[],x=u[0]===C&&u[1],g=x&&u[2],y=x&&c.childNodes[x];y=++x&&y&&y[l]||(g=x=0)||v.pop();)if(1===y.nodeType&&++g&&y===t){m[e]=[C,x,g];break}}else if(h&&(y=t,f=y[E]||(y[E]={}),m=f[y.uniqueID]||(f[y.uniqueID]={}),u=m[e]||[],x=u[0]===C&&u[1],g=x),!1===g)for(;(y=++x&&y&&y[l]||(g=x=0)||v.pop())&&!((r?y.nodeName.toLowerCase()===p:1===y.nodeType)&&++g&&(h&&(f=y[E]||(y[E]={}),m=f[y.uniqueID]||(f[y.uniqueID]={}),m[e]=[C,g]),y===t)););return g-=i,g===o||0==g%o&&0<=g/o}}},PSEUDO:function(e,n){var o=de.pseudos[e]||de.setFilters[e.toLowerCase()]||t.error('unsupported pseudo: '+e),i;return o[E]?o(n):1<o.length?(i=[e,e,'',n],de.setFilters.hasOwnProperty(e.toLowerCase())?a(function(e,t){for(var a=o(e,n),d=a.length,i;d--;)i=M(e,a[d]),e[i]=!(t[i]=a[d])}):function(e){return o(e,0,i)}):o}},pseudos:{not:a(function(e){var t=[],n=[],o=le(e.replace(W,'$1'));return o[E]?a(function(e,t,n,a){for(var d=o(e,null,a,[]),r=e.length,i;r--;)(i=d[r])&&(e[r]=!(t[r]=i))}):function(e,i,a){return t[0]=e,o(t,null,a,n),t[0]=null,!n.pop()}}),has:a(function(e){return function(n){return 0<t(e,n).length}}),contains:a(function(e){return e=e.replace(te,ne),function(t){return-1<(t.textContent||t.innerText||re(t)).indexOf(e)}}),lang:a(function(e){return U.test(e||'')||t.error('unsupported lang: '+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do if(n=ye?t.lang:t.getAttribute('xml:lang')||t.getAttribute('lang'))return n=n.toLowerCase(),n===e||0===n.indexOf(e+'-');while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===fe},focus:function(e){return e===me.activeElement&&(!me.hasFocus||me.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return'input'===t&&!!e.checked||'option'===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(6>e.nodeType)return!1;return!0},parent:function(e){return!de.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return $.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return'input'===t&&'button'===e.type||'button'===t},text:function(e){var t;return'input'===e.nodeName.toLowerCase()&&'text'===e.type&&(null==(t=e.getAttribute('type'))||'text'===t.toLowerCase())},first:p(function(){return[0]}),last:p(function(e,t){return[t-1]}),eq:p(function(e,t,n){return[0>n?n+t:n]}),even:p(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:p(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:p(function(e,t,n){for(var o=0>n?n+t:n;0<=--o;)e.push(o);return e}),gt:p(function(e,t,n){for(var o=0>n?n+t:n;++o<t;)e.push(o);return e})}},de.pseudos.nth=de.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})de.pseudos[ie]=l(ie);for(ie in{submit:!0,reset:!0})de.pseudos[ie]=c(ie);return g.prototype=de.filters=de.pseudos,de.setFilters=new g,se=t.tokenize=function(e,n){var o=S[e+' '],i,a,d,r,s,l,c;if(o)return n?0:o.slice(0);for(s=e,l=[],c=de.preFilter;s;){for(r in(!i||(a=Y.exec(s)))&&(a&&(s=s.slice(a[0].length)||s),l.push(d=[])),i=!1,(a=z.exec(s))&&(i=a.shift(),d.push({value:i,type:a[0].replace(W,' ')}),s=s.slice(i.length)),de.filter)(a=K[r].exec(s))&&(!c[r]||(a=c[r](a)))&&(i=a.shift(),d.push({value:i,type:r,matches:a}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):S(e,l).slice(0)},le=t.compile=function(e,t){var n=[],o=[],a=I[e+' '],d;if(!a){for(t||(t=se(e)),d=t.length;d--;)a=b(t[d]),a[E]?n.push(a):o.push(a);a=I(e,w(o,n)),a.selector=e}return a},ce=t.select=function(e,t,n,o){var a='function'==typeof e&&e,d=!o&&se(e=a.selector||e),r,i,s,l,c;if(n=n||[],1===d.length){if(i=d[0]=d[0].slice(0),2<i.length&&'ID'===(s=i[0]).type&&ae.getById&&9===t.nodeType&&ye&&de.relative[i[1].type]){if(t=(de.find.ID(s.matches[0].replace(te,ne),t)||[])[0],!t)return n;a&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(r=K.needsContext.test(e)?0:i.length;r--&&(s=i[r],!de.relative[l=s.type]);)if((c=de.find[l])&&(o=c(s.matches[0].replace(te,ne),Z.test(i[0].type)&&h(t.parentNode)||t))){if(i.splice(r,1),e=o.length&&u(i),!e)return P.apply(n,o),n;break}}return(a||le(e,d))(o,t,!ye,n,!t||Z.test(e)&&h(t.parentNode)||t),n},ae.sortStable=E.split('').sort(N).join('')===E,ae.detectDuplicates=!!ge,ue(),ae.sortDetached=d(function(e){return 1&e.compareDocumentPosition(me.createElement('div'))}),d(function(e){return e.innerHTML='<a href=\'#\'></a>','#'===e.firstChild.getAttribute('href')})||r('type|href|height|width',function(e,t,n){if(!n)return e.getAttribute(t,'type'===t.toLowerCase()?1:2)}),ae.attributes&&d(function(e){return e.innerHTML='<input/>',e.firstChild.setAttribute('value',''),''===e.firstChild.getAttribute('value')})||r('value',function(e,t,n){if(!n&&'input'===e.nodeName.toLowerCase())return e.defaultValue}),d(function(e){return null==e.getAttribute('disabled')})||r(B,function(e,t,n){var o;if(!n)return!0===e[t]?t.toLowerCase():(o=e.getAttributeNode(t))&&o.specified?o.value:null}),t}(d);ce.find=me,ce.expr=me.selectors,ce.expr[':']=ce.expr.pseudos,ce.uniqueSort=ce.unique=me.uniqueSort,ce.text=me.getText,ce.isXMLDoc=me.isXML,ce.contains=me.contains;var fe=function(e,t,n){for(var o=[];(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(void 0!==n&&ce(e).is(n))break;o.push(e)}return o},ye=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},xe=ce.expr.match.needsContext,ve=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,be=/^.[^:#\[\.,]*$/;ce.filter=function(e,t,n){var o=t[0];return n&&(e=':not('+e+')'),1===t.length&&1===o.nodeType?ce.find.matchesSelector(o,e)?[o]:[]:ce.find.matches(e,ce.grep(t,function(e){return 1===e.nodeType}))},ce.fn.extend({find:function(e){var t=this.length,n=[],o=this,a;if('string'!=typeof e)return this.pushStack(ce(e).filter(function(){for(a=0;a<t;a++)if(ce.contains(o[a],this))return!0}));for(a=0;a<t;a++)ce.find(e,o[a],n);return n=this.pushStack(1<t?ce.unique(n):n),n.selector=this.selector?this.selector+' '+e:e,n},filter:function(e){return this.pushStack(l(this,e||[],!1))},not:function(e){return this.pushStack(l(this,e||[],!0))},is:function(e){return!!l(this,'string'==typeof e&&xe.test(e)?ce(e):e||[],!1).length}});var we=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,Ee=ce.fn.init=function(e,t,n){var o,i;if(!e)return this;if(n=n||ke,'string'==typeof e){if(o='<'===e[0]&&'>'===e[e.length-1]&&3<=e.length?[null,e,null]:we.exec(e),o&&(o[1]||!t)){if(o[1]){if(t=t instanceof ce?t[0]:t,ce.merge(this,ce.parseHTML(o[1],t&&t.nodeType?t.ownerDocument||t:ee,!0)),ve.test(o[1])&&ce.isPlainObject(t))for(o in t)ce.isFunction(this[o])?this[o](t[o]):this.attr(o,t[o]);return this}return i=ee.getElementById(o[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=ee,this.selector=e,this}return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e)}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ce.isFunction(e)?void 0===n.ready?e(ce):n.ready(e):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ce.makeArray(e,this))},ke;Ee.prototype=ce.fn,ke=ce(ee);var Ce=/^(?:parents|prev(?:Until|All))/,Te={children:!0,contents:!0,next:!0,prev:!0};ce.fn.extend({has:function(e){var t=ce(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(ce.contains(this,t[e]))return!0})},closest:function(e,t){for(var n=0,o=this.length,i=[],a=xe.test(e)||'string'!=typeof e?ce(e,t||this.context):0,d;n<o;n++)for(d=this[n];d&&d!==t;d=d.parentNode)if(11>d.nodeType&&(a?-1<a.index(d):1===d.nodeType&&ce.find.matchesSelector(d,e))){i.push(d);break}return this.pushStack(1<i.length?ce.uniqueSort(i):i)},index:function(e){return e?'string'==typeof e?ie.call(ce(e),this[0]):ie.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ce.uniqueSort(ce.merge(this.get(),ce(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ce.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return fe(e,'parentNode')},parentsUntil:function(e,t,n){return fe(e,'parentNode',n)},next:function(e){return c(e,'nextSibling')},prev:function(e){return c(e,'previousSibling')},nextAll:function(e){return fe(e,'nextSibling')},prevAll:function(e){return fe(e,'previousSibling')},nextUntil:function(e,t,n){return fe(e,'nextSibling',n)},prevUntil:function(e,t,n){return fe(e,'previousSibling',n)},siblings:function(e){return ye((e.parentNode||{}).firstChild,e)},children:function(e){return ye(e.firstChild)},contents:function(e){return e.contentDocument||ce.merge([],e.childNodes)}},function(e,t){ce.fn[e]=function(n,o){var i=ce.map(this,t,n);return'Until'!==e.slice(-5)&&(o=n),o&&'string'==typeof o&&(i=ce.filter(o,i)),1<this.length&&(!Te[e]&&ce.uniqueSort(i),Ce.test(e)&&i.reverse()),this.pushStack(i)}});var Fe=/\S+/g;ce.Callbacks=function(e){e='string'==typeof e?p(e):ce.extend({},e);var t=[],n=[],o=-1,i=function(){for(l=e.once,s=d=!0;n.length;o=-1)for(r=n.shift();++o<t.length;)!1===t[o].apply(r[0],r[1])&&e.stopOnFalse&&(o=t.length,r=!1);e.memory||(r=!1),d=!1,l&&(r?t=[]:t='')},a={add:function(){return t&&(r&&!d&&(o=t.length-1,n.push(r)),function n(o){ce.each(o,function(o,i){ce.isFunction(i)?(!e.unique||!a.has(i))&&t.push(i):i&&i.length&&'string'!==ce.type(i)&&n(i)})}(arguments),r&&!d&&i()),this},remove:function(){return ce.each(arguments,function(e,n){for(var i;-1<(i=ce.inArray(n,t,i));)t.splice(i,1),i<=o&&o--}),this},has:function(e){return e?-1<ce.inArray(e,t):0<t.length},empty:function(){return t&&(t=[]),this},disable:function(){return l=n=[],t=r='',this},disabled:function(){return!t},lock:function(){return l=n=[],r||(t=r=''),this},locked:function(){return!!l},fireWith:function(e,t){return l||(t=t||[],t=[e,t.slice?t.slice():t],n.push(t),!d&&i()),this},fire:function(){return a.fireWith(this,arguments),this},fired:function(){return!!s}},d,r,s,l;return a},ce.extend({Deferred:function(e){var t=[['resolve','done',ce.Callbacks('once memory'),'resolved'],['reject','fail',ce.Callbacks('once memory'),'rejected'],['notify','progress',ce.Callbacks('memory')]],n='pending',o={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ce.Deferred(function(n){ce.each(t,function(t,i){var d=ce.isFunction(e[t])&&e[t];a[i[1]](function(){var e=d&&d.apply(this,arguments);e&&ce.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+'With'](this===o?n.promise():this,d?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null==e?o:ce.extend(e,o)}},a={};return o.pipe=o.then,ce.each(t,function(e,i){var d=i[2],r=i[3];o[i[1]]=d.add,r&&d.add(function(){n=r},t[1^e][2].disable,t[2][2].lock),a[i[0]]=function(){return a[i[0]+'With'](this===a?o:this,arguments),this},a[i[0]+'With']=d.fireWith}),o.promise(a),e&&e.call(a,a),a},when:function(e){var t=0,n=te.call(arguments),o=n.length,a=1!==o||e&&ce.isFunction(e.promise)?o:0,d=1===a?e:ce.Deferred(),i=function(e,t,n){return function(o){t[e]=this,n[e]=1<arguments.length?te.call(arguments):o,n===r?d.notifyWith(t,n):! --a&&d.resolveWith(t,n)}},r,s,l;if(1<o)for(r=Array(o),s=Array(o),l=Array(o);t<o;t++)n[t]&&ce.isFunction(n[t].promise)?n[t].promise().progress(i(t,s,r)).done(i(t,l,n)).fail(d.reject):--a;return a||d.resolveWith(l,n),d.promise()}});var Se;ce.fn.ready=function(e){return ce.ready.promise().done(e),this},ce.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ce.readyWait++:ce.ready(!0)},ready:function(e){(!0===e?! --ce.readyWait:!ce.isReady)&&(ce.isReady=!0,!0!==e&&0<--ce.readyWait||(Se.resolveWith(ee,[ce]),ce.fn.triggerHandler&&(ce(ee).triggerHandler('ready'),ce(ee).off('ready'))))}}),ce.ready.promise=function(e){return Se||(Se=ce.Deferred(),'complete'!==ee.readyState&&('loading'===ee.readyState||ee.documentElement.doScroll)?(ee.addEventListener('DOMContentLoaded',h),d.addEventListener('load',h)):d.setTimeout(ce.ready)),Se.promise(e)},ce.ready.promise();var Ie=function(e,t,n,o,a,d,r){var s=0,i=e.length,l=null==n;if('object'===ce.type(n))for(s in a=!0,n)Ie(e,t,s,n[s],!0,d,r);else if(void 0!==o&&(a=!0,ce.isFunction(o)||(r=!0),l&&(r?(t.call(e,o),t=null):(l=t,t=function(e,t,n){return l.call(ce(e),n)})),t))for(;s<i;s++)t(e[s],n,r?o:o.call(e[s],s,t(e[s],n)));return a?e:l?t.call(e):i?t(e[0],n):d},Ne=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};g.uid=1,g.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!Ne(e))return{};var t=e[this.expando];return t||(t={},Ne(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var o=this.cache(e),i;if('string'==typeof t)o[t]=n;else for(i in t)o[i]=t[i];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var o;return void 0===t||t&&'string'==typeof t&&void 0===n?(o=this.get(e,t),void 0===o?this.get(e,ce.camelCase(t)):o):(this.set(e,t,n),void 0===n?t:n)},remove:function(e,t){var n=e[this.expando],o,i,a;if(void 0!==n){if(void 0===t)this.register(e);else for(ce.isArray(t)?i=t.concat(t.map(ce.camelCase)):(a=ce.camelCase(t),(t in n)?i=[t,a]:(i=a,i=(i in n)?[i]:i.match(Fe)||[])),o=i.length;o--;)delete n[i[o]];(void 0===t||ce.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ce.isEmptyObject(t)}};var Ae=new g,Le=new g,Re=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,De=/[A-Z]/g;ce.extend({hasData:function(e){return Le.hasData(e)||Ae.hasData(e)},data:function(e,t,n){return Le.access(e,t,n)},removeData:function(e,t){Le.remove(e,t)},_data:function(e,t,n){return Ae.access(e,t,n)},_removeData:function(e,t){Ae.remove(e,t)}}),ce.fn.extend({data:function(e,t){var n=this[0],o=n&&n.attributes,a,i,d;if(void 0===e){if(this.length&&(d=Le.get(n),1===n.nodeType&&!Ae.get(n,'hasDataAttrs'))){for(a=o.length;a--;)o[a]&&(i=o[a].name,0===i.indexOf('data-')&&(i=ce.camelCase(i.slice(5)),u(n,i,d[i])));Ae.set(n,'hasDataAttrs',!0)}return d}return'object'==typeof e?this.each(function(){Le.set(this,e)}):Ie(this,function(t){var o,i;return n&&void 0===t?(o=Le.get(n,e)||Le.get(n,e.replace(De,'-$&').toLowerCase()),void 0!==o)?o:(i=ce.camelCase(e),o=Le.get(n,i),void 0!==o)?o:(o=u(n,i,void 0),void 0===o?void 0:o):void(i=ce.camelCase(e),this.each(function(){var n=Le.get(this,i);Le.set(this,i,t),-1<e.indexOf('-')&&void 0!==n&&Le.set(this,e,t)}))},null,t,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Le.remove(this,e)})}}),ce.extend({queue:function(e,t,n){var o;if(e)return t=(t||'fx')+'queue',o=Ae.get(e,t),n&&(!o||ce.isArray(n)?o=Ae.access(e,t,ce.makeArray(n)):o.push(n)),o||[]},dequeue:function(e,t){t=t||'fx';var n=ce.queue(e,t),o=n.length,i=n.shift(),a=ce._queueHooks(e,t);'inprogress'===i&&(i=n.shift(),o--),i&&('fx'===t&&n.unshift('inprogress'),delete a.stop,i.call(e,function(){ce.dequeue(e,t)},a)),!o&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+'queueHooks';return Ae.get(e,n)||Ae.access(e,n,{empty:ce.Callbacks('once memory').add(function(){Ae.remove(e,[t+'queue',n])})})}}),ce.fn.extend({queue:function(e,t){var n=2;return'string'!=typeof e&&(t=e,e='fx',n--),arguments.length<n?ce.queue(this[0],e):void 0===t?this:this.each(function(){var n=ce.queue(this,e,t);ce._queueHooks(this,e),'fx'===e&&'inprogress'!==n[0]&&ce.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ce.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||'fx',[])},promise:function(e,t){var n=1,o=ce.Deferred(),a=this,d=this.length,i=function(){--n||o.resolveWith(a,[a])},r;for('string'!=typeof e&&(t=e,e=void 0),e=e||'fx';d--;)r=Ae.get(a[d],e+'queueHooks'),r&&r.empty&&(n++,r.empty.add(i));return i(),o.promise(t)}});var je=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Pe=new RegExp('^(?:([+-])=|)('+je+')([a-z%]*)$','i'),Oe=['Top','Right','Bottom','Left'],Me=function(e,t){return e=t||e,'none'===ce.css(e,'display')||!ce.contains(e.ownerDocument,e)},Be=/^(?:checkbox|radio)$/i,_e=/<([\w:-]+)/,qe=/^$|\/(?:java|ecma)script/i,He={option:[1,'<select multiple=\'multiple\'>','</select>'],thead:[1,'<table>','</table>'],col:[2,'<table><colgroup>','</colgroup></table>'],tr:[2,'<table><tbody>','</tbody></table>'],td:[3,'<table><tbody><tr>','</tr></tbody></table>'],_default:[0,'','']};He.optgroup=He.option,He.tbody=He.tfoot=He.colgroup=He.caption=He.thead,He.th=He.td;var We=/<|&#?\w+;/;(function(){var e=ee.createDocumentFragment(),t=e.appendChild(ee.createElement('div')),n=ee.createElement('input');n.setAttribute('type','radio'),n.setAttribute('checked','checked'),n.setAttribute('name','t'),t.appendChild(n),se.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML='<textarea>x</textarea>',se.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue})();var Ye=/^key/,ze=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Xe=/^([^.]*)(?:\.(.+)|)/;ce.event={global:{},add:function(n,e,o,i,a){var d=Ae.get(n),r,s,l,c,p,t,h,g,u,m,f;if(d)for(o.handler&&(r=o,o=r.handler,a=r.selector),o.guid||(o.guid=ce.guid++),(c=d.events)||(c=d.events={}),(s=d.handle)||(s=d.handle=function(t){return'undefined'!=typeof ce&&ce.event.triggered!==t.type?ce.event.dispatch.apply(n,arguments):void 0}),e=(e||'').match(Fe)||[''],p=e.length;p--;)(l=Xe.exec(e[p])||[],u=f=l[1],m=(l[2]||'').split('.').sort(),!!u)&&(h=ce.event.special[u]||{},u=(a?h.delegateType:h.bindType)||u,h=ce.event.special[u]||{},t=ce.extend({type:u,origType:f,data:i,handler:o,guid:o.guid,selector:a,needsContext:a&&ce.expr.match.needsContext.test(a),namespace:m.join('.')},r),(g=c[u])||(g=c[u]=[],g.delegateCount=0,(!h.setup||!1===h.setup.call(n,i,m,s))&&n.addEventListener&&n.addEventListener(u,s)),h.add&&(h.add.call(n,t),!t.handler.guid&&(t.handler.guid=o.guid)),a?g.splice(g.delegateCount++,0,t):g.push(t),ce.event.global[u]=!0)},remove:function(e,n,o,i,a){var d=Ae.hasData(e)&&Ae.get(e),r,s,l,c,p,t,h,g,u,m,f;if(d&&(c=d.events)){for(n=(n||'').match(Fe)||[''],p=n.length;p--;){if(l=Xe.exec(n[p])||[],u=f=l[1],m=(l[2]||'').split('.').sort(),!u){for(u in c)ce.event.remove(e,u+n[p],o,i,!0);continue}for(h=ce.event.special[u]||{},u=(i?h.delegateType:h.bindType)||u,g=c[u]||[],l=l[2]&&new RegExp('(^|\\.)'+m.join('\\.(?:.*\\.|)')+'(\\.|$)'),s=r=g.length;r--;)t=g[r],(a||f===t.origType)&&(!o||o.guid===t.guid)&&(!l||l.test(t.namespace))&&(!i||i===t.selector||'**'===i&&t.selector)&&(g.splice(r,1),t.selector&&g.delegateCount--,h.remove&&h.remove.call(e,t));s&&!g.length&&((!h.teardown||!1===h.teardown.call(e,m,d.handle))&&ce.removeEvent(e,u,d.handle),delete c[u])}ce.isEmptyObject(c)&&Ae.remove(e,'handle events')}},dispatch:function(e){e=ce.event.fix(e);var t=[],n=te.call(arguments),o=(Ae.get(this,'events')||{})[e.type]||[],a=ce.event.special[e.type]||{},d,i,r,s,l;if(n[0]=e,e.delegateTarget=this,!(a.preDispatch&&!1===a.preDispatch.call(this,e))){for(t=ce.event.handlers.call(this,e,o),d=0;(s=t[d++])&&!e.isPropagationStopped();)for(e.currentTarget=s.elem,i=0;(l=s.handlers[i++])&&!e.isImmediatePropagationStopped();)(!e.rnamespace||e.rnamespace.test(l.namespace))&&(e.handleObj=l,e.data=l.data,r=((ce.event.special[l.origType]||{}).handle||l.handler).apply(s.elem,n),void 0!==r&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return a.postDispatch&&a.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n=[],o=t.delegateCount,a=e.target,d,i,r,s;if(o&&a.nodeType&&('click'!==e.type||isNaN(e.button)||1>e.button))for(;a!==this;a=a.parentNode||this)if(1===a.nodeType&&(!0!==a.disabled||'click'!==e.type)){for(i=[],d=0;d<o;d++)s=t[d],r=s.selector+' ',void 0===i[r]&&(i[r]=s.needsContext?-1<ce(r,this).index(a):ce.find(r,this,null,[a]).length),i[r]&&i.push(s);i.length&&n.push({elem:a,handlers:i})}return o<t.length&&n.push({elem:this,handlers:t.slice(o)}),n},props:['altKey','bubbles','cancelable','ctrlKey','currentTarget','detail','eventPhase','metaKey','relatedTarget','shiftKey','target','timeStamp','view','which'],fixHooks:{},keyHooks:{props:['char','charCode','key','keyCode'],filter:function(e,t){return null==e.which&&(e.which=null==t.charCode?t.keyCode:t.charCode),e}},mouseHooks:{props:['button','buttons','clientX','clientY','offsetX','offsetY','pageX','pageY','screenX','screenY','toElement'],filter:function(e,t){var n=t.button,o,i,a;return null==e.pageX&&null!=t.clientX&&(o=e.target.ownerDocument||ee,i=o.documentElement,a=o.body,e.pageX=t.clientX+(i&&i.scrollLeft||a&&a.scrollLeft||0)-(i&&i.clientLeft||a&&a.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||a&&a.scrollTop||0)-(i&&i.clientTop||a&&a.clientTop||0)),e.which||void 0===n||(e.which=1&n?1:2&n?3:4&n?2:0),e}},fix:function(e){if(e[ce.expando])return e;var t=e.type,n=e,o=this.fixHooks[t],a,i,d;for(o||(this.fixHooks[t]=o=ze.test(t)?this.mouseHooks:Ye.test(t)?this.keyHooks:{}),d=o.props?this.props.concat(o.props):this.props,e=new ce.Event(n),a=d.length;a--;)i=d[a],e[i]=n[i];return e.target||(e.target=ee),3===e.target.nodeType&&(e.target=e.target.parentNode),o.filter?o.filter(e,n):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==w()&&this.focus)return this.focus(),!1},delegateType:'focusin'},blur:{trigger:function(){if(this===w()&&this.blur)return this.blur(),!1},delegateType:'focusout'},click:{trigger:function(){if('checkbox'===this.type&&this.click&&ce.nodeName(this,'input'))return this.click(),!1},_default:function(e){return ce.nodeName(e.target,'a')}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ce.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},ce.Event=function(e,t){return this instanceof ce.Event?void(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?v:b):this.type=e,t&&ce.extend(this,t),this.timeStamp=e&&e.timeStamp||ce.now(),this[ce.expando]=!0):new ce.Event(e,t)},ce.Event.prototype={constructor:ce.Event,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=v,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=v,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=v,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},ce.each({mouseenter:'mouseover',mouseleave:'mouseout',pointerenter:'pointerover',pointerleave:'pointerout'},function(e,t){ce.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n=this,o=e.relatedTarget,i=e.handleObj,a;return o&&(o===n||ce.contains(n,o))||(e.type=i.origType,a=i.handler.apply(this,arguments),e.type=t),a}}}),ce.fn.extend({on:function(e,t,n,o){return E(this,e,t,n,o)},one:function(e,t,n,o){return E(this,e,t,n,o,1)},off:function(e,t,n){var o,i;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,ce(e.delegateTarget).off(o.namespace?o.origType+'.'+o.namespace:o.origType,o.selector,o.handler),this;if('object'==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(!1===t||'function'==typeof t)&&(n=t,t=void 0),!1===n&&(n=b),this.each(function(){ce.event.remove(this,e,n,t)})}});var Ve=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ue=/<script|<style|<link/i,Ke=/checked\s*(?:[^=]|=\s*.checked.)/i,$e=/^true\/(.*)/,Ge=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ce.extend({htmlPrefilter:function(e){return e.replace(Ve,'<$1></$2>')},clone:function(e,t,n){var o=e.cloneNode(!0),a=ce.contains(e.ownerDocument,e),d,i,r,s;if(!se.noCloneChecked&&(1===e.nodeType||11===e.nodeType)&&!ce.isXMLDoc(e))for(s=f(o),r=f(e),(d=0,i=r.length);d<i;d++)S(r[d],s[d]);if(t)if(n)for(r=r||f(e),s=s||f(o),(d=0,i=r.length);d<i;d++)F(r[d],s[d]);else F(e,o);return s=f(o,'script'),0<s.length&&y(s,!a&&f(e,'script')),o},cleanData:function(e){for(var t=ce.event.special,n=0,o,i,a;void 0!==(i=e[n]);n++)if(Ne(i)){if(o=i[Ae.expando]){if(o.events)for(a in o.events)t[a]?ce.event.remove(i,a):ce.removeEvent(i,a,o.handle);i[Ae.expando]=void 0}i[Le.expando]&&(i[Le.expando]=void 0)}}}),ce.fn.extend({domManip:I,detach:function(e){return N(this,e,!0)},remove:function(e){return N(this,e)},text:function(e){return Ie(this,function(e){return void 0===e?ce.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return I(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=k(this,e);t.appendChild(e)}})},prepend:function(){return I(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=k(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return I(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return I(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e=0,t;null!=(t=this[e]);e++)1===t.nodeType&&(ce.cleanData(f(t,!1)),t.textContent='');return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ce.clone(this,e,t)})},html:function(e){return Ie(this,function(e){var t=this[0]||{},n=0,o=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if('string'==typeof e&&!Ue.test(e)&&!He[(_e.exec(e)||['',''])[1].toLowerCase()]){e=ce.htmlPrefilter(e);try{for(;n<o;n++)t=this[n]||{},1===t.nodeType&&(ce.cleanData(f(t,!1)),t.innerHTML=e);t=0}catch(t){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return I(this,arguments,function(t){var n=this.parentNode;0>ce.inArray(this,e)&&(ce.cleanData(f(this)),n&&n.replaceChild(t,this))},e)}}),ce.each({appendTo:'append',prependTo:'prepend',insertBefore:'before',insertAfter:'after',replaceAll:'replaceWith'},function(e,t){ce.fn[e]=function(e){for(var n=[],o=ce(e),a=o.length-1,d=0,i;d<=a;d++)i=d==a?this:this.clone(!0),ce(o[d])[t](i),oe.apply(n,i.get());return this.pushStack(n)}});var Qe={HTML:'block',BODY:'block'},Je=/^margin/,Ze=new RegExp('^('+je+')(?!px)[a-z%]+$','i'),et=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=d),t.getComputedStyle(e)},tt=function(e,t,n,o){var i={},a,d;for(d in t)i[d]=e.style[d],e.style[d]=t[d];for(d in a=n.apply(e,o||[]),t)e.style[d]=i[d];return a},nt=ee.documentElement,ot;(function(){function e(){n.style.cssText='-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%',n.innerHTML='',nt.appendChild(t);var e=d.getComputedStyle(n);o='1%'!==e.top,r='2px'===e.marginLeft,i='4px'===e.width,n.style.marginRight='50%',a='4px'===e.marginRight,nt.removeChild(t)}var t=ee.createElement('div'),n=ee.createElement('div'),o,i,a,r;n.style&&(n.style.backgroundClip='content-box',n.cloneNode(!0).style.backgroundClip='',se.clearCloneStyle='content-box'===n.style.backgroundClip,t.style.cssText='border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute',t.appendChild(n),ce.extend(se,{pixelPosition:function(){return e(),o},boxSizingReliable:function(){return null==i&&e(),i},pixelMarginRight:function(){return null==i&&e(),a},reliableMarginLeft:function(){return null==i&&e(),r},reliableMarginRight:function(){var e=n.appendChild(ee.createElement('div')),o;return e.style.cssText=n.style.cssText='-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0',e.style.marginRight=e.style.width='0',n.style.width='1px',nt.appendChild(t),o=!parseFloat(d.getComputedStyle(e).marginRight),nt.removeChild(t),n.removeChild(e),o}}))})();var it=/^(none|table(?!-c[ea]).+)/,at={position:'absolute',visibility:'hidden',display:'block'},dt={letterSpacing:'0',fontWeight:'400'},rt=['Webkit','O','Moz','ms'],st=ee.createElement('div').style;ce.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=R(e,'opacity');return''===n?'1':n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:'cssFloat'},style:function(e,t,n,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i=ce.camelCase(t),a=e.style,d,r,s;if(t=ce.cssProps[i]||(ce.cssProps[i]=j(i)||i),s=ce.cssHooks[t]||ce.cssHooks[i],void 0!==n){if(r=typeof n,'string'===r&&(d=Pe.exec(n))&&d[1]&&(n=m(e,t,d),r='number'),null==n||n!==n)return;'number'===r&&(n+=d&&d[3]||(ce.cssNumber[i]?'':'px')),se.clearCloneStyle||''!==n||0!==t.indexOf('background')||(a[t]='inherit'),s&&'set'in s&&void 0===(n=s.set(e,n,o))||(a[t]=n)}else return s&&'get'in s&&void 0!==(d=s.get(e,!1,o))?d:a[t]}},css:function(e,t,n,o){var i=ce.camelCase(t),a,d,r;return t=ce.cssProps[i]||(ce.cssProps[i]=j(i)||i),r=ce.cssHooks[t]||ce.cssHooks[i],r&&'get'in r&&(a=r.get(e,!0,n)),void 0===a&&(a=R(e,t,o)),'normal'===a&&t in dt&&(a=dt[t]),''===n||n?(d=parseFloat(a),!0===n||isFinite(d)?d||0:a):a}}),ce.each(['height','width'],function(e,t){ce.cssHooks[t]={get:function(e,n,o){if(n)return it.test(ce.css(e,'display'))&&0===e.offsetWidth?tt(e,at,function(){return M(e,t,o)}):M(e,t,o)},set:function(e,n,o){var i=o&&et(e),a=o&&O(e,t,o,'border-box'===ce.css(e,'boxSizing',!1,i),i),d;return a&&(d=Pe.exec(n))&&'px'!==(d[3]||'px')&&(e.style[t]=n,n=ce.css(e,t)),P(e,n,a)}}}),ce.cssHooks.marginLeft=D(se.reliableMarginLeft,function(e,t){if(t)return(parseFloat(R(e,'marginLeft'))||e.getBoundingClientRect().left-tt(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+'px'}),ce.cssHooks.marginRight=D(se.reliableMarginRight,function(e,t){if(t)return tt(e,{display:'inline-block'},R,[e,'marginRight'])}),ce.each({margin:'',padding:'',border:'Width'},function(e,t){ce.cssHooks[e+t]={expand:function(n){for(var o=0,i={},a='string'==typeof n?n.split(' '):[n];4>o;o++)i[e+Oe[o]+t]=a[o]||a[o-2]||a[0];return i}},Je.test(e)||(ce.cssHooks[e+t].set=P)}),ce.fn.extend({css:function(e,t){return Ie(this,function(e,t,n){var o={},a=0,i,d;if(ce.isArray(t)){for(i=et(e),d=t.length;a<d;a++)o[t[a]]=ce.css(e,t[a],!1,i);return o}return void 0===n?ce.css(e,t):ce.style(e,t,n)},e,t,1<arguments.length)},show:function(){return B(this,!0)},hide:function(){return B(this)},toggle:function(e){return'boolean'==typeof e?e?this.show():this.hide():this.each(function(){Me(this)?ce(this).show():ce(this).hide()})}}),ce.Tween=_,_.prototype={constructor:_,init:function(e,t,n,o,i,a){this.elem=e,this.prop=n,this.easing=i||ce.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=o,this.unit=a||(ce.cssNumber[n]?'':'px')},cur:function(){var e=_.propHooks[this.prop];return e&&e.get?e.get(this):_.propHooks._default.get(this)},run:function(e){var t=_.propHooks[this.prop],n;return this.pos=this.options.duration?n=ce.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):n=e,this.now=(this.end-this.start)*n+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),t&&t.set?t.set(this):_.propHooks._default.set(this),this}},_.prototype.init.prototype=_.prototype,_.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ce.css(e.elem,e.prop,''),t&&'auto'!==t?t:0)},set:function(e){ce.fx.step[e.prop]?ce.fx.step[e.prop](e):1===e.elem.nodeType&&(null!=e.elem.style[ce.cssProps[e.prop]]||ce.cssHooks[e.prop])?ce.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},_.propHooks.scrollTop=_.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ce.easing={linear:function(e){return e},swing:function(e){return 0.5-Math.cos(e*Math.PI)/2},_default:'swing'},ce.fx=_.prototype.init,ce.fx.step={};var lt=/^(?:toggle|show|hide)$/,ct=/queueHooks$/,pt,ht;ce.Animation=ce.extend(z,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return m(n.elem,e,Pe.exec(t),n),n}]},tweener:function(e,t){ce.isFunction(e)?(t=e,e=['*']):e=e.match(Fe);for(var n=0,o=e.length,i;n<o;n++)i=e[n],z.tweeners[i]=z.tweeners[i]||[],z.tweeners[i].unshift(t)},prefilters:[function(e,t,n){var o=this,i={},a=e.style,d=e.nodeType&&Me(e),r=Ae.get(e,'fxshow'),s,l,c,p,h,g,u,m;for(s in n.queue||(h=ce._queueHooks(e,'fx'),null==h.unqueued&&(h.unqueued=0,g=h.empty.fire,h.empty.fire=function(){h.unqueued||g()}),h.unqueued++,o.always(function(){o.always(function(){h.unqueued--,ce.queue(e,'fx').length||h.empty.fire()})})),1===e.nodeType&&('height'in t||'width'in t)&&(n.overflow=[a.overflow,a.overflowX,a.overflowY],u=ce.css(e,'display'),m='none'===u?Ae.get(e,'olddisplay')||L(e.nodeName):u,'inline'===m&&'none'===ce.css(e,'float')&&(a.display='inline-block')),n.overflow&&(a.overflow='hidden',o.always(function(){a.overflow=n.overflow[0],a.overflowX=n.overflow[1],a.overflowY=n.overflow[2]})),t)if(l=t[s],lt.exec(l)){if(delete t[s],c=c||'toggle'===l,l===(d?'hide':'show'))if('show'===l&&r&&void 0!==r[s])d=!0;else continue;i[s]=r&&r[s]||ce.style(e,s)}else u=void 0;if(!ce.isEmptyObject(i))for(s in r?'hidden'in r&&(d=r.hidden):r=Ae.access(e,'fxshow',{}),c&&(r.hidden=!d),d?ce(e).show():o.done(function(){ce(e).hide()}),o.done(function(){for(var t in Ae.remove(e,'fxshow'),i)ce.style(e,t,i[t])}),i)p=W(d?r[s]:0,s,o),s in r||(r[s]=p.start,d&&(p.end=p.start,p.start='width'===s||'height'===s?1:0));else'inline'===('none'===u?L(e.nodeName):u)&&(a.display=u)}],prefilter:function(e,t){t?z.prefilters.unshift(e):z.prefilters.push(e)}}),ce.speed=function(e,t,n){var o=e&&'object'==typeof e?ce.extend({},e):{complete:n||!n&&t||ce.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ce.isFunction(t)&&t};return o.duration=ce.fx.off?0:'number'==typeof o.duration?o.duration:o.duration in ce.fx.speeds?ce.fx.speeds[o.duration]:ce.fx.speeds._default,(null==o.queue||!0===o.queue)&&(o.queue='fx'),o.old=o.complete,o.complete=function(){ce.isFunction(o.old)&&o.old.call(this),o.queue&&ce.dequeue(this,o.queue)},o},ce.fn.extend({fadeTo:function(e,t,n,o){return this.filter(Me).css('opacity',0).show().end().animate({opacity:t},e,n,o)},animate:function(e,t,n,o){var i=ce.isEmptyObject(e),a=ce.speed(t,n,o),d=function(){var t=z(this,ce.extend({},e),a);(i||Ae.get(this,'finish'))&&t.stop(!0)};return d.finish=d,i||!1===a.queue?this.each(d):this.queue(a.queue,d)},stop:function(e,t,n){var o=function(e){var t=e.stop;delete e.stop,t(n)};return'string'!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||'fx',[]),this.each(function(){var t=!0,i=null!=e&&e+'queueHooks',a=ce.timers,d=Ae.get(this);if(i)d[i]&&d[i].stop&&o(d[i]);else for(i in d)d[i]&&d[i].stop&&ct.test(i)&&o(d[i]);for(i=a.length;i--;)a[i].elem===this&&(null==e||a[i].queue===e)&&(a[i].anim.stop(n),t=!1,a.splice(i,1));(t||!n)&&ce.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||'fx'),this.each(function(){var t=Ae.get(this),n=t[e+'queue'],o=t[e+'queueHooks'],i=ce.timers,a=n?n.length:0,d;for(t.finish=!0,ce.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),d=i.length;d--;)i[d].elem===this&&i[d].queue===e&&(i[d].anim.stop(!0),i.splice(d,1));for(d=0;d<a;d++)n[d]&&n[d].finish&&n[d].finish.call(this);delete t.finish})}}),ce.each(['toggle','show','hide'],function(e,t){var n=ce.fn[t];ce.fn[t]=function(e,o,i){return null==e||'boolean'==typeof e?n.apply(this,arguments):this.animate(H(t,!0),e,o,i)}}),ce.each({slideDown:H('show'),slideUp:H('hide'),slideToggle:H('toggle'),fadeIn:{opacity:'show'},fadeOut:{opacity:'hide'},fadeToggle:{opacity:'toggle'}},function(e,t){ce.fn[e]=function(e,n,o){return this.animate(t,e,n,o)}}),ce.timers=[],ce.fx.tick=function(){var e=0,t=ce.timers,n;for(pt=ce.now();e<t.length;e++)n=t[e],n()||t[e]!==n||t.splice(e--,1);t.length||ce.fx.stop(),pt=void 0},ce.fx.timer=function(e){ce.timers.push(e),e()?ce.fx.start():ce.timers.pop()},ce.fx.interval=13,ce.fx.start=function(){ht||(ht=d.setInterval(ce.fx.tick,ce.fx.interval))},ce.fx.stop=function(){d.clearInterval(ht),ht=null},ce.fx.speeds={slow:600,fast:200,_default:400},ce.fn.delay=function(e,t){return e=ce.fx?ce.fx.speeds[e]||e:e,t=t||'fx',this.queue(t,function(t,n){var o=d.setTimeout(t,e);n.stop=function(){d.clearTimeout(o)}})},function(){var e=ee.createElement('input'),t=ee.createElement('select'),n=t.appendChild(ee.createElement('option'));e.type='checkbox',se.checkOn=''!==e.value,se.optSelected=n.selected,t.disabled=!0,se.optDisabled=!n.disabled,e=ee.createElement('input'),e.value='t',e.type='radio',se.radioValue='t'===e.value}();var gt=ce.expr.attrHandle,ut;ce.fn.extend({attr:function(e,t){return Ie(this,ce.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){ce.removeAttr(this,e)})}}),ce.extend({attr:function(e,t,n){var o=e.nodeType,i,a;if(3!==o&&8!==o&&2!==o)return'undefined'==typeof e.getAttribute?ce.prop(e,t,n):(1===o&&ce.isXMLDoc(e)||(t=t.toLowerCase(),a=ce.attrHooks[t]||(ce.expr.match.bool.test(t)?ut:void 0)),void 0!==n)?null===n?void ce.removeAttr(e,t):a&&'set'in a&&void 0!==(i=a.set(e,n,t))?i:(e.setAttribute(t,n+''),n):a&&'get'in a&&null!==(i=a.get(e,t))?i:(i=ce.find.attr(e,t),null==i?void 0:i)},attrHooks:{type:{set:function(e,t){if(!se.radioValue&&'radio'===t&&ce.nodeName(e,'input')){var n=e.value;return e.setAttribute('type',t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n=0,o=t&&t.match(Fe),i,a;if(o&&1===e.nodeType)for(;i=o[n++];)a=ce.propFix[i]||i,ce.expr.match.bool.test(i)&&(e[a]=!1),e.removeAttribute(i)}}),ut={set:function(e,t,n){return!1===t?ce.removeAttr(e,n):e.setAttribute(n,n),n}},ce.each(ce.expr.match.bool.source.match(/\w+/g),function(e,t){var n=gt[t]||ce.find.attr;gt[t]=function(e,t,o){var i,a;return o||(a=gt[t],gt[t]=i,i=null==n(e,t,o)?null:t.toLowerCase(),gt[t]=a),i}});var mt=/^(?:input|select|textarea|button)$/i,ft=/^(?:a|area)$/i;ce.fn.extend({prop:function(e,t){return Ie(this,ce.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[ce.propFix[e]||e]})}}),ce.extend({prop:function(e,t,n){var o=e.nodeType,i,a;if(3!==o&&8!==o&&2!==o)return 1===o&&ce.isXMLDoc(e)||(t=ce.propFix[t]||t,a=ce.propHooks[t]),void 0===n?a&&'get'in a&&null!==(i=a.get(e,t))?i:e[t]:a&&'set'in a&&void 0!==(i=a.set(e,n,t))?i:e[t]=n},propHooks:{tabIndex:{get:function(e){var t=ce.find.attr(e,'tabindex');return t?parseInt(t,10):mt.test(e.nodeName)||ft.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:'htmlFor',class:'className'}}),se.optSelected||(ce.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ce.each(['tabIndex','readOnly','maxLength','cellSpacing','cellPadding','rowSpan','colSpan','useMap','frameBorder','contentEditable'],function(){ce.propFix[this.toLowerCase()]=this});var yt=/[\t\r\n\f]/g;ce.fn.extend({addClass:function(e){var t=0,n,o,i,a,d,r,s;if(ce.isFunction(e))return this.each(function(t){ce(this).addClass(e.call(this,t,X(this)))});if('string'==typeof e&&e)for(n=e.match(Fe)||[];o=this[t++];)if(a=X(o),i=1===o.nodeType&&(' '+a+' ').replace(yt,' '),i){for(r=0;d=n[r++];)0>i.indexOf(' '+d+' ')&&(i+=d+' ');s=ce.trim(i),a!==s&&o.setAttribute('class',s)}return this},removeClass:function(e){var t=0,n,o,i,a,d,r,s;if(ce.isFunction(e))return this.each(function(t){ce(this).removeClass(e.call(this,t,X(this)))});if(!arguments.length)return this.attr('class','');if('string'==typeof e&&e)for(n=e.match(Fe)||[];o=this[t++];)if(a=X(o),i=1===o.nodeType&&(' '+a+' ').replace(yt,' '),i){for(r=0;d=n[r++];)for(;-1<i.indexOf(' '+d+' ');)i=i.replace(' '+d+' ',' ');s=ce.trim(i),a!==s&&o.setAttribute('class',s)}return this},toggleClass:function(e,t){var n=typeof e;return'boolean'==typeof t&&'string'==n?t?this.addClass(e):this.removeClass(e):ce.isFunction(e)?this.each(function(n){ce(this).toggleClass(e.call(this,n,X(this),t),t)}):this.each(function(){var t,o,i,a;if('string'==n)for(o=0,i=ce(this),a=e.match(Fe)||[];t=a[o++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(void 0===e||'boolean'==n)&&(t=X(this),t&&Ae.set(this,'__className__',t),this.setAttribute&&this.setAttribute('class',t||!1===e?'':Ae.get(this,'__className__')||''))})},hasClass:function(e){var t=0,n,o;for(n=' '+e+' ';o=this[t++];)if(1===o.nodeType&&-1<(' '+X(o)+' ').replace(yt,' ').indexOf(n))return!0;return!1}});var xt=/\r/g,vt=/[\x20\t\r\n\f]+/g;ce.fn.extend({val:function(e){var t=this[0],n,o,a;return arguments.length?(a=ce.isFunction(e),this.each(function(t){var o;1!==this.nodeType||(o=a?e.call(this,t,ce(this).val()):e,null==o?o='':'number'==typeof o?o+='':ce.isArray(o)&&(o=ce.map(o,function(e){return null==e?'':e+''})),n=ce.valHooks[this.type]||ce.valHooks[this.nodeName.toLowerCase()],(!n||!('set'in n)||void 0===n.set(this,o,'value'))&&(this.value=o))})):t?(n=ce.valHooks[t.type]||ce.valHooks[t.nodeName.toLowerCase()],n&&'get'in n&&void 0!==(o=n.get(t,'value')))?o:(o=t.value,'string'==typeof o?o.replace(xt,''):null==o?'':o):void 0}}),ce.extend({valHooks:{option:{get:function(e){var t=ce.find.attr(e,'value');return null==t?ce.trim(ce.text(e)).replace(vt,' '):t}},select:{get:function(e){for(var t=e.options,n=e.selectedIndex,o='select-one'===e.type||0>n,a=o?null:[],d=o?n+1:t.length,r=0>n?d:o?n:0,i,s;r<d;r++)if(s=t[r],(s.selected||r===n)&&(se.optDisabled?!s.disabled:null===s.getAttribute('disabled'))&&(!s.parentNode.disabled||!ce.nodeName(s.parentNode,'optgroup'))){if(i=ce(s).val(),o)return i;a.push(i)}return a},set:function(e,t){for(var n=e.options,o=ce.makeArray(t),a=n.length,i,d;a--;)d=n[a],(d.selected=-1<ce.inArray(ce.valHooks.option.get(d),o))&&(i=!0);return i||(e.selectedIndex=-1),o}}}}),ce.each(['radio','checkbox'],function(){ce.valHooks[this]={set:function(e,t){if(ce.isArray(t))return e.checked=-1<ce.inArray(ce(e).val(),t)}},se.checkOn||(ce.valHooks[this].get=function(e){return null===e.getAttribute('value')?'on':e.value})});var bt=/^(?:focusinfocus|focusoutblur)$/;ce.extend(ce.event,{trigger:function(e,t,n,o){var a=[n||ee],r=re.call(e,'type')?e.type:e,s=re.call(e,'namespace')?e.namespace.split('.'):[],l,i,c,p,h,g,u;if((i=c=n=n||ee,3!==n.nodeType&&8!==n.nodeType)&&!bt.test(r+ce.event.triggered)&&(-1<r.indexOf('.')&&(s=r.split('.'),r=s.shift(),s.sort()),h=0>r.indexOf(':')&&'on'+r,e=e[ce.expando]?e:new ce.Event(r,'object'==typeof e&&e),e.isTrigger=o?2:3,e.namespace=s.join('.'),e.rnamespace=e.namespace?new RegExp('(^|\\.)'+s.join('\\.(?:.*\\.|)')+'(\\.|$)'):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:ce.makeArray(t,[e]),u=ce.event.special[r]||{},o||!u.trigger||!1!==u.trigger.apply(n,t))){if(!o&&!u.noBubble&&!ce.isWindow(n)){for(p=u.delegateType||r,bt.test(p+r)||(i=i.parentNode);i;i=i.parentNode)a.push(i),c=i;c===(n.ownerDocument||ee)&&a.push(c.defaultView||c.parentWindow||d)}for(l=0;(i=a[l++])&&!e.isPropagationStopped();)e.type=1<l?p:u.bindType||r,g=(Ae.get(i,'events')||{})[e.type]&&Ae.get(i,'handle'),g&&g.apply(i,t),g=h&&i[h],g&&g.apply&&Ne(i)&&(e.result=g.apply(i,t),!1===e.result&&e.preventDefault());return e.type=r,o||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(a.pop(),t)||!Ne(n)||!h||!ce.isFunction(n[r])||ce.isWindow(n)||(c=n[h],c&&(n[h]=null),ce.event.triggered=r,n[r](),ce.event.triggered=void 0,c&&(n[h]=c)),e.result}},simulate:function(t,n,o){var i=ce.extend(new ce.Event,o,{type:t,isSimulated:!0});ce.event.trigger(i,null,n)}}),ce.fn.extend({trigger:function(e,t){return this.each(function(){ce.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ce.event.trigger(e,t,n,!0)}}),ce.each(['blur','focus','focusin','focusout','load','resize','scroll','unload','click','dblclick','mousedown','mouseup','mousemove','mouseover','mouseout','mouseenter','mouseleave','change','select','submit','keydown','keypress','keyup','error','contextmenu'],function(e,t){ce.fn[t]=function(e,n){return 0<arguments.length?this.on(t,null,e,n):this.trigger(t)}}),ce.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),se.focusin='onfocusin'in d,se.focusin||ce.each({focus:'focusin',blur:'focusout'},function(e,t){var n=function(e){ce.event.simulate(t,e.target,ce.event.fix(e))};ce.event.special[t]={setup:function(){var o=this.ownerDocument||this,i=Ae.access(o,t);i||o.addEventListener(e,n,!0),Ae.access(o,t,(i||0)+1)},teardown:function(){var o=this.ownerDocument||this,i=Ae.access(o,t)-1;i?Ae.access(o,t,i):(o.removeEventListener(e,n,!0),Ae.remove(o,t))}}});var wt=d.location,Et=ce.now(),kt=/\?/;ce.parseJSON=function(e){return JSON.parse(e+'')},ce.parseXML=function(e){var t;if(!e||'string'!=typeof e)return null;try{t=new d.DOMParser().parseFromString(e,'text/xml')}catch(n){t=void 0}return(!t||t.getElementsByTagName('parsererror').length)&&ce.error('Invalid XML: '+e),t};var Ct=/#.*$/,Tt=/([?&])_=[^&]*/,Ft=/^(.*?):[ \t]*([^\r\n]*)$/mg,St=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,It=/^(?:GET|HEAD)$/,Nt=/^\/\//,At={},Lt={},Rt='*/'.concat('*'),Dt=ee.createElement('a');Dt.href=wt.href,ce.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt.href,type:'GET',isLocal:St.test(wt.protocol),global:!0,processData:!0,async:!0,contentType:'application/x-www-form-urlencoded; charset=UTF-8',accepts:{"*":Rt,text:'text/plain',html:'text/html',xml:'application/xml, text/xml',json:'application/json, text/javascript'},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:'responseXML',text:'responseText',json:'responseJSON'},converters:{"* text":String,"text html":!0,"text json":ce.parseJSON,"text xml":ce.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?K(K(e,ce.ajaxSettings),t):K(ce.ajaxSettings,e)},ajaxPrefilter:V(At),ajaxTransport:V(Lt),ajax:function(e,t){function n(e,t,n,i){var p=t,h,u,v,w,k;2==g||(g=2,b&&d.clearTimeout(b),f=void 0,x=i||'',m.readyState=0<e?4:0,h=200<=e&&300>e||304===e,n&&(w=$(o,m,n)),w=G(o,w,m,h),h?(o.ifModified&&(k=m.getResponseHeader('Last-Modified'),k&&(ce.lastModified[y]=k),k=m.getResponseHeader('etag'),k&&(ce.etag[y]=k)),204===e||'HEAD'===o.type?p='nocontent':304===e?p='notmodified':(p=w.state,u=w.data,v=w.error,h=!v)):(v=p,(e||!p)&&(p='error',0>e&&(e=0))),m.status=e,m.statusText=(t||p)+'',h?s.resolveWith(a,[u,p,m]):s.rejectWith(a,[m,p,v]),m.statusCode(c),c=void 0,E&&r.trigger(h?'ajaxSuccess':'ajaxError',[m,o,h?u:v]),l.fireWith(a,[m,p]),E&&(r.trigger('ajaxComplete',[m,o]),! --ce.active&&ce.event.trigger('ajaxStop')))}'object'==typeof e&&(t=e,e=void 0),t=t||{};var o=ce.ajaxSetup({},t),a=o.context||o,r=o.context&&(a.nodeType||a.jquery)?ce(a):ce.event,s=ce.Deferred(),l=ce.Callbacks('once memory'),c=o.statusCode||{},p={},h={},g=0,u='canceled',m={readyState:0,getResponseHeader:function(e){var t;if(2==g){if(!v)for(v={};t=Ft.exec(x);)v[t[1].toLowerCase()]=t[2];t=v[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2==g?x:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return g||(e=h[n]=h[n]||e,p[e]=t),this},overrideMimeType:function(e){return g||(o.mimeType=e),this},statusCode:function(e){if(e)if(2>g)for(var t in e)c[t]=[c[t],e[t]];else m.always(e[m.status]);return this},abort:function(e){var t=e||u;return f&&f.abort(t),n(0,t),this}},f,y,x,v,b,w,E,k;if(s.promise(m).complete=l.add,m.success=m.done,m.error=m.fail,o.url=((e||o.url||wt.href)+'').replace(Ct,'').replace(Nt,wt.protocol+'//'),o.type=t.method||t.type||o.method||o.type,o.dataTypes=ce.trim(o.dataType||'*').toLowerCase().match(Fe)||[''],null==o.crossDomain){w=ee.createElement('a');try{w.href=o.url,w.href=w.href,o.crossDomain=Dt.protocol+'//'+Dt.host!=w.protocol+'//'+w.host}catch(t){o.crossDomain=!0}}if(o.data&&o.processData&&'string'!=typeof o.data&&(o.data=ce.param(o.data,o.traditional)),U(At,o,t,m),2==g)return m;for(k in E=ce.event&&o.global,E&&0==ce.active++&&ce.event.trigger('ajaxStart'),o.type=o.type.toUpperCase(),o.hasContent=!It.test(o.type),y=o.url,o.hasContent||(o.data&&(y=o.url+=(kt.test(y)?'&':'?')+o.data,delete o.data),!1===o.cache&&(o.url=Tt.test(y)?y.replace(Tt,'$1_='+Et++):y+(kt.test(y)?'&':'?')+'_='+Et++)),o.ifModified&&(ce.lastModified[y]&&m.setRequestHeader('If-Modified-Since',ce.lastModified[y]),ce.etag[y]&&m.setRequestHeader('If-None-Match',ce.etag[y])),(o.data&&o.hasContent&&!1!==o.contentType||t.contentType)&&m.setRequestHeader('Content-Type',o.contentType),m.setRequestHeader('Accept',o.dataTypes[0]&&o.accepts[o.dataTypes[0]]?o.accepts[o.dataTypes[0]]+('*'===o.dataTypes[0]?'':', '+Rt+'; q=0.01'):o.accepts['*']),o.headers)m.setRequestHeader(k,o.headers[k]);if(o.beforeSend&&(!1===o.beforeSend.call(a,m,o)||2==g))return m.abort();for(k in u='abort',{success:1,error:1,complete:1})m[k](o[k]);if(f=U(Lt,o,t,m),!f)n(-1,'No Transport');else{if(m.readyState=1,E&&r.trigger('ajaxSend',[m,o]),2==g)return m;o.async&&0<o.timeout&&(b=d.setTimeout(function(){m.abort('timeout')},o.timeout));try{g=1,f.send(p,n)}catch(t){if(2>g)n(-1,t);else throw t}}return m},getJSON:function(e,t,n){return ce.get(e,t,n,'json')},getScript:function(e,t){return ce.get(e,void 0,t,'script')}}),ce.each(['get','post'],function(e,t){ce[t]=function(e,n,o,i){return ce.isFunction(n)&&(i=i||o,o=n,n=void 0),ce.ajax(ce.extend({url:e,type:t,dataType:i,data:n,success:o},ce.isPlainObject(e)&&e))}}),ce._evalUrl=function(e){return ce.ajax({url:e,type:'GET',dataType:'script',async:!1,global:!1,throws:!0})},ce.fn.extend({wrapAll:function(e){var t;return ce.isFunction(e)?this.each(function(t){ce(this).wrapAll(e.call(this,t))}):(this[0]&&(t=ce(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return ce.isFunction(e)?this.each(function(t){ce(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ce(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ce.isFunction(e);return this.each(function(n){ce(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ce.nodeName(this,'body')||ce(this).replaceWith(this.childNodes)}).end()}}),ce.expr.filters.hidden=function(e){return!ce.expr.filters.visible(e)},ce.expr.filters.visible=function(e){return 0<e.offsetWidth||0<e.offsetHeight||0<e.getClientRects().length};var jt=/%20/g,Pt=/\[\]$/,Ot=/\r?\n/g,Mt=/^(?:submit|button|image|reset|file)$/i,Bt=/^(?:input|select|textarea|keygen)/i;ce.param=function(e,t){var n=[],o=function(e,t){t=ce.isFunction(t)?t():null==t?'':t,n[n.length]=encodeURIComponent(e)+'='+encodeURIComponent(t)},i;if(void 0===t&&(t=ce.ajaxSettings&&ce.ajaxSettings.traditional),ce.isArray(e)||e.jquery&&!ce.isPlainObject(e))ce.each(e,function(){o(this.name,this.value)});else for(i in e)Q(i,e[i],t,o);return n.join('&').replace(jt,'+')},ce.fn.extend({serialize:function(){return ce.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ce.prop(this,'elements');return e?ce.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ce(this).is(':disabled')&&Bt.test(this.nodeName)&&!Mt.test(e)&&(this.checked||!Be.test(e))}).map(function(e,t){var n=ce(this).val();return null==n?null:ce.isArray(n)?ce.map(n,function(e){return{name:t.name,value:e.replace(Ot,'\r\n')}}):{name:t.name,value:n.replace(Ot,'\r\n')}}).get()}}),ce.ajaxSettings.xhr=function(){try{return new d.XMLHttpRequest}catch(t){}};var _t={0:200,1223:204},qt=ce.ajaxSettings.xhr();se.cors=!!qt&&'withCredentials'in qt,se.ajax=qt=!!qt,ce.ajaxTransport(function(e){var t,n;if(se.cors||qt&&!e.crossDomain)return{send:function(o,a){var r=e.xhr(),s;if(r.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)r[s]=e.xhrFields[s];for(s in e.mimeType&&r.overrideMimeType&&r.overrideMimeType(e.mimeType),e.crossDomain||o['X-Requested-With']||(o['X-Requested-With']='XMLHttpRequest'),o)r.setRequestHeader(s,o[s]);t=function(e){return function(){t&&(t=n=r.onload=r.onerror=r.onabort=r.onreadystatechange=null,'abort'===e?r.abort():'error'===e?'number'==typeof r.status?a(r.status,r.statusText):a(0,'error'):a(_t[r.status]||r.status,r.statusText,'text'!==(r.responseType||'text')||'string'!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=t(),n=r.onerror=t('error'),void 0===r.onabort?r.onreadystatechange=function(){4===r.readyState&&d.setTimeout(function(){t&&n()})}:r.onabort=n,t=t('abort');try{r.send(e.hasContent&&e.data||null)}catch(n){if(t)throw n}},abort:function(){t&&t()}}}),ce.ajaxSetup({accepts:{script:'text/javascript, application/javascript, application/ecmascript, application/x-ecmascript'},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ce.globalEval(e),e}}}),ce.ajaxPrefilter('script',function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type='GET')}),ce.ajaxTransport('script',function(e){if(e.crossDomain){var t,n;return{send:function(o,i){t=ce('<script>').prop({charset:e.scriptCharset,src:e.url}).on('load error',n=function(e){t.remove(),n=null,e&&i('error'===e.type?404:200,e.type)}),ee.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Ht=[],Wt=/(=)\?(?=&|$)|\?\?/;ce.ajaxSetup({jsonp:'callback',jsonpCallback:function(){var e=Ht.pop()||ce.expando+'_'+Et++;return this[e]=!0,e}}),ce.ajaxPrefilter('json jsonp',function(e,t,n){var o=!1!==e.jsonp&&(Wt.test(e.url)?'url':'string'==typeof e.data&&0===(e.contentType||'').indexOf('application/x-www-form-urlencoded')&&Wt.test(e.data)&&'data'),i,a,r;if(o||'jsonp'===e.dataTypes[0])return i=e.jsonpCallback=ce.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(Wt,'$1'+i):!1!==e.jsonp&&(e.url+=(kt.test(e.url)?'&':'?')+e.jsonp+'='+i),e.converters['script json']=function(){return r||ce.error(i+' was not called'),r[0]},e.dataTypes[0]='json',a=d[i],d[i]=function(){r=arguments},n.always(function(){void 0===a?ce(d).removeProp(i):d[i]=a,e[i]&&(e.jsonpCallback=t.jsonpCallback,Ht.push(i)),r&&ce.isFunction(a)&&a(r[0]),r=a=void 0}),'script'}),ce.parseHTML=function(e,t,n){if(!e||'string'!=typeof e)return null;'boolean'==typeof t&&(n=t,t=!1),t=t||ee;var o=ve.exec(e),i=!n&&[];return o?[t.createElement(o[1])]:(o=x([e],t,i),i&&i.length&&ce(i).remove(),ce.merge([],o.childNodes))};var Yt=ce.fn.load;ce.fn.load=function(e,t,n){if('string'!=typeof e&&Yt)return Yt.apply(this,arguments);var o=this,i=e.indexOf(' '),a,d,r;return-1<i&&(a=ce.trim(e.slice(i)),e=e.slice(0,i)),ce.isFunction(t)?(n=t,t=void 0):t&&'object'==typeof t&&(d='POST'),0<o.length&&ce.ajax({url:e,type:d||'GET',dataType:'html',data:t}).done(function(e){r=arguments,o.html(a?ce('<div>').append(ce.parseHTML(e)).find(a):e)}).always(n&&function(e,t){o.each(function(){n.apply(this,r||[e.responseText,t,e])})}),this},ce.each(['ajaxStart','ajaxStop','ajaxComplete','ajaxError','ajaxSuccess','ajaxSend'],function(e,t){ce.fn[t]=function(e){return this.on(t,e)}}),ce.expr.filters.animated=function(e){return ce.grep(ce.timers,function(t){return e===t.elem}).length},ce.offset={setOffset:function(e,t,n){var o=ce.css(e,'position'),i=ce(e),a={},d,r,s,l,c,p,h;'static'===o&&(e.style.position='relative'),c=i.offset(),s=ce.css(e,'top'),p=ce.css(e,'left'),h=('absolute'===o||'fixed'===o)&&-1<(s+p).indexOf('auto'),h?(d=i.position(),l=d.top,r=d.left):(l=parseFloat(s)||0,r=parseFloat(p)||0),ce.isFunction(t)&&(t=t.call(e,n,ce.extend({},c))),null!=t.top&&(a.top=t.top-c.top+l),null!=t.left&&(a.left=t.left-c.left+r),'using'in t?t.using.call(e,a):i.css(a)}},ce.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ce.offset.setOffset(this,e,t)});var t=this[0],n={top:0,left:0},o=t&&t.ownerDocument,i,a;if(o)return(i=o.documentElement,!ce.contains(i,t))?n:(n=t.getBoundingClientRect(),a=J(o),{top:n.top+a.pageYOffset-i.clientTop,left:n.left+a.pageXOffset-i.clientLeft})},position:function(){if(this[0]){var e=this[0],t={top:0,left:0},n,o;return'fixed'===ce.css(e,'position')?o=e.getBoundingClientRect():(n=this.offsetParent(),o=this.offset(),!ce.nodeName(n[0],'html')&&(t=n.offset()),t.top+=ce.css(n[0],'borderTopWidth',!0),t.left+=ce.css(n[0],'borderLeftWidth',!0)),{top:o.top-t.top-ce.css(e,'marginTop',!0),left:o.left-t.left-ce.css(e,'marginLeft',!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&'static'===ce.css(e,'position');)e=e.offsetParent;return e||nt})}}),ce.each({scrollLeft:'pageXOffset',scrollTop:'pageYOffset'},function(e,t){var n='pageYOffset'===t;ce.fn[e]=function(o){return Ie(this,function(e,o,i){var a=J(e);return void 0===i?a?a[t]:e[o]:void(a?a.scrollTo(n?a.pageXOffset:i,n?i:a.pageYOffset):e[o]=i)},e,o,arguments.length)}}),ce.each(['top','left'],function(e,t){ce.cssHooks[t]=D(se.pixelPosition,function(e,n){if(n)return n=R(e,t),Ze.test(n)?ce(e).position()[t]+'px':n})}),ce.each({Height:'height',Width:'width'},function(e,t){ce.each({padding:'inner'+e,content:t,"":'outer'+e},function(n,i){ce.fn[i]=function(i,a){var d=arguments.length&&(n||'boolean'!=typeof i),r=n||(!0===i||!0===a?'margin':'border');return Ie(this,function(t,n,i){var a;return ce.isWindow(t)?t.document.documentElement['client'+e]:9===t.nodeType?(a=t.documentElement,o(t.body['scroll'+e],a['scroll'+e],t.body['offset'+e],a['offset'+e],a['client'+e])):void 0===i?ce.css(t,n,r):ce.style(t,n,i,r)},t,d?i:void 0,d,null)}})}),ce.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,o){return this.on(t,e,n,o)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,'**'):this.off(t,e||'**',n)},size:function(){return this.length}}),ce.fn.andSelf=ce.fn.addBack,i=[],a=function(){return ce}.apply(t,i),!(void 0!==a&&(e.exports=a));var zt=d.jQuery,Xt=d.$;return ce.noConflict=function(e){return d.$===ce&&(d.$=Xt),e&&d.jQuery===ce&&(d.jQuery=zt),ce},r||(d.jQuery=d.$=ce),ce})},function(e,t,n){e.exports={calculateLayout:n(24),colorToRGB:n(5),Connectors:n(26),foregroundStyle:n(27),LayoutModel:n(29),nodeToBox:n(10),Theme:n(6),ThemeProcessor:n(41),ThemeDimensionProvider:n(40),Themes:{default:n(8)}}},function(e,t,n){e.exports={URLHelper:n(14),sortedSubIdeas:n(13),traverse:n(45),formattedNodeTitle:n(44),contentUpgrade:n(11),content:n(43),observable:n(12)}},function(e,t,n){const o=n(0),i=n(1),a=n(2).calculateLayout,d={svgPixel:'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="1" height="1"></svg>',nodeCacheMark:function(e,t){'use strict';return{title:e.title,width:e.attr&&e.attr.style&&e.attr.style.width,theme:d.theme&&d.theme.name,icon:e.attr&&e.attr.icon&&o.pick(e.attr.icon,'width','height','position'),collapsed:e.attr&&e.attr.collapsed,note:!!(e.attr&&e.attr.note),styles:d.theme&&d.theme.nodeStyles(e.level||t,e.attr),level:e.level||t}},dummyTextBox:i('<div>').addClass('mapjs-node').css({position:'absolute',visibility:'hidden'}),dimensionProvider:function(e,t){'use strict';let n=!1,a=i(document).nodeWithId(e.id);return a&&0<a.length&&o.isEqual(a.data('nodeCacheMark'),d.nodeCacheMark(e,t))?o.pick(a.data(),'width','height'):(a=d.dummyTextBox,a.appendTo('body').updateNodeContent(e,function(){return d.svgPixel},t),n={width:a.outerWidth(!0),height:a.outerHeight(!0)},a.detach(),n)},layoutCalculator:function(e){'use strict';return a(e,d.dimensionProvider,{theme:d.theme})},fixedLayout:!1};e.exports=d},function(e,t,n){const o=n(0),i=new RegExp(/^rgba?\(([^,\s]+)[,\s]*([^,\s]+)[,\s]*([^,\s\()]+).*$/),a=function(e){'use strict';let t;if(i.test(e)&&(t=e.match(i),4===t.length))return o.map(t.slice(1),function(e){return parseInt(e)})},d=function(e){'use strict';const t=e.toString(16).match(/[a-f0-9]{6}/i);let n,o,i,a;if(t)return n=parseInt(t[0],16),o=255&n>>16,i=255&n>>8,a=255&n,[o,i,a]};e.exports=function(e){'use strict';return a(e)||d(e)||[0,0,0]}},function(e,t,n){const o=n(0),i=n(7),a=n(8);e.exports=function(e){'use strict';const t=this,n=o.extend({},e),d=function(e,t){let n=t.slice(0),o=e;for(;0<n.length;){if(o=o[n[0]],void 0===o)return;n=n.slice(1)}return o},r=function(e,t,n){const o=d(e,t);return void 0===o?n:o};t.getFontForStyles=function(e){const n=t.attributeValue(['node'],e,['text','font','weight'],'semibold'),o=t.attributeValue(['node'],e,['text','font','size'],12),i=t.attributeValue(['node'],e,['text','font','lineSpacing'],3.5);return{size:o,weight:n,lineGap:i}},t.getNodeMargin=function(e){return t.attributeValue(['node'],e,['text','margin'],5)},t.name=e&&e.name,t.blockParentConnectorOverride=e&&e.blockParentConnectorOverride,t.attributeValue=function(e,t,i,a){const s=d(n,e);let l={};return s?(t&&t.length?t.slice(0).reverse().forEach(function(e){l=o.extend(l,s[e])}):l=o.extend({},s),r(l,i,a)):a},t.nodeStyles=function(e,t){const n=['level_'+e,'default'];return t&&t.group&&(n.unshift('attr_group'),('string'==typeof t.group||'number'==typeof t.group)&&n.unshift('attr_group_'+t.group)),n},t.nodeTheme=function(e){let t={};const a=d(n,['node']),r={margin:5,font:{size:12,weight:'semibold',lineSpacing:3.5},maxWidth:146,backgroundColor:'#E0E0E0',borderType:'surround',cornerRadius:5,lineColor:'#707070',text:{color:'#4F4F4F',lightColor:'#EEEEEE',darkColor:'#000000'}};return a?(e.slice(0).reverse().forEach(function(e){t=o.extend(t,a[e])}),r.margin=d(t,['text','margin'])||r.margin,r.font=o.extend(r.font,d(t,['text','font'])),r.text=o.extend(r.text,d(t,['text'])),r.borderType=d(t,['border','type'])||r.borderType,r.backgroundColor=function(){const e=d(t,['background']);return e?i(e):d(t,['backgroundColor'])}()||r.backgroundColor,r.cornerRadius=d(t,['cornerRadius'])||r.cornerRadius,r.lineColor=d(t,['border','line','color'])||r.lineColor,r):r},t.connectorControlPoint=function(e,t){const i='horizontal'===e?1:1.75,a=t&&d(n,['connector',t,'controlPoint',e]);return a&&o.extend({},a)||{width:0,height:i}},t.connectorTheme=function(e,i,r){const s=t.attributeValue(['node'],i,['connections','style'],'default'),l=r&&t.attributeValue(['node'],r,['connections','childstyle'],!1),c=d(n,['connector',s]),p=l&&d(n,['connector',l]),h=l&&l+'.'+s,g=h&&d(n,['connector',h]),u=t.connectorControlPoint(e||'horizontal',g&&h||p&&l||s||'default'),m={type:'quadratic',label:a.connector.default.label,line:{color:'#707070',width:1}},f=o.extend({},g||p||c||m);return f.label||(f.label=m.label),f.controlPoint=u,f.line=f.line||m.line,f},n&&n.node&&n.node.forEach&&(n.nodeArray=n.node,n.node={},n.nodeArray.forEach(function(e){n.node[e.name]=e}),delete n.nodeArray)}},function(e,t,n){const o=n(5);e.exports=function(e){'use strict';return e.color&&0!==e.opacity?e.opacity?'rgba('+o(e.color).join(',')+','+e.opacity+')':e.color:'transparent'}},function(e){e.exports={name:'MindMup Default',node:[{name:'default',cornerRadius:10,backgroundColor:'#E0E0E0',border:{type:'surround',line:{color:'#707070',width:1}},shadow:[{color:'#070707',opacity:0.4,offset:{width:2,height:2},radius:2}],text:{margin:5,alignment:'center',color:'#4F4F4F',lightColor:'#EEEEEE',darkColor:'#000000',font:{lineSpacing:2.5,size:9,weight:'bold'}},connections:{default:{h:'center',v:'center'},from:{horizontal:{h:'nearest-inset',v:'center'}},to:{h:'nearest',v:'center'}},decorations:{height:20,edge:'top',overlap:!0,position:'end'}},{name:'level_1',backgroundColor:'#22AAE0'},{name:'activated',border:{type:'surround',line:{color:'#22AAE0',width:2,style:'dashed'}}},{name:'selected',shadow:[{color:'#000000',opacity:0.9,offset:{width:2,height:2},radius:2}]},{name:'collapsed',shadow:[{color:'#888888',offset:{width:0,height:1},radius:0},{color:'#FFFFFF',offset:{width:0,height:3},radius:0},{color:'#888888',offset:{width:0,height:4},radius:0},{color:'#FFFFFF',offset:{width:0,height:6},radius:0},{color:'#888888',offset:{width:0,height:7},radius:0}]},{name:'collapsed.selected',shadow:[{color:'#FFFFFF',offset:{width:0,height:1},radius:0},{color:'#888888',offset:{width:0,height:3},radius:0},{color:'#FFFFFF',offset:{width:0,height:6},radius:0},{color:'#555555',offset:{width:0,height:7},radius:0},{color:'#FFFFFF',offset:{width:0,height:10},radius:0},{color:'#333333',offset:{width:0,height:11},radius:0}]}],connector:{default:{type:'quadratic',label:{position:{ratio:0.5},backgroundColor:'transparent',borderColor:'transparent',text:{color:'#4F4F4F',font:{size:9,sizePx:12,weight:'normal'}}},controlPoint:{above:{width:0,height:1.75},below:{width:0,height:1.75},horizontal:{width:0,height:1}},line:{color:'#707070',width:1}}}}},function(e,t,n){const o=n(0);e.exports=function(e){'use strict';return e.attr&&e.attr.group&&o.isEmpty(e.ideas)}},function(e){e.exports=function(e){'use strict';return!!e&&{left:e.x,top:e.y,width:e.width,height:e.height,level:e.level,styles:e.styles||['default']}}},function(e,t,n){const o=n(0);e.exports=function(e){'use strict';return function(){const t=function(e){let n;e.style&&(e.attr={},n=e.style.collapsed,delete e.style.collapsed,e.attr.style=e.style,n&&(e.attr.collapsed=n),delete e.style),e.ideas&&o.each(e.ideas,t)};e.formatVersion&&2<=e.formatVersion||(t(e),e.formatVersion=2)}(),function(){e.formatVersion&&3<=e.formatVersion||(function(){const t=['theme','measurements-config','storyboards','progress-statuses'],n=e&&e.attr||{},i=o.pick(n,t),a=o.omit(n,t),d=e&&e.ideas,r={id:e.id,title:e.title,attr:a};d&&(r.ideas=d),e.id='root',e.ideas={1:r},delete e.title,e.attr=i}(),e.formatVersion=3)}(),e}},function(e){e.exports=function(e){'use strict';let t=[];return e.addEventListener=function(e,n,o){e.split(' ').forEach(function(e){e&&t.push({type:e,listener:n,priority:o||0})})},e.listeners=function(e){return t.filter(function(t){return t.type===e}).map(function(e){return e.listener})},e.removeEventListener=function(e,n){t=t.filter(function(e){return e.listener!==n})},e.dispatchEvent=function(e){const n=Array.prototype.slice.call(arguments,1);t.filter(function(t){return t.type===e}).sort(function(e,t){return t.priority-e.priority}).some(function(t){try{return!1===t.listener.apply(void 0,n)}catch(n){console.log('dispatchEvent failed',n,t)}})},e}},function(e){var t=Math.abs;const n=function(e){'use strict';return 0<=e},o=function(e){'use strict';return!n(e)},i=function(e,n){'use strict';return t(e)-t(n)},a=function(e){'use strict';const t=Object.keys(e.ideas).map(parseFloat),a=t.filter(n).sort(i).concat(t.filter(o).sort(i));return a.map(function(t){return e.ideas[t]})};e.exports=function(e){'use strict';return e.ideas?a(e):[]}},function(e){e.exports=new function(){'use strict';const e=this,t=/(https?:\/\/|www\.)[\w-]+(\.[\w-]+)+([\w\(\)\u0080-\u00FF.,!@?^=%&amp;:\/~+#-]*[\w\(\)\u0080-\u00FF!@?^=%&amp;\/~+#-])?/i;e.containsLink=function(e){return t.test(e)},e.getLink=function(e){let n=e&&e.match(t);return n&&n[0]&&(n=n[0],!/https?:\/\//i.test(n)&&(n='http://'+n)),n},e.stripLink=function(e){return e?e.replace(t,'').trim():''}}},function(e){e.exports=function(e){'use strict';return e.replace(/[^A-Za-z0-9_-]/g,'_')}},function(e,t,n){const o=n(1);e.exports=function(e){'use strict';return o(document.createElementNS('http://www.w3.org/2000/svg',e||'svg'))}},function(e,t,n){var o=Math.round;const i=n(1),a=n(22),d=function(t){'use strict';i(this).trigger(i.Event('mm:start-dragging',{relatedTarget:this,gesture:t.gesture})),t.stopPropagation(),t.preventDefault(),t.gesture&&(t.gesture.stopPropagation(),t.gesture.preventDefault())},r=function(t){'use strict';i(this).trigger(i.Event('mm:start-dragging-shadow',{relatedTarget:this,gesture:t.gesture})),t.stopPropagation(),t.preventDefault(),t.gesture&&(t.gesture.stopPropagation(),t.gesture.preventDefault())};i.fn.simpleDraggableContainer=function(){'use strict';let t,n;const e=this,d=function(e){if(t&&e.gesture){const a={top:o(parseInt(n.top,10)+e.gesture.deltaY),left:o(parseInt(n.left,10)+e.gesture.deltaX)};return t.css(a).trigger(i.Event('mm:drag',{currentPosition:a,gesture:e.gesture})),e.gesture&&e.gesture.preventDefault(),!1}},r=function(o){const e=t;'shadow'===e.attr('mapjs-drag-role')?e.trigger(i.Event('mm:cancel-dragging',{gesture:o.gesture})):e.animate(n,{complete:function(){e.trigger(i.Event('mm:cancel-dragging',{gesture:o.gesture}))},progress:function(){e.trigger('mm:drag')}})};return a(this,{drag_min_distance:2}),this.on('mm:start-dragging',function(e){t||(t=i(e.relatedTarget),n={top:t.css('top'),left:t.css('left')},i(this).on('drag',d))}).on('mm:start-dragging-shadow',function(o){const a=i(o.relatedTarget);t||(t=function(){const t=a.clone().addClass('drag-shadow').appendTo(e).offset(a.offset()).data(a.data()).attr('mapjs-drag-role','shadow'),n=a.parent().data('scale')||1;return 0!==n&&t.css({transform:'scale('+n+')',"transform-origin":'top left'}),t}(),n={top:t.css('top'),left:t.css('left')},t.on('mm:stop-dragging mm:cancel-dragging',function(t){this.remove(),t.stopPropagation(),t.stopImmediatePropagation();const e=i.Event(t.type,{gesture:t.gesture,finalPosition:t.finalPosition});a.trigger(e)}).on('mm:drag',function(t){a.trigger(t)}),i(this).on('drag',d))}).on('dragend',function(n){if(i(this).off('drag',d),t){const e=i.Event('mm:stop-dragging',{gesture:n.gesture,finalPosition:t.offset()});t.trigger(e),!1===e.result&&r(n),t=void 0}}).on('mouseleave',function(n){t&&(i(this).off('drag',d),r(n),t=void 0)}).attr('data-drag-role','container')},i.fn.simpleDraggable=function(e){'use strict';return e&&e.disable?i(this).off('dragstart',d):i(this).on('dragstart',d)},i.fn.shadowDraggable=function(e){'use strict';return e&&e.disable?i(this).off('dragstart',r):i(this).on('dragstart',r)}},function(e,t,n){const o=n(15);e.exports=function(e){'use strict';return o('node_'+e)}},function(e){'use strict';e.exports=function(e,n,o){var i=e*n,a=t*e,r=a-(a-e),s=e-r,l=t*n,d=l-(l-n),c=n-d,p=s*c-(i-r*d-s*d-r*c);return o?(o[0]=p,o[1]=i,o):[p,i]};var t=134217729},function(e,t,n){n(56),n(48),n(54),n(52),n(50),e.exports={MapModel:n(53),ImageInsertController:n(51),DOMRender:n(4),version:2}},function(e,t,n){e.exports={default:n(58),simple:n(60),simplestraight:n(59),straightlines:n(61),topdownSimple:n(62),topdownStandard:n(63),argMappingSimple:n(57)}},function(e,t,n){var o=Math.abs,i,a;(function(d){'use strict';function r(){l.READY||(C.determineEventTypes(),k.each(l.gestures,function(e){F.register(e)}),C.onTouch(l.DOCUMENT,v,F.detect),C.onTouch(l.DOCUMENT,b,F.detect),l.READY=!0)}function s(e,t){Date.now||(Date.now=function(){return new Date().getTime()}),e.utils.each(['on','off'],function(n){e.utils[n]=function(e,o,i){t(e)[n](o,function(e){var n=t.extend({},e.originalEvent,e);n.button===void 0&&(n.button=e.which-1),i.call(this,n)})}}),e.Instance.prototype.trigger=function(e,n){var o=t(this.element);return o.has(n.target).length&&(o=t(n.target)),o.trigger({type:e,gesture:n})},t.fn.hammer=function(n){return this.each(function(){var o=t(this),i=o.data('hammer');i?i&&n&&e.utils.extend(i.options,n):o.data('hammer',new e(this,n||{}))})}}var l=function e(t,n){return new e.Instance(t,n||{})};l.VERSION='1.1.3',l.defaults={behavior:{userSelect:'none',touchAction:'pan-y',touchCallout:'none',contentZooming:'none',userDrag:'none',tapHighlightColor:'rgba(0,0,0,0)'}},l.DOCUMENT=document,l.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,l.HAS_TOUCHEVENTS='ontouchstart'in d,l.IS_MOBILE=/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent),l.NO_MOUSEEVENTS=l.HAS_TOUCHEVENTS&&l.IS_MOBILE||l.HAS_POINTEREVENTS,l.CALCULATE_INTERVAL=25;var c={},p=l.DIRECTION_DOWN='down',h=l.DIRECTION_LEFT='left',g=l.DIRECTION_UP='up',u=l.DIRECTION_RIGHT='right',m=l.POINTER_MOUSE='mouse',f=l.POINTER_TOUCH='touch',y=l.POINTER_PEN='pen',x=l.EVENT_START='start',v=l.EVENT_MOVE='move',b=l.EVENT_END='end',w=l.EVENT_RELEASE='release',E=l.EVENT_TOUCH='touch';l.READY=!1,l.plugins=l.plugins||{},l.gestures=l.gestures||{};var k=l.utils={extend:function(e,t,n){for(var o in t)t.hasOwnProperty(o)&&(void 0===e[o]||!n)&&(e[o]=t[o]);return e},on:function(e,t,n){e.addEventListener(t,n,!1)},off:function(e,t,n){e.removeEventListener(t,n,!1)},each:function(e,t,n){var o,i;if('forEach'in e)e.forEach(t,n);else if(e.length!==void 0){for(o=0,i=e.length;o<i;o++)if(!1===t.call(n,e[o],o,e))return;}else for(o in e)if(e.hasOwnProperty(o)&&!1===t.call(n,e[o],o,e))return},inStr:function(e,t){return-1<e.indexOf(t)},inArray:function(e,t){if(e.indexOf){var n=e.indexOf(t);return-1!==n&&n}for(var o=0,i=e.length;o<i;o++)if(e[o]===t)return o;return!1},toArray:function(e){return Array.prototype.slice.call(e,0)},hasParent:function(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1},getCenter:function(e){var t=[],n=[],o=[],i=[],a=Math.min,d=Math.max;return 1===e.length?{pageX:e[0].pageX,pageY:e[0].pageY,clientX:e[0].clientX,clientY:e[0].clientY}:(k.each(e,function(e){t.push(e.pageX),n.push(e.pageY),o.push(e.clientX),i.push(e.clientY)}),{pageX:(a.apply(Math,t)+d.apply(Math,t))/2,pageY:(a.apply(Math,n)+d.apply(Math,n))/2,clientX:(a.apply(Math,o)+d.apply(Math,o))/2,clientY:(a.apply(Math,i)+d.apply(Math,i))/2})},getVelocity:function(e,t,n){return{x:o(t/e)||0,y:o(n/e)||0}},getAngle:function(e,t){var n=t.clientX-e.clientX,o=t.clientY-e.clientY;return 180*Math.atan2(o,n)/Math.PI},getDirection:function(e,t){var n=o(e.clientX-t.clientX),i=o(e.clientY-t.clientY);return n>=i?0<e.clientX-t.clientX?h:u:0<e.clientY-t.clientY?g:p},getDistance:function(e,t){var n=t.clientX-e.clientX,o=t.clientY-e.clientY;return Math.sqrt(n*n+o*o)},getScale:function(e,t){return 2<=e.length&&2<=t.length?this.getDistance(t[0],t[1])/this.getDistance(e[0],e[1]):1},getRotation:function(e,t){return 2<=e.length&&2<=t.length?this.getAngle(t[1],t[0])-this.getAngle(e[1],e[0]):0},isVertical:function(e){return e==g||e==p},setPrefixedCss:function(e,t,n,o){var a=['','Webkit','Moz','O','ms'];t=k.toCamelCase(t);for(var d=0,i;d<a.length;d++)if(i=t,a[d]&&(i=a[d]+i.slice(0,1).toUpperCase()+i.slice(1)),i in e.style){e.style[i]=(null==o||o)&&n||'';break}},toggleBehavior:function(e,t,n){if(t&&e&&e.style){k.each(t,function(t,o){k.setPrefixedCss(e,o,t,n)});var o=n&&function(){return!1};'none'==t.userSelect&&(e.onselectstart=o),'none'==t.userDrag&&(e.ondragstart=o)}},toCamelCase:function(e){return e.replace(/[_-]([a-z])/g,function(e){return e[1].toUpperCase()})}};l.Instance=function(e,t){var n=this;r(),this.element=e,this.enabled=!0,k.each(t,function(e,n){delete t[n],t[k.toCamelCase(n)]=e}),this.options=k.extend(k.extend({},l.defaults),t||{}),this.options.behavior&&k.toggleBehavior(this.element,this.options.behavior,!0),this.eventStartHandler=C.onTouch(e,x,function(e){n.enabled&&e.eventType==x?F.startDetect(n,e):e.eventType==E&&F.detect(e)}),this.eventHandlers=[]},l.Instance.prototype={on:function(e,t){var n=this;return C.on(n.element,e,t,function(e){n.eventHandlers.push({gesture:e,handler:t})}),n},off:function(e,t){var n=this;return C.off(n.element,e,t,function(e){var o=k.inArray({gesture:e,handler:t});!1!==o&&n.eventHandlers.splice(o,1)}),n},trigger:function(e,t){t||(t={});var n=l.DOCUMENT.createEvent('Event');n.initEvent(e,!0,!0),n.gesture=t;var o=this.element;return k.hasParent(t.target,o)&&(o=t.target),o.dispatchEvent(n),this},enable:function(e){return this.enabled=e,this},dispose:function(){var e,t;for(k.toggleBehavior(this.element,this.options.behavior,!1),e=-1;t=this.eventHandlers[++e];)k.off(this.element,t.gesture,t.handler);return this.eventHandlers=[],C.off(this.element,c[x],this.eventStartHandler),null}};var C=l.event={preventMouseEvents:!1,started:!1,shouldDetect:!1,on:function(e,t,n,o){var i=t.split(' ');k.each(i,function(t){k.on(e,t,n),o&&o(t)})},off:function(e,t,n,o){var i=t.split(' ');k.each(i,function(t){k.off(e,t,n),o&&o(t)})},onTouch:function(e,t,n){var o=this,i=function(i){var a=i.type.toLowerCase(),d=l.HAS_POINTEREVENTS,r=k.inStr(a,'mouse'),s;r&&o.preventMouseEvents||(r&&t==x&&0===i.button?(o.preventMouseEvents=!1,o.shouldDetect=!0):d&&t==x?o.shouldDetect=1===i.buttons||T.matchType(f,i):r||t!=x||(o.preventMouseEvents=!0,o.shouldDetect=!0),d&&t!=b&&T.updatePointer(t,i),o.shouldDetect&&(s=o.doDetect.call(o,i,t,e,n)),s==b&&(o.preventMouseEvents=!1,o.shouldDetect=!1,T.reset()),d&&t==b&&T.updatePointer(t,i))};return this.on(e,c[t],i),i},doDetect:function(e,t,n,o){var i=this.getTouchList(e,t),a=i.length,d=t,r=i.trigger,s=a;t==x?r=E:t==b&&(r=w,s=i.length-(e.changedTouches?e.changedTouches.length:1)),0<s&&this.started&&(d=v),this.started=!0;var l=this.collectEventData(n,d,i,e);return t!=b&&o.call(F,l),r&&(l.changedLength=s,l.eventType=r,o.call(F,l),l.eventType=d,delete l.changedLength),d==b&&(o.call(F,l),this.started=!1),d},determineEventTypes:function(){var e;return e=l.HAS_POINTEREVENTS?d.PointerEvent?['pointerdown','pointermove','pointerup pointercancel lostpointercapture']:['MSPointerDown','MSPointerMove','MSPointerUp MSPointerCancel MSLostPointerCapture']:l.NO_MOUSEEVENTS?['touchstart','touchmove','touchend touchcancel']:['touchstart mousedown','touchmove mousemove','touchend touchcancel mouseup'],c[x]=e[0],c[v]=e[1],c[b]=e[2],c},getTouchList:function(e,t){if(l.HAS_POINTEREVENTS)return T.getTouchList();if(e.touches){if(t==v)return e.touches;var n=[],o=[].concat(k.toArray(e.touches),k.toArray(e.changedTouches)),i=[];return k.each(o,function(e){!1===k.inArray(n,e.identifier)&&i.push(e),n.push(e.identifier)}),i}return e.identifier=1,[e]},collectEventData:function(e,t,n,o){var i=f;return k.inStr(o.type,'mouse')||T.matchType(m,o)?i=m:T.matchType(y,o)&&(i=y),{center:k.getCenter(n),timeStamp:Date.now(),target:o.target,touches:n,eventType:t,pointerType:i,srcEvent:o,preventDefault:function(){var e=this.srcEvent;e.preventManipulation&&e.preventManipulation(),e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return F.stopDetect()}}}},T=l.PointerEvent={pointers:{},getTouchList:function(){var e=[];return k.each(this.pointers,function(t){e.push(t)}),e},updatePointer:function(e,t){e==b||e!=b&&1!==t.buttons?delete this.pointers[t.pointerId]:(t.identifier=t.pointerId,this.pointers[t.pointerId]=t)},matchType:function(e,t){if(!t.pointerType)return!1;var n=t.pointerType,o={};return o[m]=n===(t.MSPOINTER_TYPE_MOUSE||m),o[f]=n===(t.MSPOINTER_TYPE_TOUCH||f),o[y]=n===(t.MSPOINTER_TYPE_PEN||y),o[e]},reset:function(){this.pointers={}}},F=l.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(e,t){this.current||(this.stopped=!1,this.current={inst:e,startEvent:k.extend({},t),lastEvent:!1,lastCalcEvent:!1,futureCalcEvent:!1,lastCalcData:{},name:''},this.detect(t))},detect:function(e){if(this.current&&!this.stopped){e=this.extendEventData(e);var t=this.current.inst,n=t.options;return k.each(this.gestures,function(o){!this.stopped&&t.enabled&&n[o.name]&&o.handler.call(o,e,t)},this),this.current&&(this.current.lastEvent=e),e.eventType==b&&this.stopDetect(),e}},stopDetect:function(){this.previous=k.extend({},this.current),this.current=null,this.stopped=!0},getCalculatedData:function(e,t,n,o,i){var a=this.current,d=!1,r=a.lastCalcEvent,s=a.lastCalcData;r&&e.timeStamp-r.timeStamp>l.CALCULATE_INTERVAL&&(t=r.center,n=e.timeStamp-r.timeStamp,o=e.center.clientX-r.center.clientX,i=e.center.clientY-r.center.clientY,d=!0),(e.eventType==E||e.eventType==w)&&(a.futureCalcEvent=e),(!a.lastCalcEvent||d)&&(s.velocity=k.getVelocity(n,o,i),s.angle=k.getAngle(t,e.center),s.direction=k.getDirection(t,e.center),a.lastCalcEvent=a.futureCalcEvent||e,a.futureCalcEvent=e),e.velocityX=s.velocity.x,e.velocityY=s.velocity.y,e.interimAngle=s.angle,e.interimDirection=s.direction},extendEventData:function(e){var t=this.current,n=t.startEvent,o=t.lastEvent||n;(e.eventType==E||e.eventType==w)&&(n.touches=[],k.each(e.touches,function(e){n.touches.push({clientX:e.clientX,clientY:e.clientY})}));var i=e.timeStamp-n.timeStamp,a=e.center.clientX-n.center.clientX,d=e.center.clientY-n.center.clientY;return this.getCalculatedData(e,o.center,i,a,d),k.extend(e,{startEvent:n,deltaTime:i,deltaX:a,deltaY:d,distance:k.getDistance(n.center,e.center),angle:k.getAngle(n.center,e.center),direction:k.getDirection(n.center,e.center),scale:k.getScale(n.touches,e.touches),rotation:k.getRotation(n.touches,e.touches)}),e},register:function(e){var t=e.defaults||{};return void 0===t[e.name]&&(t[e.name]=!0),k.extend(l.defaults,t,!0),e.index=e.index||1e3,this.gestures.push(e),this.gestures.sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0}),this.gestures}};(function(e){var t=!1;l.gestures.Drag={name:e,index:50,handler:function(n,i){var a=F.current;if(!(0<i.options.dragMaxTouches&&n.touches.length>i.options.dragMaxTouches))switch(n.eventType){case x:t=!1;break;case v:if(n.distance<i.options.dragMinDistance&&a.name!=e)return;var d=a.startEvent.center;if(a.name!=e&&(a.name=e,i.options.dragDistanceCorrection&&0<n.distance)){var r=o(i.options.dragMinDistance/n.distance);d.pageX+=n.deltaX*r,d.pageY+=n.deltaY*r,d.clientX+=n.deltaX*r,d.clientY+=n.deltaY*r,n=F.extendEventData(n)}(a.lastEvent.dragLockToAxis||i.options.dragLockToAxis&&i.options.dragLockMinDistance<=n.distance)&&(n.dragLockToAxis=!0);var s=a.lastEvent.direction;n.dragLockToAxis&&s!==n.direction&&(k.isVertical(s)?n.direction=0>n.deltaY?g:p:n.direction=0>n.deltaX?h:u),t||(i.trigger(e+'start',n),t=!0),i.trigger(e,n),i.trigger(e+n.direction,n);var l=k.isVertical(n.direction);(i.options.dragBlockVertical&&l||i.options.dragBlockHorizontal&&!l)&&n.preventDefault();break;case w:t&&n.changedLength<=i.options.dragMaxTouches&&(i.trigger(e+'end',n),t=!1);break;case b:t=!1;}},defaults:{dragMinDistance:10,dragDistanceCorrection:!0,dragMaxTouches:1,dragBlockHorizontal:!1,dragBlockVertical:!1,dragLockToAxis:!1,dragLockMinDistance:25}}})('drag'),l.gestures.Gesture={name:'gesture',index:1337,handler:function(e,t){t.trigger(this.name,e)}},function(e){var t;l.gestures.Hold={name:e,index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:function(n,o){var i=o.options,a=F.current;switch(n.eventType){case x:clearTimeout(t),a.name=e,t=setTimeout(function(){a&&a.name==e&&o.trigger(e,n)},i.holdTimeout);break;case v:n.distance>i.holdThreshold&&clearTimeout(t);break;case w:clearTimeout(t);}}}}('hold'),l.gestures.Release={name:'release',index:Infinity,handler:function(e,t){e.eventType==w&&t.trigger(this.name,e)}},l.gestures.Swipe={name:'swipe',index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:0.6,swipeVelocityY:0.6},handler:function(e,t){if(e.eventType==w){var n=e.touches.length,o=t.options;if(n<o.swipeMinTouches||n>o.swipeMaxTouches)return;(e.velocityX>o.swipeVelocityX||e.velocityY>o.swipeVelocityY)&&(t.trigger(this.name,e),t.trigger(this.name+e.direction,e))}}},function(e){var t=!1;l.gestures.Tap={name:e,index:100,handler:function(n,o){var i=o.options,a=F.current,d=F.previous,r,s;switch(n.eventType){case x:t=!1;break;case v:t=t||n.distance>i.tapMaxDistance;break;case b:k.inStr(n.srcEvent.type,'cancel')||!(n.deltaTime<i.tapMaxTime)||t||(r=d&&d.lastEvent&&n.timeStamp-d.lastEvent.timeStamp,s=!1,d&&d.name==e&&r&&r<i.doubleTapInterval&&n.distance<i.doubleTapDistance&&(o.trigger('doubletap',n),s=!0),(!s||i.tapAlways)&&(a.name=e,o.trigger(a.name,n)));}},defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:!0,doubleTapDistance:20,doubleTapInterval:300}}}('tap'),l.gestures.Touch={name:'touch',index:-Infinity,defaults:{preventDefault:!1,preventMouse:!1},handler:function(e,t){return t.options.preventMouse&&e.pointerType==m?void e.stopDetect():void(t.options.preventDefault&&e.preventDefault(),e.eventType==E&&t.trigger('touch',e))}},function(e){var t=!1;l.gestures.Transform={name:e,index:45,defaults:{transformMinScale:0.01,transformMinRotation:1},handler:function(n,i){switch(n.eventType){case x:t=!1;break;case v:if(2>n.touches.length)return;var a=o(1-n.scale),d=o(n.rotation);if(a<i.options.transformMinScale&&d<i.options.transformMinRotation)return;F.current.name=e,t||(i.trigger(e+'start',n),t=!0),i.trigger(e,n),d>i.options.transformMinRotation&&i.trigger('rotate',n),a>i.options.transformMinScale&&(i.trigger('pinch',n),i.trigger('pinch'+(1>n.scale?'in':'out'),n));break;case w:t&&2>n.changedLength&&(i.trigger(e+'end',n),t=!1);}}}}('transform'),d.Hammer=l,'undefined'!=typeof e&&e.exports&&(e.exports=l),(i=[n(1)],a=function(e){return s(d.Hammer,e)}.apply(t,i),!(a!==void 0&&(e.exports=a)))})(window),e.exports=Hammer},function(e,t,n){var o=n(1);(function(e){function t(t){if('string'==typeof t.data&&(t.data={keys:t.data}),t.data&&t.data.keys&&'string'==typeof t.data.keys){var n=t.handler,o=t.data.keys.toLowerCase().split(' ');t.handler=function(t){if(!(this!==t.target&&(e.hotkeys.options.filterInputAcceptingElements&&e.hotkeys.textInputTypes.test(t.target.nodeName)||e.hotkeys.options.filterContentEditable&&e(t.target).attr('contenteditable')||e.hotkeys.options.filterTextInputs&&-1<e.inArray(t.target.type,e.hotkeys.textAcceptingInputTypes)))){var a='keypress'!==t.type&&e.hotkeys.specialKeys[t.which],d=String.fromCharCode(t.which).toLowerCase(),r='',s={};e.each(['alt','ctrl','shift'],function(e,n){t[n+'Key']&&a!==n&&(r+=n+'+')}),t.metaKey&&!t.ctrlKey&&'meta'!==a&&(r+='meta+'),t.metaKey&&'meta'!==a&&-1<r.indexOf('alt+ctrl+shift+')&&(r=r.replace('alt+ctrl+shift+','hyper+')),a?s[r+a]=!0:(s[r+d]=!0,s[r+e.hotkeys.shiftNums[d]]=!0,'shift+'===r&&(s[e.hotkeys.shiftNums[d]]=!0));for(var c=0,i=o.length;c<i;c++)if(s[o[c]])return n.apply(this,arguments)}}}}e.hotkeys={version:'0.2.0',specialKeys:{8:'backspace',9:'tab',10:'return',13:'return',16:'shift',17:'ctrl',18:'alt',19:'pause',20:'capslock',27:'esc',32:'space',33:'pageup',34:'pagedown',35:'end',36:'home',37:'left',38:'up',39:'right',40:'down',45:'insert',46:'del',59:';',61:'=',96:'0',97:'1',98:'2',99:'3',100:'4',101:'5',102:'6',103:'7',104:'8',105:'9',106:'*',107:'+',109:'-',110:'.',111:'/',112:'f1',113:'f2',114:'f3',115:'f4',116:'f5',117:'f6',118:'f7',119:'f8',120:'f9',121:'f10',122:'f11',123:'f12',144:'numlock',145:'scroll',173:'-',186:';',187:'=',188:',',189:'-',190:'.',191:'/',192:'`',219:'[',220:'\\',221:']',222:'\''},shiftNums:{0:')',1:'!',2:'@',3:'#',4:'$',5:'%',6:'^',7:'&',8:'*',9:'(',"`":'~',"-":'_',"=":'+',";":': ',"'":'"',",":'<',".":'>',"/":'?',"\\":'|'},textAcceptingInputTypes:['text','password','number','email','url','range','date','month','week','time','datetime','datetime-local','search','color','tel'],textInputTypes:/textarea|input|select/i,options:{filterInputAcceptingElements:!0,filterTextInputs:!0,filterContentEditable:!0}},e.each(['keydown','keyup','keypress'],function(){e.event.special[this]={add:t}})})(o||this.jQuery||window.jQuery)},function(e,t,n){const o=n(3).contentUpgrade,i=n(6),a=n(32),d=n(33),r=n(38),s={standard:n(35),"top-down":n(36)},l=function(e,t){'use strict';return Object.keys(e).forEach(function(n){const o=e[n];o.styles=t.nodeStyles(o.level,o.attr)}),e},c=function(e,t,n,o){'use strict';return{orientation:o,nodes:l(e,n),connectors:a(t,e,n),links:d(t,e),theme:t.attr&&t.attr.theme}};e.exports=function(e,t,n){'use strict';const a=n&&n.layouts||s,d=n&&n.theme||new i({}),l=new r,p=d.attributeValue(['layout'],[],['spacing'],{h:20,v:20}),h=d.attributeValue(['layout'],[],['orientation'],'standard'),g=a[h]||a.standard;return e=o(e),Object.keys(e.ideas).forEach(function(n){const o=e.ideas[n],i=g(o,t,{h:p.h||p,v:p.v||p});l.appendRootNodeLayout(i,o)}),c(l.getCombinedLayout(10),e,d,h)}},function(e){var t=Math.sign,n=Math.round,o=Math.abs,i=Math.min;const a=function(e,t){'use strict';return{d:'M'+n(e.from.x-t.left)+','+n(e.from.y-t.top)+'L'+n(e.to.x-t.left)+','+n(e.to.y-t.top),position:t}};e.exports={quadratic:function(e,t,o,d){'use strict';const r=1.2*i(d.height,o.height),s=e.connectorTheme.controlPoint.height*(e.from.y-e.to.y),l=Math.max(-r,i(r,s));return n(e.from.y)===n(e.to.y-l)?a(e,t):{d:'M'+n(e.from.x-t.left)+','+n(e.from.y-t.top)+'Q'+n(e.from.x-t.left)+','+n(e.to.y-l-t.top)+' '+n(e.to.x-t.left)+','+n(e.to.y-t.top),position:t}},"s-curve":function(e,i){'use strict';const a=10,d=n(e.to.x-e.from.x),r=n(e.to.y-e.from.y),s=a<o(0.5*d)?a*t(d):n(0.5*d),l=a<o(0.5*r)?a*t(r):n(0.5*r);return{d:'M'+(e.from.x-i.left)+','+(e.from.y-i.top)+'q'+s+',0 '+s+','+l+'c0,'+(r-2*l)+' '+n(d/2-s)+','+(r-l)+' '+(d-s)+','+(r-l),position:i}},"top-down-s-curve":function(e,i){'use strict';const a=n(e.to.x-e.from.x),d=n(e.to.y-e.from.y),r=15,s=r*t(a),l=r*t(d),c=n(0.5*d)-l;return r>o(a/2)?function(){const t=c+n(0.5*l);return{d:'M'+(e.from.x-i.left)+','+(e.from.y-i.top)+'v'+t+'l'+a+','+(d-t),position:i,initialRadius:5}}():{d:'M'+(e.from.x-i.left)+','+(e.from.y-i.top)+'v'+c+'q0,'+l+' '+s+','+l+'h'+(a-2*s)+'q'+s+',0 '+s+','+l+'v'+c,position:i,initialRadius:5}},"compact-s-curve":function(e,i){'use strict';const a=10,d=n(e.to.x-e.from.x),r=n(e.to.y-e.from.y),s=a*t(d),l=a*t(r);return a>o(0.5*d)||a>o(0.5*r)?function(){const t=n(d/2);return{d:'M'+(e.from.x-i.left)+','+(e.from.y-i.top)+'l'+t+',0 l'+(d-t)+','+r,position:i}}():{d:'M'+(e.from.x-i.left)+','+(e.from.y-i.top)+'q'+s+',0 '+s+','+l+'v'+(r-2*l)+'q0,'+l+' '+s+','+l+'h'+(d-2*s),position:i}},"vertical-quadratic-s-curve":function(e,t){'use strict';const i=n(e.to.x-e.from.x),a=n(e.to.y-e.from.y),d=i/2,r=a/2;return 20>o(i)?{d:'M'+(e.from.x-t.left)+','+(e.from.y-t.top)+'l'+i+','+a,initialRadius:10,position:t}:{d:'M'+(e.from.x-t.left)+','+(e.from.y-t.top)+'q0,'+n(r/2)+' '+d+','+r+'q'+d+','+n(r/2)+' '+d+','+r,initialRadius:10,position:t}},"vertical-s-curve":function(e,i){'use strict';const a=10,d=n(e.to.x-e.from.x),r=n(e.to.y-e.from.y),s=a*t(d),l=a*t(r);return a>o(0.5*d)||a>o(0.5*r)?{d:'M'+(e.from.x-i.left)+','+(e.from.y-i.top)+'l'+d+','+r,position:i}:{d:'M'+(e.from.x-i.left)+','+(e.from.y-i.top)+'q0,'+l+' '+s+','+l+'h'+(d-2*s)+'q'+s+',0 '+s+','+l+'v'+(r-2*l),position:i}},straight:a,"no-connector":function(e,t){'use strict';return{d:'M'+n(e.to.x-t.left)+','+n(e.to.y-t.top),position:t}}}},function(e,t,n){var o=Math.sin,i=Math.sign,a=Math.sqrt,d=Math.round,r=Math.abs,s=Math.cos,l=Math.min,c=Math.max;const p=n(6),h=n(0),g=n(34),u=function(e,t,n){'use strict';return t.nodeUnderline&&(e.d+='M'+(t.nodeUnderline.from.x-n.left)+','+(t.nodeUnderline.from.y-n.top)+' H'+(t.nodeUnderline.to.x-n.left)),e},m=function(e,t){'use strict';const n=e.initialRadius||0,o=t.nodeOverline&&Math.floor(0.5*r(t.nodeOverline.to.x-t.nodeOverline.from.x))-1;return t.nodeOverline&&(e.d+='m'+-1*o+','+n+'q0,'+-1*n+' '+n+','+-1*n+' h'+2*(o-n)+'q'+n+',0 '+n+','+n),e},f=function(e,t,n){'use strict';return m(u(e,t,n),t)},y={center:function(e){'use strict';return d(e.top+0.5*e.height)},base:function(e){'use strict';return e.top+e.height+1},"base-inset":function(e,t){'use strict';return e.top+e.height+1-t},top:function(e){'use strict';return e.top}},x=n(25),v=function(e,t,n){'use strict';const o=function(){const n=t.top+0.5*t.height,o=e.top+0.5*e.height;return r(o-n)+10<c(t.height,0.75*e.height)?'horizontal':n<o?'above':'below'}(),i=e.styles,a=t.styles,d=n.attributeValue(['node'],i,['connections','default'],{h:'center',v:'center'}),s=n.attributeValue(['node'],a,['connections','default'],{h:'nearest-inset',v:'center'}),l=h.extend({},d,n.attributeValue(['node'],i,['connections','from',o],{})),p=h.extend({},s,n.attributeValue(['node'],a,['connections','to'],{})),u=n.connectorTheme(o,a,i),m=n.attributeValue(['node'],i,['cornerRadius'],10),f=n.attributeValue(['node'],a,['cornerRadius'],10),x=n.attributeValue(['node'],a,['border','type'],'');let v=!1,b=!1;return('underline'===x||'under-overline'===x)&&(v={from:{x:t.left,y:t.top+t.height+1},to:{x:t.left+t.width,y:t.top+t.height+1}}),('overline'===x||'under-overline'===x)&&(b={from:{x:t.left,y:t.top},to:{x:t.left+t.width,y:t.top}}),{from:{x:g[l.h](e,t,m),y:y[l.v](e,m)},to:{x:g[p.h](t,e,f),y:y[p.v](t,f)},connectorTheme:u,nodeUnderline:v,nodeOverline:b}};i=i||function(e){'use strict';return 0<=e?1:-1},e.exports={themePath:function(e,t,n){'use strict';const o=l(e.left,t.left),i=l(e.top,t.top),a={left:o,top:i,width:c(e.left+e.width,t.left+t.width,o+1)-o,height:c(e.top+e.height,t.top+t.height,i+1)-i+2},d=n||new p({}),r=v(e,t,d),s=f(x[r.connectorTheme.type](r,a,e,t),r,a);return s.color=r.connectorTheme.line.color,s.width=r.connectorTheme.line.width,s.theme=r.connectorTheme,s},linkPath:function(e,t,n){'use strict';const i=function(e,t){const n=[{x:e.left+d(0.5*e.width),y:e.top},{x:e.left+e.width,y:e.top+d(0.5*e.height)},{x:e.left+d(0.5*e.width),y:e.top+e.height},{x:e.left,y:e.top+d(0.5*e.height)}],o=[{x:t.left+d(0.5*t.width),y:t.top},{x:t.left+t.width,y:t.top+d(0.5*t.height)},{x:t.left+d(0.5*t.width),y:t.top+t.height},{x:t.left,y:t.top+d(0.5*t.height)}];let a=Infinity,r,i,s,l,c,p,h;for(r=0;r<n.length;r+=1)for(i=0;i<o.length;i+=1)c=n[r].x-o[i].x,p=n[r].y-o[i].y,h=c*c+p*p,h<a&&(s=r,l=i,a=h);return{from:n[s],to:o[l]}}(e,t),r=l(e.left,t.left),p=l(e.top,t.top),h={left:r,top:p,width:c(e.left+e.width,t.left+t.width,r)-r,height:c(e.top+e.height,t.top+t.height,p)-p};return{d:'M'+d(i.from.x-h.left)+','+d(i.from.y-h.top)+'L'+d(i.to.x-h.left)+','+d(i.to.y-h.top),conn:i,position:h,arrow:n&&function(){const e=Math.tan(Math.PI/9),t=i.to.x-i.from.x,n=i.to.y-i.from.y;let r=14,l,c,p,g,u,f;return 0==t?(l=0>n?-1:1,c=i.to.x+r*o(e)*l,p=i.to.x-r*o(e)*l,g=i.to.y-r*s(e)*l,u=i.to.y-r*s(e)*l):(f=n/t,i.from.x<i.to.x&&(r=-r),c=i.to.x+(1-f*e)*r/a((1+f*f)*(1+e*e)),g=i.to.y+(f+e)*r/a((1+f*f)*(1+e*e)),p=i.to.x+(1+f*e)*r/a((1+f*f)*(1+e*e)),u=i.to.y+(f-e)*r/a((1+f*f)*(1+e*e))),'M'+d(c-h.left)+','+d(g-h.top)+'L'+d(i.to.x-h.left)+','+d(i.to.y-h.top)+'L'+d(p-h.left)+','+d(u-h.top)+'Z'}()}}}},function(e,t,n){var o=Math.round;const i=n(5);e.exports=function(e){'use strict';const t=function(e,t){return[o(0.5*(e[0]+t[0])),o(0.5*(e[1]+t[1])),o(0.5*(e[2]+t[2]))]},n=function(){const n=t(i(e),i('#EEEEEE')),o=[];let a;for(let e=0;e<n.length;e++)a=n[e]/255,o[e]=0.03928>=a?a/12.92:Math.pow((a+0.055)/1.055,2.4);return 0.2126*o[0]+0.7152*o[1]+0.0722*o[2]}();if(0.5>n)return'lightColor';return 0.9>n?'color':'darkColor'}},function(e,t,n){var o=Math.pow,i=Math.round,a=Math.min,d=Math.max;const r=n(0),s=n(65),l=n(64),c=function(e,t){'use strict';return e[0]*t[0]+e[1]*t[1]},p=function(e){'use strict';return{regions:e,inverted:!1}},h=function(e,t){'use strict';return e&&t&&2===e.length&&2===t.length&&e[0]===t[0]&&e[1]===t[1]},g=function(e,t){'use strict';return e&&t&&e.length===t.length&&r.filter(e,function(e){return r.filter(t,function(t){return h(e,t)}).length}).length===e.length},u=function(e,t){'use strict';return!(e.length>t.length)&&function(){return r.filter(e,function(e){return r.filter(t,function(t){return g(e,t)}).length})}().length===e.length},m=function(e,t){'use strict';const n=p(t),o=r.find(e,function(e){const o=p([e]),i=s.intersect(n,o);return u(t,i.regions)});return o&&o.length&&o},f=function(e,t){'use strict';const n=p(e),o=p(t),i=s.intersect(n,o),a=u(e,i.regions),d=a&&!u(i.regions,t),l=d&&m(t,i.regions);return l?l:r.flatten(i.regions,!0)},y=function(e,t,n){'use strict';const o=[e[0]-t[0],e[1]-t[1]],i=c(n,o),a=c(n,n),d=[t[0]+i*n[0]/a,t[1]+i*n[1]/a];if(!n[0]&&!n[1])throw'invalid-args';return d},x=function(e,t,n,i){'use strict';const a=function(e){const i=e[0]-t[0],a=e[1]-t[1],d=function(){return 0==i?0===n[1]?1:a/n[1]:0===n[0]?1:i/n[0]}(),r=0<=d?1:-1,s=r*(o(i,2)+o(a,2));return s},d=r.filter(e,function(e){return i?0>a(e):0<=a(e)});return r.sortBy(d,a)},v=function(e,t){'use strict';const n=[];return r.each(e,function(e){const o=i(e.x-t),a=i(e.x+e.width+t),d=i(e.y-t),r=i(e.y+e.height+t);n.push([o,d]),n.push([o,r]),n.push([a,r]),n.push([a,d])}),n},b=function(e){'use strict';return[i(e[0]),i(e[1])]},w=function(e,t){'use strict';const n=e[0]+t[0],o=e[1]+t[1];if(isNaN(n)||isNaN(o))throw console.log('addVectors invalid-args x',n,'y',o,'vector1',e,'vector2',t),'invalid-args';return[n,o]},E=function(e,t){'use strict';const n=e[0]-t[0],o=e[1]-t[1];if(isNaN(n)||isNaN(o))throw console.log('subtractVectors invalid-args vector1',e,'vector2',t),'invalid-args';return[n,o]},k=function(e,t){'use strict';return e.map(function(e){return e.map(function(e){return b(w(e,t))})})},C=function(e,t,n){'use strict';const o=r.flatten(e,!0),i=o.map(function(e){return y(e,t,n)}),a=x(i,t,n,!0);return a.length&&a[0]},T=function(e,t,n,o){'use strict';const i=f(e,t),a=i.map(function(e){return y(e,n,o)}),d=x(a,n,o);return d.length&&d.pop()},F=function(e,t,n){'use strict';const o=C(e,t,n),i=o&&b(E(t,o));return!!o&&{translation:i,translatedPoly:k(e,i)}},S=function(e,t,n,o,i,a){'use strict';const d=C(e,n,o)||n,r=T(e,t,d,o);let s;if(a=a||0,i=i||[0,0],r)if(s=F(e,r,o),!s)console.log('unable to translate poly',e,'to intersectionPoint',r,'with vector',o);else if(i=w(i,s.translation),n=w(n,s.translation),100>a)return S(s.translatedPoly,t,n,o,i,a+1);return{translation:i,translatedPoly:e}};e.exports={tolayoutPolygonRect:function(e,t){'use strict';let n=0,o=0,i=0,s=0;return r.each(e,function(e){n=a(n,e.x),o=d(o,e.x+e.width),i=a(i,e.y),s=d(s,e.y+e.width)}),n-=t,o+=t,i-=t,s+=t,[[b([n,i]),b([o,i]),b([o,s]),b([n,s])]]},tolayoutPolygonHull:function(e,t){'use strict';const n=v(e,t),o=l(n),i=r.map(o,function(e){return n[e]});return[i]},furthestIntersectionPoint:T,projectPointOnLineVector:y,orderPointsOnVector:x,firstProjectedPolyPointOnVector:C,translatePoly:k,addVectors:w,subtractVectors:E,translatePolyToIntersecton:F,translatePolyToNotOverlap:S,unitVector:function(e){'use strict';const t=Math.sqrt(o(e[0],2)+o(e[1],2));return 0===t?[0,0]:[e[0]/t,e[1]/t]},roundVector:b,polygonIntersectionPoints:f,shapeContainingIntersection:m}},function(e,t,n){var o=Math.pow,i=Math.round,a=Math.abs,d=Math.min,r=Math.floor,s=Math.max;const l=n(0),c=n(10);e.exports=function(e){'use strict';let t;const n=this,p={coneRatio:0.5,majorAxisRatio:3},h=function(e){const n=t&&l.values(t.nodes),o=n&&l.filter(n,e);return n&&o.length&&o},g=function(e,t){return h(function(n){const o=n.y+n.height-(e.y+e.height),d=e.x-a(o*t),r=e.x+e.width+a(o*t);return n.id===e.id||n.y<=i(e.y+0.5*e.height)?!1:void 0!==t&&(n.x>r||n.x+n.width<d)?!1:!0})},u=function(e,t){return h(function(n){const o=n.x+n.width-(e.x+e.width),d=e.y-a(o*t),r=e.y+e.height+a(o*t);return n.id===e.id||n.x<=i(e.x+0.5*e.width)?!1:void 0!==t&&(n.y>r||n.y+n.height<d)?!1:!0})},m=function(e,t){return h(function(n){const o=n.y-e.y,d=e.x-a(o*t),r=e.x+e.width+a(o*t);return n.id===e.id||n.y+n.height>=i(e.y+0.5*e.height)?!1:void 0!==t&&(n.x>r||n.x+n.width<d)?!1:!0})},f=function(e,t){return h(function(n){const o=n.x-e.x,d=e.y-a(o*t),r=e.y+e.height+a(o*t);return n.id===e.id||n.x+n.width>=i(e.x+0.5*e.width)?!1:void 0!==t&&(n.y>r||n.y+n.height<d)?!1:!0})},y=function(e,t,n,a){const r={x:i(e.x+0.5*e.width),y:i(e.y+0.5*e.height)},s=function(e,t){const i=n*(e.x-t.x),d=a*(e.y-t.y);return o(i,2)+o(d,2)};return!!t&&(1===t.length?t[0]:l.min(t,function(e){const t=[s(e,r),s({x:e.x+e.width,y:e.y+e.height},r),s({x:e.x+e.width,y:e.y},r),s({x:e.x,y:e.y+e.height},r),s({x:i(e.x+0.5*e.width),y:i(e.y+0.5*e.height)},r)];return l.min(t)}))};n.getNode=function(e){return t&&t.nodes&&t.nodes[e]},n.isRootNode=function(e){return t&&t.nodes&&t.nodes[e]&&1===t.nodes[e].level},n.getNodeBox=function(e){return c(n.getNode(e))},n.setLayout=function(n){t=n||e},n.getLayout=function(){return t||e},n.nodeIdLeft=function(e){const t=n.getNode(e),o=t&&(f(t,p.coneRatio)||f(t)),i=o&&y(t,o,1,p.majorAxisRatio);return i&&i.id},n.nodeIdRight=function(e){const t=n.getNode(e),o=t&&(u(t,p.coneRatio)||u(t)),i=o&&y(t,o,1,p.majorAxisRatio);return i&&i.id},n.nodeIdUp=function(e){const t=n.getNode(e),o=t&&(m(t,p.coneRatio)||m(t)),i=o&&y(t,o,p.majorAxisRatio,1);return i&&i.id},n.nodeIdDown=function(e){const t=n.getNode(e),o=t&&(g(t,p.coneRatio)||g(t)),i=o&&y(t,o,p.majorAxisRatio,1);return i&&i.id},n.getOrientation=function(){return t&&t.orientation||'standard'},n.layoutBounds=function(){let e,n,o,i;return!l.isEmpty(t.nodes)&&(l.each(t.nodes,function(t){e?(e=d(t.x,e),n=d(t.y,n),o=s(t.x+t.width,o),i=s(t.y+t.height,i)):(e=t.x,n=t.y,o=t.x+t.width,i=t.y+t.height)}),{minX:e,minY:n,maxX:o,maxY:i,width:o-e,height:i-n})},n.clipRectTransform=function(e,t){let o=t&&t.scale||1;const i=n.getNode(e),a=n.layoutBounds(),s=t&&t.padding||0,l={x:i.x+i.width/2,y:i.y+i.height/2};return t&&t.clipRect?{x:t.clipRect.width/2-l.x,y:t.clipRect.height/2-l.y,width:t.clipRect.width,height:t.clipRect.height,scale:o}:t&&t.page?(o=d((t.page.width-2*s)/a.width,(t.page.height-2*s)/a.height),{x:-1*a.minX+r(0.5*(t.page.width/o-a.width)),y:-1*a.minY+r(0.5*(t.page.height/o-a.height)),width:t.page.width,height:t.page.height,scale:o}):{x:-1*a.minX+r(s/o),y:-1*a.minY+r(s/o),width:a.width*o+2*s,height:a.height*o+2*s,scale:o}}}},function(e,t,n){const o=n(0);e.exports=function(e,t){'use strict';const n=e.nodes,i=o.values(t.ideas).map(function(e){return e.id}),a=i.map(function(e){return n[e]}).filter(function(e){return e}),d=o.map(a,function(e){return e.x}),r=o.map(a,function(e){return e.x+e.width}),s=o.min(d),l=o.max(r),c=n[t.id],p=o.values(n).filter(function(e){return e.level===c.level&&e.id!==c.id});a.length&&(c.x=s,c.width=l-c.x),p.forEach(function(e){e.verticalOffset=(e.verticalOffset||0)+c.height})}},function(e,t,n){const o=n(0),i=n(37);e.exports=function(e,t,n,a){'use strict';const d={nodes:{}},r=function(e,t){return o.each(e,function(e){e.x+=t}),e},s=new i(t,n);let l;if(Array.isArray(t))throw'child layouts are an array!';return d.nodes[e.id]=e,e.x=Math.round(-0.5*e.width),d.levels=[{width:e.width,xOffset:e.x}],s.isEmpty()||(a?(d.levels=s.getMergedLevels(),l=d.levels[0].xOffset):(d.levels=d.levels.concat(s.getMergedLevels()),l=d.levels[1].xOffset),Object.keys(t).forEach(function(e){o.extend(d.nodes,r(t[e].nodes,l+s.getExpectedTranslation(e)))})),d}},function(e,t,n){const o=n(0);e.exports=function(e,t,n){'use strict';const i={},a=!(n&&n.blockParentConnectorOverride),d=function(n,r,s){if(s){if(!t[n.id])return;r!==e.id&&(i[n.id]={from:r,to:n.id},a&&n.attr&&n.attr.parentConnector&&(i[n.id].attr=o.clone(n.attr.parentConnector)))}n.ideas&&Object.keys(n.ideas).forEach(function(e){d(n.ideas[e],n.id,!0)})};return d(e),i}},function(e,t,n){const o=n(0);e.exports=function(e,t){'use strict';const n={};return o.each(e.links,function(e){t[e.ideaIdFrom]&&t[e.ideaIdTo]&&(n[e.ideaIdFrom+'_'+e.ideaIdTo]={ideaIdFrom:e.ideaIdFrom,ideaIdTo:e.ideaIdTo,attr:o.clone(e.attr)})}),n}},function(e){var t=Math.round;const n=function(e,t,n){'use strict';return e.left+e.width<t.left?e.left+e.width-n:e.left+n};e.exports={center:function(e){'use strict';return t(e.left+0.5*e.width)},"center-separated":function(e,n,o,i){'use strict';const a=e.height*(i||0.2),d=o||10,r=e.width/2,s=e.left+r,l=n.left+n.width/2,c=n.left+n.width,p=n.top-e.top+e.height-a,h=function(){return n.left>e.left+e.width?n.left-s:c<e.left?c-s:n.left<s?l-s:l-s}(),g=h/Math.abs(p)*a,u=Math.max(g,-1*r+d),m=Math.min(u,r-d);return t(e.left+0.5*e.width+m)},nearest:function(e,t){'use strict';return n(e,t,0)},"nearest-inset":n}},function(e,t,n){const o=n(0),i=n(42);e.exports=function(e,t,n){'use strict';const a=i.calculateTree(e,t,n.h,function(t,n){return n!==e.id||0<t}),d=i.calculateTree(e,t,n.h,function(t,n){return n!==e.id||0>t}),r=a.toLayout(),s=d.toLayout();return o.each(s.nodes,function(e){e.x=-1*e.x-e.width}),o.extend(s.nodes,r.nodes)}},function(e,t,n){const o=n(0),i=n(9),a=n(30),d=n(31);e.exports=function(e,t,n){'use strict';const r=function(e){return e.attr&&e.attr.group},s=function(e,n){const i=t(e,n);return o.extend({level:n,verticalOffset:0,title:r(e)?'':e.title},i,o.pick(e,['id','attr']))},l=function(e,t,n){const i={},a=!(o.isEmpty(e.ideas)||e.attr&&e.attr.collapsed);return n=n||1,a&&Object.keys(e.ideas).forEach(function(o){const a=r(e)?n:n+1,d=l(e.ideas[o],t,a);d&&(i[o]=d)}),t(e,i,n)},c=function(e,t,i){const l=s(e,i);let c;return r(l)&&!o.isEmpty(e.ideas)?(c=d(l,t,n.h,!0),a(c,e)):c=d(l,t,n.h),c},p=l(e,function(t,n,o){return(t===e||!i(t))&&c(t,n,o)});return function(e,t){o.each(e,function(e){e.y=t[e.level-1]+e.verticalOffset,delete e.verticalOffset})}(p.nodes,function(e){const t=[],i=[];let a=0,d;for(o.each(e,function(e){t[e.level-1]=Math.max(t[e.level-1]||0,e.height+e.verticalOffset)}),a=t.reduce(function(e,t){return e+t},0)+n.v*(t.length-1),i[0]=Math.round(-0.5*a),d=1;d<t.length;d++)i[d]=i[d-1]+n.v+t[d-1];return i}(p.nodes)),p.nodes}},function(e,t,n){const o=n(0);e.exports=function(e,t){'use strict';const n=this,i=function(){return e?o.sortBy(Object.keys(e),parseFloat):[]},a=t||0,d=function(){const t=i(),n={};let d;return function(){return o.isEmpty(e)?[]:i().map(function(t){return e[t]})}().forEach(function(e,o){const i=t[o];void 0==d?(n[i]=0-e.levels[0].xOffset,d=e.levels.map(function(e){return e.width+n[i]+e.xOffset})):(e.levels.forEach(function(e,t){const o=d[t];void 0!==o&&(void 0===n[i]?n[i]=o+a-e.xOffset:n[i]=Math.max(n[i],o+a-e.xOffset))}),e.levels.forEach(function(e,t){d[t]=n[i]+e.xOffset+e.width}))}),n}();n.getLevelWidth=function(t){const o=i().filter(function(e){return n.existsOnLevel(e,t)}),a=o[0],d=o[o.length-1],r=e[a],s=e[d],l=r.levels[t].xOffset+n.getExpectedTranslation(a),c=s.levels[t].xOffset+n.getExpectedTranslation(d);return c+s.levels[t].width-l},n.getLevelWidths=function(){const t=[],i=o.max(o.map(e,function(e){return e.levels.length}));for(let e=0;e<i;e++)t.push(n.getLevelWidth(e));return t},n.isEmpty=function(){return o.isEmpty(e)},n.getExpectedTranslation=function(e){return d[e]},n.existsOnLevel=function(t,n){return e[t].levels.length>n},n.getMergedLevels=function(){const t=Math.round(-0.5*n.getLevelWidth(0));return n.getLevelWidths().map(function(o,a){const d=i().filter(function(e){return n.existsOnLevel(e,a)}),r=d[0],s=e[r];return{width:o,xOffset:s.levels[a].xOffset+n.getExpectedTranslation(r)+t}})}}},function(e,t,n){var o=Math.pow;const i=n(0),a=n(28);e.exports=function(){'use strict';const e=this,t=function(e,t){i.each(e.rootLayout,function(n){n.x+=t.x,n.y+=t.y,n.rootId=e.rootIdea.id})},n=function(e){const t=e&&e.attr&&e.attr.position||[0,0,0];return{x:t[0],y:t[1],priority:t[2]}},d=function(e,t){const n={rootIdea:t,rootNode:e[t.id],rootLayout:e};return n},r=function(e){return n(e).priority},s=function(e){const t=n(e.rootIdea);return t&&t.priority&&e.rootNode?{x:t.x+e.rootNode.width/2,y:t.y+e.rootNode.height/2}:{x:0,y:0}},l=[],c=[];e.appendRootNodeLayout=function(e,t){const n=d(e,t);r(t)?l.push(n):c.push(n)},e.getCombinedLayout=function(e){let d=[],r={};const p=l.length&&i.max(l,function(e){return n(e.rootIdea).priority}),h={x:0,y:0},g=i.sortBy(l,function(e){const t=s(e);return o(t.x-h.x,2)+o(t.y-h.y,2)}),u=[],m=l.length+c.length,f=1<m,y=function(n){let o,r,l;const c=s(n),p=a.roundVector([c.x,c.y]);l=f&&a.translatePoly(a.tolayoutPolygonHull(n.rootLayout,e),p),!n||i.contains(u,n)||(u.length?function(){let e=a.unitVector([c.x-h.x,c.y-h.y]);0===e[0]&&0===e[1]&&(e=[1,0]),r=a.translatePolyToNotOverlap(l,d,p,e,p),o={x:r.translation[0],y:r.translation[1]},l=r.translatedPoly}():o=c,t(n,o),u.push(n),f&&(d=d.concat(l)))};if(!e)throw'invalid-args';return p&&y(p),g.forEach(y),c.forEach(y),u.forEach(function(e){r=i.extend(r,e.rootLayout)}),r}}},function(e,t,n){var o=Math.round;const i=n(0),a=function(e){'use strict';return i.reduce(e,function(e,t){return e+t.l},0)},d=function(e,t){'use strict';let n=0,o=-1;for(;n<=t;){if(o+=1,o>=e.length)return-1;n+=e[o].l}return o},r=function(e,t){'use strict';let n=e.slice(),o;const r=a(e),s=d(t,r);return 0<=s&&(o=a(t.slice(0,s+1)),n.push({h:t[s].h,l:o-r}),n=n.concat(t.slice(s+1))),n},s=function(e,t){'use strict';const n=function(e,t){return i.map(e,function(e){return{l:e.l,h:e.h+t}})};this.initialHeight=function(){return this.bottom[0].h-this.top[0].h},this.borders=function(){return i.pick(this,'top','bottom')},this.spacingAbove=function(e){let t=0,n=0,o=0,i=0,a=0;for(;t<this.bottom.length&&n<e.top.length;)o=Math.max(o,this.bottom[t].h-e.top[n].h),i+this.bottom[t].l<a+e.top[n].l?(i+=this.bottom[t].l,t+=1):i+this.bottom[t].l===a+e.top[n].l?(i+=this.bottom[t].l,t+=1,a+=e.top[n].l,n+=1):(a+=e.top[n].l,n+=1);return o},this.indent=function(e,t){const n=this.top.slice(),i=this.bottom.slice(),a=o((i[0].h+n[0].h)/2);return e?(n.unshift({h:o(a-t/2),l:e}),i.unshift({h:o(a+t/2),l:e}),new s(n,i)):this},this.stackBelow=function(e,t){const o=e.spacingAbove(this),i=r(e.top,n(this.top,o+t)),a=r(n(this.bottom,o+t),e.bottom);return new s(i,a)},this.expand=function(e,t){const o=e-this.top[0].h,i=t-this.bottom[0].h,a=n(this.top,o),d=n(this.bottom,i);return new s(a,d)},this.insertAtStart=function(e,t){const i=0,a=n(this.top,i),d=n(this.bottom,i),r=function(e){e[0].l*=0.5,e[1].l+=e[0].l};return a[0].l+=t,d[0].l+=t,a.unshift({h:o(-0.5*e.height),l:e.width}),d.unshift({h:o(0.5*e.height),l:e.width}),a[0].h>a[1].h&&r(a),d[0].h<d[1].h&&r(d),new s(a,d)},this.top=e.slice(),this.bottom=t.slice()};e.exports={borderLength:a,borderSegmentIndexAt:d,extendBorder:r,Outline:s,outlineFromDimensions:function(e){'use strict';return new s([{h:o(-0.5*e.height),l:e.width}],[{h:o(0.5*e.height),l:e.width}])}}},function(e,t,n){var o=Math.round,i=Math.min,a=Math.max;const d=n(3).formattedNodeTitle,r=n(0);e.exports=function(e,t){'use strict';const n=this,s=function(e,n){const o=e&&e.style&&e.style.width||n.maxWidth,i=n&&n.margin||n&&n.text&&n.text.margin||0;return t&&t.substractMarginFromMaxWidth&&i?o-2*i:o};n.dimensionProviderForTheme=function(t){return function(n,o){const i=n.attr&&n.attr.icon,l=t.nodeTheme(t.nodeStyles(o,n.attr)),c=d(n.title),p=s(n.attr,l),h=r.extend({},e(c,p,l.font));return h.textSize={width:h.width,height:h.height},i&&(('left'===i.position||'right'===i.position)&&(h.width&&i.width&&l.margin&&(h.width+=l.margin),h.width+=i.width),('top'===i.position||'bottom'===i.position)&&(h.height&&i.height&&l.margin&&(h.height+=l.margin),h.height+=i.height),h.height=a(h.height,i.height),h.width=a(h.width,i.width)),h.width=a(h.width+2*l.margin,2*l.cornerRadius),h.height=a(h.height+2*l.margin,2*l.cornerRadius),h}},n.nodeLayoutProviderForTheme=function(t){return function(n){const a=n.attr&&n.attr.icon,l=t.nodeTheme(t.nodeStyles(n.level,n.attr)),c=d(n.title),p=s(n.attr,l),h=e(c,p,l.font);let g=i(n.width-2*l.margin,h.width),u,m,f;if(a){switch(m={x:l.margin,y:l.margin,width:a.width,height:a.height},a.position){case'top':m.x=o((n.width-a.width)/2),u={x:o((n.width-g)/2),y:m.y+m.height+l.margin,width:g,height:n.height-a.height-3*l.margin};break;case'bottom':m.x=o((n.width-a.width)/2),m.y=n.height-a.height-l.margin,u={x:o((n.width-g)/2),y:l.margin,width:g,height:n.height-a.height-3*l.margin};break;case'left':g=i(n.width-m.width-3*l.margin,h.width),m.y=o((n.height-a.height)/2),f=m.x+m.width,u={x:o(f+(n.width-f-g)/2),y:l.margin,width:g,height:n.height-2*l.margin};break;case'right':g=i(n.width-m.width-3*l.margin,h.width),m.x=n.width-a.width-l.margin,m.y=o((n.height-a.height)/2),u={x:o((m.x-g)/2),y:l.margin,width:g,height:n.height-2*l.margin};break;default:m.x=o((n.width-a.width)/2),m.y=o((n.height-a.height)/2),u={x:o((n.width-g)/2),y:l.margin,width:g,height:n.height-2*l.margin};}r.contains(['left','right','center'],a.position)&&(u.y=o((n.height-h.height)/2))}else u={x:o((n.width-h.width)/2),y:l.margin,width:i(h.width,n.width-2*l.margin),height:n.height-2*l.margin};return{text:u,image:m}}}}},function(e,t,n){var o=Math.round;const i=n(0),a=n(7);e.exports=function(){'use strict';const e=this,t=function(e){return e+'px'},n={cornerRadius:'border-radius',"text.color":'color',"text.margin":'padding',background:'background-color',backgroundColor:'background-color',border:'border',shadow:'box-shadow',"text.font":'font',"text.alignment":'text-align'},d=function(e){return e&&e.weight?{light:'200',"semi-bold":'600'}[e.weight]||e.weight:'bold'},r=function(e){const t=e&&e.size||12,n=e&&e.lineSpacing||3;return t+'pt/'+(n+t)+'pt'},s={cornerRadius:t,"text.margin":t,background:a,border:function(e){return e.line?e.line.width+'px '+(e.line.style||'solid')+' '+e.line.color+';margin:'+-1*e.line.width+'px':'0'},shadow:function(e){const t=[];return 1===e.length&&'transparent'===e[0].color?'none':(e.forEach(function(e){t.push(e.offset.width+'px '+e.offset.height+'px '+e.radius+'px '+a(e))}),t.join(','))},"text.font":function(e){return'normal normal '+d(e)+' '+r(e)+' NotoSans, "Helvetica Neue", Roboto, Helvetica, Arial, sans-serif'}},l=function(e){let t,a;const d=[],r=function(e,o){i.each(e,function(e,l){const c=(o||'')+l;n[c]?(t=s[c]||i.identity,a=t(e),a&&(d.push(n[c]),d.push(':'),d.push(a),d.push(';'))):i.isObject(e)&&r(e,c+'.')})},l=function(e,t){t.text&&(t.text.color&&(d.push(e),d.push('.mapjs-node-light{color:'),d.push(t.text.color),d.push(';}')),t.text.lightColor&&(d.push(e),d.push('.mapjs-node-dark{color:'),d.push(t.text.lightColor),d.push(';}')),t.text.darkColor&&(d.push(e),d.push('.mapjs-node-white{color:'),d.push(t.text.darkColor),d.push(';}')))},c=function(e,t){const n=t.decorations,i=t.text&&t.text.margin||0;n&&(d.push(e),d.push(' .mapjs-decorations{position:absolute;'),'top'===n.edge||'bottom'===n.edge?('end'===n.position?d.push('right:0;'):'start'===n.position?d.push('left:0;'):d.push('left:0;width:100%;text-align:center;'),d.push(n.edge),d.push(':-'),d.push(n.overlap?o(n.height/2)+i:n.height),d.push('px;')):('left'===n.edge||'right'===n.edge)&&(d.push('left'===n.edge?'right':'left'),d.push(':100%;'),'end'===n.position?d.push('bottom:0;'):'start'===n.position?d.push('top:0;'):(d.push('top:calc(50% - '),d.push(o(n.height/2)),d.push('px);'))),d.push('}'))};return e.forEach(function(e){let t='.mapjs-node';'default'!==e.name&&(t=t+'.'+e.name.replace(/\s/g,'_')),d.push(t),d.push('{'),r(e),d.push('}'),l(t,e),c(t,e)}),d.join('')};e.process=function(e){let t='';return e.node&&(t=l(e.node)),{css:t}},e.cssFont=s['text.font']}},function(e,t,n){var o=Math.round;const i=n(0),a=n(9),d=n(39),r=function(e){'use strict';i.extend(this,e),this.toLayout=function(e,t,n){const a={nodes:{},connectors:{}},d=i.pick(this,'id','title','attr','width','height','level');return e=e||0,t=t||0,1===d.level?(d.x=o(-0.5*this.width),d.y=o(-0.5*this.height)):(d.x=e+this.deltaX||0,d.y=t+this.deltaY||0),a.nodes[this.id]=d,void 0!==n&&(a.connectors[d.id]={from:n,to:d.id}),this.subtrees&&this.subtrees.forEach(function(e){const t=e.toLayout(d.x,d.y,d.id);i.extend(a.nodes,t.nodes),i.extend(a.connectors,t.connectors)}),a}},s=function(e,t,n,l,c){'use strict';const p={id:e.id,title:e.title,attr:e.attr,deltaY:0,deltaX:0,level:c||1},h=function(e,t,n){let o,a;const d=function(t){const o=n[t].deltaY-n[t-1].deltaY,i=e[t].deltaY-e[t-1].deltaY;i<o&&(a.deltaY+=o-i)};for(let r=0;r<e.length;r+=1)a=e[r],a.attr&&a.attr.position?(a.deltaY=a.attr.position[1],(void 0==o||a.attr.position[2]>e[o].attr.position[2])&&(o=r)):a.deltaY+=t,0<r&&d(r);return o},g=function(e,t){const n=i.map(e,function(e){return i.pick(e,'deltaX','deltaY')}),o=h(e,t,n),a=o&&e[o].attr.position[1]-e[o].deltaY;if(a)for(let t=0;t<e.length;t+=1)e[t].deltaY+=a},u=function(){const t=i.map(i.keys(e.ideas),parseFloat),n=l?i.filter(t,function(t){return l(t,e.id)}):t,o=i.filter(n,function(t){return!a(e.ideas[t])});return i.sortBy(o,Math.abs)},m=t(e,p.level);return i.extend(p,m),p.outline=d.outlineFromDimensions(m),function(){return!(i.isEmpty(e.ideas)||e.attr&&e.attr.collapsed)}()&&(p.subtrees=i.map(function(){const t=[];return i.each(u(),function(n){t.push(e.ideas[n])}),t}(),function(e){return s(e,t,n,l,p.level+1)}),!i.isEmpty(p.subtrees)&&function(e){let t,a,d,r,s;i.each(e,function(e){e.deltaX=m.width+n,d=e.attr&&e.attr.position&&e.attr.position[0],d&&d>e.deltaX?(r=d-e.deltaX,e.deltaX=d):r=0,t?(s=e.outline.indent(r,n),a=s.initialHeight(),t=s.stackBelow(t,n),e.deltaY=o(t.initialHeight()-a/2-e.height/2)):t=e.outline.indent(r,n)}),e&&e.length&&(g(e,o(0.5*(m.height-t.initialHeight()))),t=t.expand(o(e[0].deltaY-0.5*m.height),o(e[e.length-1].deltaY+e[e.length-1].height-0.5*m.height))),p.outline=t.insertAtStart(m,n)}(p.subtrees)),new r(p)};e.exports={Tree:r,calculateTree:s}},function(e,t,n){var o=Math.abs;const i=n(0),a=n(12),d=n(11);e.exports=function(t,e){'use strict';let n={},r=!1,s;const l=function(){s=void 0},c=function e(n){return n=n||t,n.ideas?i.reduce(n.ideas,function(t,n){return Math.max(t,e(n))},parseInt(n.id,10)||0):parseInt(n.id,10)||0},p=function(t){return t=t||e,s||(s=c()),s+=1,t?s+'.'+t:s},h=function(e,n){const o=e.id===t.id;return e.id?l():e.id=p(n),e.ideas&&i.each(e.ideas,function(t,a){!o&&t.attr&&t.attr.group&&i.isEmpty(t.ideas)?delete e.ideas[a]:e.ideas[parseFloat(a)]=h(t,n)}),e.title||(e.title=''),e.containsDirectChild=e.findChildRankById=function(t){return parseFloat(i.reduce(e.ideas,function(e,n,o){return n.id==t?o:e},void 0))},e.findSubIdeaById=function(t){const n=i.find(e.ideas,function(e){return e.id==t});return n||i.reduce(e.ideas,function(e,n){return e||n.findSubIdeaById(t)},void 0)},e.isEmptyGroup=function(){return!t.isRootNode(e.id)&&e.attr&&e.attr.group&&i.isEmpty(e.ideas)},e.find=function(t){const n=t(e)?[i.pick(e,'id','title')]:[];return 0===i.size(e.ideas)?n:i.reduce(e.ideas,function(e,n){return i.union(e,n.find(t))},n)},e.getAttr=function(t){return e.attr&&e.attr[t]&&i.clone(e.attr[t])},e.sortedSubIdeas=function(){const t=[],n=e.ideas&&i.groupBy(i.map(i.keys(e.ideas),parseFloat),function(e){return 0<e}),o=n&&i.sortBy(n[!0],Math.abs).concat(i.sortBy(n[!1],Math.abs));return e.ideas?(i.each(o,function(n){t.push(e.ideas[n])}),t):[]},e.traverse=function(n,o){o||e===t||n(e),i.each(e.sortedSubIdeas(),function(e){e.traverse(n,o)}),o&&e!==t&&n(e)},e},g=function(e,t){let n=[];return(t=t||1,0===i.size(e))?0:(n=i.keys(e),n.push(0),i.max(i.map(n,parseFloat),function(e){return e*t}))},u=function(e){return!!i.find(t.ideas,function(t){return t.id===e})},m=function(e){let t=0,n=0,o=1;return u(e.id)&&(n=i.countBy(e.ideas,function(e,t){return 0>t}),(n['true']||0)<n['false']&&(o=-1)),t=g(e.ideas,o)+o,t},f=function(e,t){let n=0;return e.ideas=e.ideas||{},n=m(e),e.ideas[n]=t,n},y=function(e){return t.id==e?t:t.findSubIdeaById(e)},x=function(e,t){return i(i.map(i.keys(e.ideas),parseFloat)).reject(function(e){return 0>e*t})},v=function(e){return 0>e?-1:1},b={},w={},E={},k=function(e,n,o){o?t.dispatchEvent('changed',e,n,o):t.dispatchEvent('changed',e,n)},C=function(e,n,o,i){const a={eventMethod:e,eventArgs:n,undoFunction:o};return E[i]?void E[i].push(a):void(!b[i]&&(b[i]=[]),b[i].push(a),r?t.dispatchEvent('changed','redo',void 0,i):(k(e,n,i),w[i]=[]))},T=function(e,n,o,i){return'batch'!==e&&!E[i]&&b&&b[i]&&0!==b[i].length?void function(){const a=b[i].pop();'batch'===a.eventMethod?b[i].push({eventMethod:'batch',eventArgs:a.eventArgs.concat([[e].concat(n)]),undoFunction:function(){o(),a.undoFunction()}}):b[i].push({eventMethod:'batch',eventArgs:[[a.eventMethod].concat(a.eventArgs)].concat([[e].concat(n)]),undoFunction:function(){o(),a.undoFunction()}}),r?t.dispatchEvent('changed','redo',void 0,i):(k(e,n,i),w[i]=[])}():void C(e,n,o,i)},F=function(e,t,n){return e.ideas[t]=e.ideas[n],delete e.ideas[n],function(){return e.ideas[n]||!e.ideas[t]?!1:void(e.ideas[n]=e.ideas[t],delete e.ideas[t])}},S=function(e){const t=(e+'').indexOf('.');return 0<t&&e.substr(t+1)},I={},N='/xxxxxxxx-yxxx-yxxx-yxxx-xxxxxxxxxxxx/'.replace(/[xy]/g,function(e){const t=0|16*Math.random(),n='x'===e?t:8|3&t;return n.toString(16)})+(e||''),A=function(e,t,n){const o=e&&i.extend({},e.attr);if(!e)return!1;if(e.attr=i.extend({},e.attr),!n||'false'===n||i.isObject(n)&&i.isEmpty(n)){if(!e.attr[t])return!1;delete e.attr[t]}else{if(i.isEqual(e.attr[t],n))return!1;e.attr[t]=JSON.parse(JSON.stringify(n))}return 0===i.size(e.attr)&&delete e.attr,function(){e.attr=o}},L=function(e,n){return i.find(t.links,function(t){return t.ideaIdFrom===e&&t.ideaIdTo===n||t.ideaIdFrom===n&&t.ideaIdTo===e})},R=function(e,t){const n=y(e),o=y(t),a=n&&o&&(i.find(n.ideas,function(e){return e.id===t})||i.find(o.ideas,function(t){return t.id===e}));return e!==t&&!!n&&!!o&&!a},D=function(e,n){return i.find(t.links,function(t){return t.ideaIdFrom==e&&t.ideaIdTo==n})};return t.setConfiguration=function(e){n=e||{}},t.getSessionKey=function(){return e},t.nextSiblingId=function(e){const n=t.findParent(e),a=n&&n.findChildRankById(e),d=a&&x(n,a),r=d&&i.reject(d,function(e){return o(e)<=o(a)});return!!n&&0!==r.length&&n.ideas[i.min(r,Math.abs)].id},t.sameSideSiblingIds=function(e){const n=t.findParent(e),o=n.findChildRankById(e);return i.without(i.map(i.pick(n.ideas,x(n,o)),function(e){return e.id}),e)},t.getAttrById=function(e,t){const n=y(e);return n&&n.getAttr(t)},t.previousSiblingId=function(e){const n=t.findParent(e),a=n&&n.findChildRankById(e),d=a&&x(n,a),r=d&&i.reject(d,function(e){return o(e)>=o(a)});return!!n&&0!==r.length&&n.ideas[i.max(r,Math.abs)].id},t.clone=function(e){const n=e&&e!=t.id&&t.findSubIdeaById(e)||t;return JSON.parse(JSON.stringify(n))},t.cloneMultiple=function(e){return i.map(e,t.clone)},t.calculatePath=function(e,n,o){return t.isRootNode(e)?[]:(n=n||[t],o=o||t,o.containsDirectChild(e)?n:i.reduce(o.ideas,function(o,i){return o||t.calculatePath(e,[i].concat(n),i)},!1))},t.getSubTreeIds=function(e){const n=[],o=function(e){return i.isEmpty(e.ideas)?[]:void i.each(e.sortedSubIdeas(),function(e){o(e),n.push(e.id)})};return o(t.findSubIdeaById(e)||t),n},t.findParent=function(e,n){return n=n||t,!t.isRootNode(e)&&(n.containsDirectChild(e)?n:i.reduce(n.ideas,function(n,o){return n||t.findParent(e,o)},!1))},t.isBatchActive=function(t){return!!E[t||e]},t.startBatch=function(n){t.endBatch(n),E[n||e]=[]},t.discardBatch=function(t){E[t||e]=void 0},t.endBatch=function(t){const n=t||e,o=E[n];E[n]=void 0,i.isEmpty(o)||(1===i.size(o)?C(o[0].eventMethod,o[0].eventArgs,o[0].undoFunction,n):function(){const e=i.map(o,function(e){return[e.eventMethod].concat(e.eventArgs)}),t=i.sortBy(i.map(o,function(e){return e.undoFunction}),function(e,t){return-1*t});C('batch',e,function(){i.each(t,function(e){e()})},n)}())},t.execCommand=function(n,o,a){return!!I[n]&&I[n].apply(t,[a||e].concat(i.toArray(o)))},t.batch=function(e){const n=t.isBatchActive();let o;n||t.startBatch();try{o=e()}catch(o){throw n||t.discardBatch(),o}return n||t.endBatch(),o},I.batch=function(e){t.startBatch(e);try{i.each(i.toArray(arguments).slice(1),function(n){t.execCommand(n[0],n.slice(1),e)})}finally{t.endBatch(e)}},t.pasteMultiple=function(e,n){return t.batch(function(){return i.map(n,function(n){return t.paste(e,n)})})},t.paste=function(){return t.execCommand('paste',arguments)},I.paste=function(e,o,a,d){const r=o==t.id?t:t.findSubIdeaById(o),c=function(e){const t=i.omit(e,'ideas','id','attr');let o=1,a,d;return t.attr=i.omit(e.attr,n.nonClonedAttributes),i.isEmpty(t.attr)&&delete t.attr,e.ideas&&(a=i.groupBy(i.map(i.keys(e.ideas),parseFloat),function(e){return 0<e}),d=i.sortBy(a[!0],Math.abs).concat(i.sortBy(a[!1],Math.abs)),t.ideas={},i.each(d,function(n){t.ideas[o++]=c(e.ideas[n])})),t};let p=0,g;return(d&&(s=parseInt(d,10)-1),g=a&&(a.title||a.attr)&&h(c(a),S(d)),r&&g)&&(p=f(r,g),d&&l(),A(g,'position'),C('paste',[o,a,g.id],function(){delete r.ideas[p]},e),g.id)},t.flip=function(){return t.execCommand('flip',arguments)},I.flip=function(e,n){const o=t.findParent(n),i=o&&t.isRootNode(o.id)&&o.findChildRankById(n);return!!i&&(function(){const t=g(o.ideas,-1*v(i)),a=t-10*v(i),d=F(o,a,i);C('flip',[n],d,e)}(),!0)},t.initialiseTitle=function(){return t.execCommand('initialiseTitle',arguments)},I.initialiseTitle=function(e,t,n){const o=y(t),i=o&&o.title;return!!o&&i!==n&&(o.title=n,T('initialiseTitle',[t,n],function(){o.title=i},e),!0)},t.updateTitle=function(){return t.execCommand('updateTitle',arguments)},I.updateTitle=function(e,t,n){const o=y(t),i=o&&o.title;return!!o&&i!==n&&(o.title=n,C('updateTitle',[t,n],function(){o.title=i},e),!0)},t.addSubIdea=function(){return t.execCommand('addSubIdea',arguments)},I.addSubIdea=function(e,t,n,o){const i=y(t);return!!i&&(o&&y(o)?!1:function(){const a=h({title:n,id:o}),d=f(i,a);return C('addSubIdea',[t,n,a.id],function(){delete i.ideas[d]},e),a.id}())},t.removeMultiple=function(e){let n=!1;return t.startBatch(),n=i.map(e,t.removeSubIdea),t.endBatch(),n},t.removeSubIdea=function(){return t.execCommand('removeSubIdea',arguments)},I.removeSubIdea=function(e,n){return!!function(){return!t.isRootNode(n)||1<i.size(t.ideas)}()&&function(){const o=t.findParent(n)||t,a=o&&o.findChildRankById(n),d=o&&o.ideas[a],r=t.links,s={};return!!a&&(d.traverse((e)=>s[e.id]=!0),delete o.ideas[a],t.links=i.reject(t.links,function(e){return s[e.ideaIdFrom]||s[e.ideaIdTo]}),C('removeSubIdea',[n],function(){o.ideas[a]=d,t.links=r},e),!0)}()},t.insertIntermediateMultiple=function(e,n){return t.batch(function(){const o=t.insertIntermediate(e[0],n&&n.title);return n&&n.attr&&Object.keys(n.attr).forEach(function(e){t.updateAttr(o,e,n.attr[e])}),i.each(e.slice(1),function(e){t.changeParent(e,o)}),o})},t.insertIntermediate=function(){return t.execCommand('insertIntermediate',arguments)},I.insertIntermediate=function(e,n,o,i){const a=t.isRootNode(n)?t:t.findParent(n),d=a&&a.findChildRankById(n);return!!function(){return t.id!=n&&!!a&&(i&&y(i)?!1:!!d)}()&&function(){const t=a.ideas[d],r=h({title:o,id:i});return a.ideas[d]=r,r.ideas={1:t},C('insertIntermediate',[n,o,r.id],function(){a.ideas[d]=t},e),r.id}()},t.changeParent=function(){return t.execCommand('changeParent',arguments)},I.changeParent=function(e,n,o){const i=y(o),a=t.findSubIdeaById(n),d=t.isRootNode(n)?t:t.findParent(n);return!!function(){return n!=o&&!!i&&!!a&&!a.findSubIdeaById(o)&&!i.containsDirectChild(n)&&!!d}()&&(function(){const t=d.findChildRankById(n),r=f(i,a),s=a.getAttr('position');A(a,'position'),delete d.ideas[t],C('changeParent',[n,o],function(){A(a,'position',s),d.ideas[t]=a,delete i.ideas[r]},e)}(),!0)},t.mergeAttrProperty=function(e,n,o,a){let d=t.getAttrById(e,n)||{};return a?d[o]=a:delete d[o],i.isEmpty(d)&&(d=!1),t.updateAttr(e,n,d)},t.updateAttr=function(){return t.execCommand('updateAttr',arguments)},I.updateAttr=function(e,t,n,o){const i=y(t),a=A(i,n,o);return a&&C('updateAttr',[t,n,o],a,e),!!a},t.getOrderedSiblingRanks=function(e,n){const o=t.findParent(e),a=o&&o.findChildRankById(e);return!!a&&(n&&n.ignoreRankSide?i.sortBy(i.map(i.keys(o.ideas),parseFloat)):i.sortBy(x(o,a),Math.abs))},t.moveRelative=function(e,n,o){const i=t.findParent(e),a=i&&i.findChildRankById(e),d=t.getOrderedSiblingRanks(e,o),r=d&&d.indexOf(a),s=function(){let e=r+(0<n?n+1:n);return o&&o.ignoreRankSide&&(0>a?(e=r+(0>n?n-1:n),0<d[e]&&++e):0>d[e]&&--e),e}(),l=0<=s&&d&&d.length&&d[s],c=l&&i&&i.ideas[l];let p=!1;return!function(){return!!i&&(o&&o.ignoreRankSide&&0>a?s>d.length-1:0>s)}()&&(t.startBatch(),o&&o.ignoreRankSide&&l&&c&&0>l*a&&t.flip(e),p=t.positionBefore(e,c&&c.id,i),t.endBatch(),p)},t.positionBefore=function(){return t.execCommand('positionBefore',arguments)},I.positionBefore=function(e,n,a,d){let r,s,l,c,p,h,u;const m=d||t.findParent(n),f=m&&m.findChildRankById(n);if(!m)return!1;if(n==a)return!1;if(r=0,a){if(s=m.findChildRankById(a),!s)return!1;if(l=x(m,s),c=i.reject(i.sortBy(l,Math.abs),function(e){return o(e)>=o(s)}),p=0<c.length?i.max(c,Math.abs):0,p==f)return!1;r=p+(s-p)/2}else{if(h=g(m.ideas,0>f?-1:1),h==f)return!1;r=h+10*(0>f?-1:1)}return r!=f&&(u=F(m,r,f),C('positionBefore',[n,a],u,e),!0)},t.addLink=function(){return t.execCommand('addLink',arguments)},I.addLink=function(e,n,o){return!!R(n,o)&&!L(n,o)&&(t.links=t.links||[],t.links.push({ideaIdFrom:n,ideaIdTo:o,attr:{style:{color:'#FF0000',lineStyle:'dashed'}}}),C('addLink',[n,o],function(){t.links.pop()},e),!0)},t.removeLink=function(){return t.execCommand('removeLink',arguments)},I.removeLink=function(e,n,o){for(let a=0,d;t.links&&a<t.links.length;){if(d=t.links[a],d.ideaIdFrom===n&&d.ideaIdTo===o)return t.links.splice(a,1),C('removeLink',[n,o],function(){t.links.push(i.clone(d))},e),!0;a+=1}return!1},t.getLinkAttr=function(e,t,n){const o=D(e,t);return o&&o.attr&&o.attr[n]&&o.attr[n]},t.updateLinkAttr=function(){return t.execCommand('updateLinkAttr',arguments)},I.updateLinkAttr=function(e,t,n,o,i){const a=D(t,n),d=A(a,o,i);return d&&C('updateLinkAttr',[t,n,o,i],d,e),!!d},t.canUndo=function(){return!!(b[e]&&0<b[e].length)},t.canRedo=function(){return!!(w[e]&&0<w[e].length)},t.undo=function(){return t.execCommand('undo',arguments)},I.undo=function(e){let n=!1;return t.endBatch(),n=b[e]&&b[e].pop(),n&&n.undoFunction&&(n.undoFunction(),w[e]||(w[e]=[]),w[e].push(n),t.dispatchEvent('changed','undo',[],e),!0)},t.redo=function(){return t.execCommand('redo',arguments)},I.redo=function(e){let n=!1;return t.endBatch(),n=w[e]&&w[e].pop(),!!n&&(r=!0,t.execCommand(n.eventMethod,n.eventArgs,e),r=!1,!0)},t.storeResource=function(){return t.execCommand('storeResource',arguments)},I.storeResource=function(n,o,a){const d=function(){const n=i.keys(t.resources),o=e?i.filter(n,RegExp.prototype.test.bind(new RegExp('\\/'+e+'$'))):n,a=i.map(o,function(e){return parseInt(e,10)});return i.isEmpty(a)?0:i.max(a)},r=function(){const e=d()+1;return e+N};return function(){if(!a&&t.resources)return i.find(i.keys(t.resources),function(e){return t.resources[e]===o})}()||function(){const e=a||r();return t.resources=t.resources||{},t.resources[e]=o,t.dispatchEvent('resourceStored',o,e,n),e}()},t.getResource=function(e){return t.resources&&t.resources[e]},t.hasSiblings=function(e){const n=t.findParent(e);return!t.isRootNode(e)&&n&&1<i.size(n.ideas)},t.isRootNode=function(e){return u(e)},t.getDefaultRootId=function(){const e=t&&i.values(t.ideas);return e&&e.length&&e[0].id},d(t),a(t),h(t),t}},function(e,t,n){const o=n(14),i=function(e,t){'use strict';const n=e&&o.stripLink(e);return e?''===n.trim()?!t||e.length<t?e:e.substring(0,t)+'...':n:''},a=function(e){'use strict';return e.replace(/[ \t]+/g,' ')},d=function(e){'use strict';return e.replace(/\r/g,'').split('\n').map((e)=>e.trim()).join('\n')};e.exports=function(e,t){'use strict';return d(a(i(e,t)))}},function(e,t,n){const o=n(13);e.exports=function e(t,n,i,a){'use strict';const d=!a&&(!t.formatVersion||3>t.formatVersion);a=a||(d?1:0),!i&&(d||a)&&n(t,a),o(t).forEach(function(t){e(t,n,i,a+1)}),i&&(d||a)&&n(t,a)}},function(e,t,n){var o=Math.round;const i=n(1),a=n(18);i.fn.createNode=function(e){'use strict';return i('<div>').attr({id:a(e.id),tabindex:0,"data-mapjs-role":'node'}).css({display:'block',position:'absolute',top:o(e.y||0)+'px',left:o(e.x||0)+'px'}).addClass('mapjs-node').appendTo(this)}},function(e,t,n){var o=Math.sin,i=Math.sqrt,a=Math.round,d=Math.abs,r=Math.cos,s=Math.min;n(46);const l=n(1),c=n(0),p=n(4),h=n(2).Themes.default,g=n(2).Connectors,u=n(3).URLHelper,m=n(2).foregroundStyle,f=n(3).formattedNodeTitle,y=n(16),x={dashed:'8, 8',solid:''},v=n(15),b=function(e){'use strict';return v('connector_'+e.from+'_'+e.to)},w=function(e){'use strict';return v('link_'+e.ideaIdFrom+'_'+e.ideaIdTo)},E=n(18),k=function(e){'use strict';const t=c.omit(e,'left','top');return t.transform='translate('+e.left+'px,'+e.top+'px)',t};n(17),n(55),l.fn.setThemeClassList=function(e){'use strict';const t=this[0],n=function(e){return c.filter(e,function(e){return /^level_.+/.test(e)||/^attr_.+/.test(e)})},o=n(t.classList),i=e&&e.length&&n(e);return t.classList.remove.apply(t.classList,o),i&&i.length&&t.classList.add.apply(t.classList,i),this},l.fn.getBox=function(){'use strict';const e=this&&this[0];return!!e&&{top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}},l.fn.getDataBox=function(){'use strict';const e=this.data();return e&&e.width&&e.height?{top:e.y,left:e.x,width:e.width,height:e.height}:this.getBox()},l.fn.animateConnectorToPosition=function(e,t){'use strict';const n=l(this),o=n.data('nodeFrom'),i=n.data('nodeTo'),r=o&&o.getDataBox(),c=i&&i.getDataBox(),p={from:o&&o.getBox(),to:i&&i.getBox()};return t=t||1,r&&c&&p&&p.from.width===r.width&&p.to.width===c.width&&p.from.height===r.height&&p.to.height===c.height&&d(p.from.top-p.to.top-(r.top-c.top))<t&&d(p.from.left-p.to.left-(r.left-c.left))<t&&(n.animate({left:a(s(r.left,c.left)),top:a(s(r.top,c.top))},e),!0)},l.fn.queueFadeOut=function(e){'use strict';const t=this;return t.fadeOut(c.extend({complete:function(){t.is(':focus')&&t.parents('[tabindex]').focus(),t.remove()}},e))},l.fn.queueFadeIn=function(e){'use strict';const t=this;return t.css('opacity',0).animate({opacity:1},c.extend({complete:function(){t.css('opacity','')}},e))},l.fn.updateStage=function(){'use strict';const e=this.data(),t={"min-width":a(e.width-e.offsetX),"min-height":a(e.height-e.offsetY),width:a(e.width-e.offsetX),height:a(e.height-e.offsetY),"transform-origin":'top left',transform:'translate3d('+a(e.offsetX)+'px, '+a(e.offsetY)+'px, 0)'},n=this.find('[data-mapjs-role=svg-container]')[0];return e.scale&&1!==e.scale&&(t.transform='scale('+e.scale+') translate('+a(e.offsetX)+'px, '+a(e.offsetY)+'px)'),this.css(t),n&&(n.setAttribute('viewBox',''+a(-1*e.offsetX)+' '+a(-1*e.offsetY)+' '+a(e.width)+' '+a(e.height)),n.setAttribute('style','top:'+a(-1*e.offsetY)+'px; left:'+a(-1*e.offsetX)+'px; width:'+a(e.width)+'px; height:'+a(e.height)+'px;')),this},p.appendUnderLine=function(e,t,n){'use strict';return t.nodeUnderline&&(e.d+='M'+(t.nodeUnderline.from.x-n.left)+','+(t.nodeUnderline.from.y-n.top)+' H'+(t.nodeUnderline.to.x-n.left)),e},l.fn.updateConnector=function(e){'use strict';return l.each(this,function(){let t=!1,n=!1,o,i,d,r;const s=l(this),u=s.data('nodeFrom'),m=s.data('nodeTo'),f=s.data('attr'),v=!(p.theme&&p.theme.blockParentConnectorOverride),b=function(e,t){const n=e.data().innerRect;n&&(t.left+=n.dx,t.top+=n.dy,t.width=n.width,t.height=n.height)},w=function(e){e=e||'text';let t=s.find(e+'.mapjs-connector-text');return f&&f.label?(0===t.length&&(t=y(e).attr('class','mapjs-connector-text'),t.appendTo(s)),t):(t.remove(),!1)};if(!u||!m||0===u.length||0===m.length)return void s.hide();e?(d=u.getDataBox(),r=m.getDataBox()):(d=u.getBox(),r=m.getBox()),b(u,d),b(m,r),d.styles=u.data('styles'),r.styles=m.data('styles'),n={from:d,to:r,theme:p.theme&&p.theme.name,attr:f};c.isEqual(n,s.data('changeCheck'))||(s.data('changeCheck',n),t=c.extend(g.themePath(d,r,p.theme),f),s.data('theme',t.theme),o=s.find('path.mapjs-connector'),i=s.find('path.mapjs-link-hit'),s.css(c.extend(k(t.position),{stroke:t.color})),0===o.length&&(o=y('path').attr('class','mapjs-connector').appendTo(s)),o.attr({d:t.d,"stroke-width":t.width,"stroke-dasharray":x[t.lineStyle||'solid'],fill:'transparent'}),v?(0===i.length&&(i=y('path').attr('class','mapjs-link-hit').appendTo(s)),i.attr({d:t.d})):0<i.length&&i.remove(),function(){const e=t.theme&&t.theme.label||h.connector.default.label,n=w('rect'),i=w(),d=i&&i[0],l=n&&n[0],c=o&&o[0],p=c&&function(n){return e.position.ratio?n.getPointAtLength(n.getTotalLength()*e.position.ratio):{x:r.left+r.width/2-t.position.left,y:r.top-t.position.top-e.position.aboveEnd}}(c),g=f&&f.label||'';s.data('label-center-point',p);let u=!1;return!!d&&(d.style.stroke='none',d.style.fill=e.text.color,d.style.fontSize=e.text.font.sizePx+'px',d.style.fontWeight=e.text.font.weight,d.style.alignmentBaseline='hanging',i.text(g.trim()),u=d.getClientRects()[0],d.setAttribute('x',a(p.x-u.width/2)),d.setAttribute('y',a(p.y-u.height)),l.setAttribute('x',a(p.x-u.width/2)),l.setAttribute('y',a(p.y-u.height-2)),l.style.height=a(u.height)+'px',l.style.width=a(u.width)+'px',l.style.fill=e.backgroundColor,l.style.stroke=e.borderColor,i)}())})},l.fn.updateLink=function(){'use strict';return l.each(this,function(){const e=l(this),t=e.data('nodeFrom'),d=e.data('nodeTo'),s=Math.tan(Math.PI/9),n=c.pick(e.data(),'lineStyle','arrow','color');let p=!1,h=e.find('path.mapjs-link'),u=e.find('path.mapjs-link-hit'),f=e.find('path.mapjs-arrow'),v=!1,b=!1,w=!1,E,C,T,F,S,I,N,m,A;if(!t||!d||0===t.length||0===d.length)return void e.hide();v=t.getBox(),b=d.getBox(),w={from:v,to:b,attrs:n};c.isEqual(w,e.data('changeCheck'))||(e.data('changeCheck',w),p=g.linkPath(v,b),e.css(c.extend(k(p.position),{stroke:n.color})),0===h.length&&(h=y('path').attr('class','mapjs-link').appendTo(e)),h.attr({d:p.d,"stroke-dasharray":x[n.lineStyle]}),0===u.length&&(u=y('path').attr('class','mapjs-link-hit').appendTo(e)),u.attr({d:p.d}),n.arrow?(0===f.length&&(f=y('path').attr('class','mapjs-arrow').appendTo(e)),S=14,m=p.conn.to.x-p.conn.from.x,A=p.conn.to.y-p.conn.from.y,0===m?(I=0>A?-1:1,E=p.conn.to.x+S*o(s)*I,T=p.conn.to.x-S*o(s)*I,C=p.conn.to.y-S*r(s)*I,F=p.conn.to.y-S*r(s)*I):(N=A/m,p.conn.from.x<p.conn.to.x&&(S=-S),E=p.conn.to.x+(1-N*s)*S/i((1+N*N)*(1+s*s)),C=p.conn.to.y+(N+s)*S/i((1+N*N)*(1+s*s)),T=p.conn.to.x+(1+N*s)*S/i((1+N*N)*(1+s*s)),F=p.conn.to.y+(N-s)*S/i((1+N*N)*(1+s*s))),f.attr('d','M'+a(E-p.position.left)+','+a(C-p.position.top)+'L'+a(p.conn.to.x-p.position.left)+','+a(p.conn.to.y-p.position.top)+'L'+a(T-p.position.left)+','+a(F-p.position.top)+'Z').css('fill',n.color).show()):f.hide())})},l.fn.addNodeCacheMark=function(e){'use strict';this.data('nodeCacheMark',p.nodeCacheMark(e))},l.fn.updateNodeContent=function(e,t,n){'use strict';const o=l(this),i=function(){let e=o.find('[data-mapjs-role=title]');return 0===e.length&&(e=l('<span>').attr('data-mapjs-role','title').appendTo(o)),e},d=function(){let e=o.find('[data-mapjs-role=decorations]');return 0===e.length&&(e=l('<div data-mapjs-role="decorations" class="mapjs-decorations">').on('mousedown click',function(t){t.stopPropagation(),t.stopImmediatePropagation()}).appendTo(o)),e},r=function(t){const n=f(t,25),a=p.nodeTextPadding||11,d=i(),r=d[0],s=e.attr&&e.attr.style&&e.attr.style.width;let l;d.text(n.trim()),o.data('title',t),d.css({"max-width":'',"min-width":''}),s&&d.css({"max-width":s,"min-width":s}),r.scrollWidth-a>r.offsetWidth?d.css('max-width',r.scrollWidth+'px'):!s&&(l=r.offsetHeight,d.css('min-width',d.css('max-width')),r.offsetHeight===l&&d.css('min-width',''))},s=n||e.level,h=p.theme&&p.theme.attributeValue||function(e,t,n,o){return o},g=p.theme&&p.theme.nodeStyles||function(){return['default']},y=g(s,e.attr),x=h(['node'],y,['border','type'],'surround'),v=h(['node'],y,['decorations','edge'],''),b=h(['node'],y,['decorations','overlap'],''),w=e.attr&&e.attr.group,E={x:a(e.x),y:a(e.y),width:a(e.width),height:a(e.height),nodeId:e.id,styles:y,parentConnector:e&&e.attr&&e.attr.parentConnector};let k;return E.innerRect=c.pick(E,['width','height']),E.innerRect.dx=0,E.innerRect.dy=0,w?(this.css({margin:'',width:e.width,height:e.height}),r('')):(r(e.title),function(e){const t=u.getLink(e);let n=o.find('a.mapjs-hyperlink');return t?void(0===n.length&&(n=l('<a target="_blank" class="mapjs-hyperlink icon-hyperlink"></a>').addClass().appendTo(d())),n.attr('href',t).show()):void n.hide()}(e.title),function(e){let t=o.find('.mapjs-label');return e||0===e?void(0===t.length&&(t=l('<span class="mapjs-label"></span>').appendTo(d())),t.text(e).show()):void t.hide()}(e.label),function(){const t=e.attr&&e.attr.note;let n=o.find('a.mapjs-note');return t?void(0===n.length&&(n=l('<a href="#" class="mapjs-note icon-note"></a>').appendTo(d()).click(function(){o.trigger('decoration-click','note')})),n.show()):void n.hide()}(),function(){const t=e.attr&&e.attr.attachment;let n=o.find('a.mapjs-attachment');return t?void(0===n.length&&(n=l('<a href="#" class="mapjs-attachment icon-attachment"></a>').appendTo(d()).click(function(){o.trigger('attachment-click'),o.trigger('decoration-click','attachment')})),n.show()):void n.hide()}(),this.css({margin:'',width:'',height:''}),'left'===v?(E.innerRect.dx=d().outerWidth(),E.innerRect.width=E.width-d().outerWidth(),o.css('margin-left',d().outerWidth())):'right'===v?(E.innerRect.width=E.width-d().outerWidth(),o.css('margin-right',d().outerWidth())):'top'===v?(k=d().outerHeight()*(b?0.5:1),E.innerRect.dy=k,E.innerRect.height=E.height-k,k&&o.css('margin-top',k)):'bottom'===v&&(k=d().outerHeight()*(b?0.5:1),E.innerRect.height=E.height-k,o.css('margin-bottom',d().outerHeight()*(b?0.5:1)))),o.setThemeClassList(y).attr('mapjs-level',s),o.data(E).addNodeCacheMark(e),function(t){let n=e.attr&&e.attr.style&&e.attr.style.background;('false'===n||'transparent'===n)&&(n=!1),o.removeClass('mapjs-node-dark mapjs-node-white mapjs-node-light mapjs-node-colortext'),o.css({color:'',"background-color":''}),n&&(t?o.css('color',n):(o.css('background-color',n),o.addClass({color:'mapjs-node-light',lightColor:'mapjs-node-dark',darkColor:'mapjs-node-white'}[m(n)]))),t&&o.addClass('mapjs-node-colortext')}('surround'!==x),function(e){let n,d,r,s;const l=i(),h={"min-height":'',"min-width":'',"background-image":'',"background-repeat":'',"background-size":'',"background-position":''},g={"margin-top":'',"margin-left":''};o.css({padding:''}),e&&(s=parseInt(o.css('padding-left'),10),n=l.outerHeight(),d=l.outerWidth(),r=parseInt(l.css('max-width'),10),c.extend(h,{"background-image":'url("'+(t?t(e.url):e.url)+'")',"background-repeat":'no-repeat',"background-size":e.width+'px '+e.height+'px',"background-position":'center center'}),'top'===e.position||'bottom'===e.position?(h['background-position']='top'===e.position?'center '+s+'px':p.fixedLayout?'center '+(s+n)+'px':'center '+e.position+' '+s+'px',h['padding-'+e.position]=e.height+2*s,h['min-width']=e.width,e.width>r&&(g['margin-left']=a((e.width-r)/2))):'left'===e.position||'right'===e.position?(h['background-position']='left'===e.position?s+'px center':p.fixedLayout?d+2*s+'px center ':e.position+' '+s+'px center',h['padding-'+e.position]=e.width+2*s,e.height>n&&(g['margin-top']=a((e.height-n)/2),h['min-height']=e.height)):(e.height>n&&(g['margin-top']=a((e.height-n)/2),h['min-height']=e.height),h['min-width']=e.width,e.width>r&&(g['margin-left']=a((e.width-r)/2)))),o.css(h),l.css(g)}(e.attr&&e.attr.icon),function(){e.attr&&e.attr.collapsed?o.addClass('collapsed'):o.removeClass('collapsed')}(),o.trigger('mapjs:resize'),o},l.fn.placeCaretAtEnd=function(){'use strict';const e=this[0];let t,n,o;window.getSelection&&document.createRange?(t=document.createRange(),t.selectNodeContents(e),t.collapse(!1),n=window.getSelection(),n.removeAllRanges(),n.addRange(t)):document.body.createTextRange&&(o=document.body.createTextRange(),o.moveToElementText(e),o.collapse(!1),o.select())},l.fn.selectAll=function(){'use strict';const e=this[0];let t,n,o;window.getSelection&&document.createRange?(t=document.createRange(),t.selectNodeContents(e),n=window.getSelection(),n.removeAllRanges(),n.addRange(t)):document.body.createTextRange&&(o=document.body.createTextRange(),o.moveToElementText(e),o.select())},l.fn.innerText=function(){'use strict';const e=this.html(),t=/<br\/?>/.test(e),n=/<div>/.test(e);if(n&&this[0].innerText)return this[0].innerText.trim();return t?e.replace(/<br\/?>/gi,'\n').replace(/(<([^>]+)>)/gi,''):this.text()},l.fn.editNode=function(e){'use strict';const t=this,n=this.find('[data-mapjs-role=title]'),o=this.data('title'),i=n.text(),a=l.Deferred(),d=function(){p(),n.css('word-break',''),n.removeAttr('contenteditable'),t.shadowDraggable()},r=function(){const e=n.innerText();return e===o?s():void(d(),a.resolve(e))},s=function(){d(),n.text(i),a.reject()},c=function(t){const e=13;t.shiftKey&&t.which===e||(t.which===e?(r(),t.stopPropagation()):t.which===27?(s(),t.stopPropagation()):t.which===9||t.which===83&&(t.metaKey||t.ctrlKey)&&!t.altKey?(r(),t.preventDefault()):!t.shiftKey&&t.which===90&&(t.metaKey||t.ctrlKey)&&!t.altKey&&(n.text()===o&&s(),t.stopPropagation()))},p=function(){n.off('blur',r).off('keydown',c)};return function(){n.on('blur',r).on('keydown',c)}(),o!==i&&n.css('word-break','break-all'),n.text(o).attr('contenteditable',!0).focus(),e?n.selectAll():o&&n.placeCaretAtEnd(),t.shadowDraggable({disable:!0}),a.promise()},l.fn.updateReorderBounds=function(e,t,n){'use strict';const o=this;return e?void(o.show(),o.attr('mapjs-edge',e.edge),'top'===e.edge?o.css({top:e.minY,left:a(n.x-o.width()/2)}):o.css({top:a(n.y-o.height()/2),left:e.x-('left'===e.edge?o.width():0)})):void o.hide()},l.fn.createConnector=function(e){'use strict';const t=this.parent('[data-mapjs-role=stage]');return y('g').attr({id:b(e),"data-mapjs-role":'connector'}).data({nodeFrom:t.nodeWithId(e.from),nodeTo:t.nodeWithId(e.to),attr:e.attr}).appendTo(this)},l.fn.createLink=function(e){'use strict';const t=c.extend({color:'red',lineStyle:'dashed'},e.attr&&e.attr.style),n=this.parent('[data-mapjs-role=stage]');return y('g').attr({id:w(e),"data-mapjs-role":'link'}).data({nodeFrom:n.nodeWithId(e.ideaIdFrom),nodeTo:n.nodeWithId(e.ideaIdTo)}).data(t).appendTo(this)},l.fn.nodeWithId=function(e){'use strict';return this.find('#'+E(e))},l.fn.findConnector=function(e){'use strict';return this.find('#'+b(e))},l.fn.findLink=function(e){'use strict';return this.find('#'+w(e))},l.fn.createReorderBounds=function(){'use strict';const e=l('<div>').attr({"data-mapjs-role":'reorder-bounds',class:'mapjs-reorder-bounds'}).hide().css('position','absolute').appendTo(this);return e},p.viewController=function(e,t,n,o,i,r){'use strict';let h=!1,g=l(),u=l(),m;const f=t.parent(),y={duration:400,queue:'nodeQueue',easing:'linear'},x=e.isEditingEnabled()?t.createReorderBounds():l('<div>'),v=function(){return m?m:(m={left:f.scrollLeft(),top:f.scrollTop(),innerWidth:f.innerWidth(),innerHeight:f.innerHeight()},m)},b=function(e,n){const o=t.data(),i=v();return{x:o.scale*(e+o.offsetX)-i.left,y:o.scale*(n+o.offsetY)-i.top}},w=function(e,n){const o=t.data(),i=v();return{x:(i.left+e)/o.scale-o.offsetX,y:(i.top+n)/o.scale-o.offsetY}},E=function(){const e=l(this);e.css({left:e.data('x'),top:e.data('y')}).trigger('mapjs:move')},k=function(){const e=l(this);e.clearQueue(y.queue).animate({left:e.data('x'),top:e.data('y'),opacity:1},c.extend({complete:function(){e.css('opacity',''),e.each(E)}},y)).trigger('mapjs:animatemove')},C=function(e,n){const o=t.data();let i=!1;e<-1*o.offsetX&&(o.width=o.width-o.offsetX-e,o.offsetX=-1*e,i=!0),n<-1*o.offsetY&&(o.height=o.height-o.offsetY-n,o.offsetY=-1*n,i=!0),e>o.width-o.offsetX&&(o.width=o.offsetX+e,i=!0),n>o.height-o.offsetY&&(o.height=o.offsetY+n,i=!0),i&&t.updateStage()},T=function(){return l(this).each(function(){const e=l(this).data(),t=p.stageMargin||{top:0,left:0,bottom:0,right:0};C(e.x-t.left,e.y-t.top),C(e.x+e.width+t.right,e.y+e.height+t.bottom)})},F=function(e,n,o){const i=t.data(),d={x:a(f.innerWidth()/2),y:a(f.innerHeight()/2)},r=p.stageVisibilityMargin||{top:0,left:0,bottom:0,right:0};let s=!1,l=!1;C(e-d.x/i.scale,n-d.y/i.scale),C(e+d.x/i.scale-r.left,n+d.y/i.scale-r.top),s=i.scale*(e+i.offsetX)-d.x,l=i.scale*(n+i.offsetY)-d.y,f.finish(),o?f.animate({scrollLeft:s,scrollTop:l},{duration:400}):(f.scrollLeft(s),f.scrollTop(l))},S=function(e,n){const o=t.nodeWithId(e).data(),i=a(o.x+o.width/2),d=a(o.y+o.height/2);F(i,d,n)},I=function(){return w(a(f.innerWidth()/2),a(f.innerHeight()/2))},N=function(e){if(e&&0!==e.length){f.finish();const t=e.data(),n=b(t.x,t.y),o=b(t.x+t.width,t.y+t.height),i={},a=p.stageVisibilityMargin||{top:10,left:10,bottom:10,right:10};0>n.x-a.left?i.scrollLeft=f.scrollLeft()+n.x-a.left:o.x+a.right>f.innerWidth()&&(i.scrollLeft=f.scrollLeft()+o.x-f.innerWidth()+a.right),0>n.y-a.top?i.scrollTop=f.scrollTop()+n.y-a.top:o.y+a.bottom>f.innerHeight()&&(i.scrollTop=f.scrollTop()+o.y-f.innerHeight()+a.bottom),c.isEmpty(i)||f.animate(i,{duration:100})}},A=function(e){const t=e&&e.gesture&&e.gesture.center||e,n=f.offset();let o;if(t&&(o={x:t.pageX-n.left,y:t.pageY-n.top},0<=o.x&&o.x<=f.innerWidth()&&0<=o.y&&o.y<=f.innerHeight()))return o},L=function(e){const t=A(e);if(t)return w(t.x,t.y)},R=function(){(h||!1==h)&&(l('.mapjs-node').removeClass('droppable'),h=void 0)},D=function(e){t.nodeWithId(e).addClass('droppable'),h=e},j=function(e,t){return!c.isEmpty(e)&&!!t&&c.find(e,function(e){let n=t.x;return'right'===e.edge&&(n+=t.width),e.x&&e.margin?d(n-e.x)<2*e.margin&&t.y<e.maxY&&t.y>e.minY:t.y<e.maxY&&t.y>e.minY&&t.x<e.maxX&&t.x>e.minX})};f.on('scroll',function(){m=void 0}),o&&o.addEventListener('imageInserted',function(t,n,o,i){const a=L(i);e.dropImage(t,n,o,a&&a.x,a&&a.y)}),e.addEventListener('nodeCreated',function(o){let a;const d=t.createNode(o).queueFadeIn(y).updateNodeContent(o,i).nodeResizeWidget(o.id,e,L).on('tap',function(t){const n=t.gesture&&t.gesture.srcEvent||t;n.button&&-1!==n.button||(e.clickNode(o.id,n),t&&t.stopPropagation(),t&&t.gesture&&t.gesture.stopPropagation())}).on('doubletap',function(t){return t&&(t.stopPropagation(),t.gesture&&t.gesture.stopPropagation()),e.isEditingEnabled()?void e.editNode('mouse'):void e.toggleCollapse('mouse')}).on('attachment-click',function(){e.openAttachment('mouse',o.id)}).on('decoration-click',function(t,n){e.decorationAction('mouse',o.id,n)}).each(T).each(E).on('mm:start-dragging mm:start-dragging-shadow',function(t){t&&t.relatedTarget===this&&(e.selectNode(o.id),a=e.getReorderBoundary(o.id),d.addClass('dragging'))}).on('mm:drag',function(t){const n=L(t),i=t.currentPosition&&L({pageX:t.currentPosition.left,pageY:t.currentPosition.top}),r=t&&t.gesture&&t.gesture.srcEvent&&t.gesture.srcEvent.shiftKey,s=n&&e.getNodeIdAtPosition(n.x,n.y);let l;return n?void(r||s||!i?x.hide():(i.width=d.outerWidth(),i.height=d.outerHeight(),l=j(a,i),x.updateReorderBounds(l,i,n)),s&&s!==o.id?s!==h&&(R(),s&&D(s)):R()):void R()}).on('contextmenu',function(t){if(e.selectNode(o.id),e.requestContextMenu(t.pageX,t.pageY))return t.preventDefault(),!1}).on('mm:stop-dragging',function(t){d.removeClass('dragging'),x.hide();let n,i;const r=t&&t.gesture&&t.gesture.srcEvent&&t.gesture.srcEvent.shiftKey,s=L(t),l=s&&e.getNodeIdAtPosition(s.x,s.y),c=t.finalPosition&&L({pageX:t.finalPosition.left,pageY:t.finalPosition.top});if(R(),!!s)return l&&l!==o.id?n=e.dropNode(o.id,l,!!r):(c.width=d.outerWidth(),c.height=d.outerHeight(),i=!!r||!j(a,c),n=i?e.positionNodeAt(o.id,c.x,c.y,i):e.positionNodeAt(o.id,s.x,s.y,i)),n}).on('mm:cancel-dragging',function(){R(),d.removeClass('dragging'),x.hide()}).on('mm:resize',function(t){e.setNodeWidth('mouse',o.id,t.nodeWidth)});n&&d.on('hold',function(t){const n=t.gesture&&t.gesture.srcEvent||t;if(e.clickNode(o.id,n),e.requestContextMenu(t.gesture.center.pageX,t.gesture.center.pageY))return t.preventDefault(),t.gesture&&(t.gesture.preventDefault(),t.gesture.stopPropagation()),!1}),d.css('min-width',d.css('width')),e.isEditingEnabled()&&d.shadowDraggable()}),e.addEventListener('nodeSelectionChanged',function(e,n){const o=t.nodeWithId(e);n?(o.addClass('selected'),N(o)):o.removeClass('selected')}),e.addEventListener('nodeRemoved',function(e){t.nodeWithId(e.id).queueFadeOut(y)}),e.addEventListener('nodeMoved',function(e){const n=v(),o=t.nodeWithId(e.id).data({x:a(e.x),y:a(e.y),width:a(e.width),height:a(e.height)}).each(T),i=b(a(e.x),a(e.y)),d=b(a(e.x+e.width),a(e.y+e.height));0>d.x||0>d.y||i.x>n.innerWidth||i.y>n.innerHeight?o.each(E):o.each(k)}),e.addEventListener('nodeTitleChanged nodeAttrChanged nodeLabelChanged',function(e){t.nodeWithId(e.id).updateNodeContent(e,i)}),e.addEventListener('connectorCreated',function(n){const o=t.find('[data-mapjs-role=svg-container]').createConnector(n).updateConnector(!0);t.nodeWithId(n.from).add(t.nodeWithId(n.to)).on('mapjs:move',function(){o.updateConnector(!0)}).on('mapjs:resize',function(){o.updateConnector(!0)}).on('mm:drag',function(){o.updateConnector()}).on('mapjs:animatemove',function(){g=g.add(o)}),o.on('tap',function(t){t.target&&'text'===t.target.tagName?e.editConnectorLabel('mouse',n.to):e.selectConnector('mouse',n,t&&t.gesture&&t.gesture.center&&{x:t.gesture.center.pageX,y:t.gesture.center.pageY}),t.gesture&&t.gesture.stopPropagation&&t.gesture.stopPropagation(),t.stopPropagation()})}),e.addEventListener('connectorRemoved',function(e){t.findConnector(e).remove()}),e.addEventListener('linkCreated',function(n){const o=t.find('[data-mapjs-role=svg-container]').createLink(n).updateLink();o.find('.mapjs-link-hit').on('tap',function(t){e.selectLink('mouse',n,{x:t.gesture.center.pageX,y:t.gesture.center.pageY}),t.stopPropagation(),t.gesture.stopPropagation()}),t.nodeWithId(n.ideaIdFrom).add(t.nodeWithId(n.ideaIdTo)).on('mapjs:move mm:drag',function(){o.updateLink()}).on('mapjs:animatemove',function(){u=u.add(o)})}),e.addEventListener('linkRemoved',function(e){t.findLink(e).remove()}),e.addEventListener('mapScaleChanged',function(e){const n=t.data('scale'),o=Math.max(s(n*e,5),0.2),i=I();n===o||(t.data('scale',o).updateStage(),F(i.x,i.y))}),e.addEventListener('nodeVisibilityRequested',function(n){const o=n||e.getCurrentlySelectedIdeaId(),i=t.nodeWithId(o);i&&(N(i),f.finish())}),e.addEventListener('nodeFocusRequested',function(e){1!==t.data('scale')&&t.data('scale',1).updateStage(),S(e,!0)}),e.addEventListener('mapViewResetRequested',function(){t.data({scale:1,height:0,width:0,offsetX:0,offsetY:0}).updateStage(),t.children().andSelf().finish(y.queue),l(t).find('.mapjs-node').each(T),l(t).find('[data-mapjs-role=connector]').updateConnector(!0),l(t).find('[data-mapjs-role=link]').updateLink(!0),S(e.getCurrentlySelectedIdeaId()),f.focus()}),e.addEventListener('layoutChangeStarting',function(){m=void 0,t.children().finish(y.queue),t.finish(y.queue)}),e.addEventListener('layoutChangeComplete',function(n){let o=l(),i=l();n&&n.themeChanged?(t.children().andSelf().finish(y.queue),l(t).find('[data-mapjs-role=connector]').updateConnector(!0),l(t).find('[data-mapjs-role=link]').updateLink(!0)):(g.each(function(){l(this).animateConnectorToPosition(y,2)||(o=o.add(this))}),u.each(function(){l(this).animateConnectorToPosition(y,2)||(i=i.add(this))}),t.animate({opacity:1},c.extend({progress:function(){o.updateConnector(),i.updateLink()},complete:function(){o.updateConnector(!0),i.updateLink(!0)}},y)),t.children().dequeue(y.queue),t.dequeue(y.queue)),g=l(),u=l(),N(t.nodeWithId(e.getCurrentlySelectedIdeaId()))}),r&&r.inlineEditingDisabled||e.addEventListener('nodeEditRequested',function(n,o,i){const a=t.nodeWithId(n);e.setInputEnabled(!1),f.finish(),a.editNode(o).done(function(t){e.setInputEnabled(!0),e.updateTitle(n,t,i),a.focus()}).fail(function(){e.setInputEnabled(!0),i&&e.undo('internal'),a.focus()})}),e.addEventListener('addLinkModeToggled',function(e){e?t.addClass('mapjs-add-link'):t.removeClass('mapjs-add-link')}),e.addEventListener('linkAttrChanged',function(e){const n=c.extend({arrow:!1},e.attr&&e.attr.style);t.findLink(e).data(n).updateLink()}),e.addEventListener('connectorAttrChanged',function(e){t.findConnector(e).data('attr',e.attr||!1).updateConnector(!0)}),e.addEventListener('activatedNodesChanged',function(e,n){c.each(e,function(e){t.nodeWithId(e).addClass('activated')}),c.each(n,function(e){t.nodeWithId(e).removeClass('activated')})})}},function(e,t,n){const o=n(1),i=n(0),a=n(4),d=n(16);n(23),n(47),o.fn.scrollWhenDragging=function(e){'use strict';return this.each(function(){const t=o(this);let n;t.on('dragstart',function(){e()&&(n={top:t.scrollTop(),left:t.scrollLeft()})}).on('drag',function(o){o.gesture&&n&&(t.scrollTop(n.top-o.gesture.deltaY),t.scrollLeft(n.left-o.gesture.deltaX))}).on('dragend',function(){n=void 0})})},o.fn.domMapWidget=function(e,t,n,r,s,l,c,p){'use strict';const h={return:'insertDown',"shift+return":'insertUp',"shift+tab":'insertLeft',"tab insert":'insertRight',"del backspace":'removeSubIdea',left:'selectNodeLeft',up:'selectNodeUp',right:'selectNodeRight',"shift+right":'activateNodeRight',"shift+left":'activateNodeLeft',"meta+right ctrl+right":'moveRight',"meta+left ctrl+left":'moveLeft',"meta+up ctrl+up":'moveUp',"meta+down ctrl+down":'moveDown',"shift+up":'activateNodeUp',"shift+down":'activateNodeDown',down:'selectNodeDown',"space f2":'editNode',f:'toggleCollapse',"u meta+z ctrl+z":'undo',"Esc 0 meta+0 ctrl+0":'resetView',"r meta+shift+z ctrl+shift+z meta+y ctrl+y":'redo',"meta+plus ctrl+plus z":'scaleUp',"meta+minus ctrl+minus shift+z":'scaleDown',Esc:'cancelCurrentAction'},g={"[":'activateChildren',"{":'activateNodeAndChildren',"=":'activateSiblingNodes',".":'activateSelectedNode',"/":'toggleCollapse',a:'openAttachment',i:'editIcon'},u=this;let m=!0;return t.addEventListener('inputEnabledChanged',function(e,t){m=e,e&&!t&&u.focus()}),this.each(function(){const u=o(this),e=d().css({position:'absolute',top:0,left:0}).attr({"data-mapjs-role":'svg-container',class:'mapjs-draw-container'}),f=o('<div>').css({position:'relative'}).attr('data-mapjs-role','stage').appendTo(u).data({offsetX:u.innerWidth()/2,offsetY:u.innerHeight()/2,width:u.innerWidth()-20,height:u.innerHeight()-20,scale:1}).append(e).updateStage();let y=!1;u.css('overflow','auto').attr('tabindex',1),t.isEditingEnabled()&&(s||u).simpleDraggableContainer(),n?u.on('doubletap',function(e){if(t.requestContextMenu(e.gesture.center.pageX,e.gesture.center.pageY))return e.preventDefault(),e.gesture.preventDefault(),!1}).on('pinch',function(e){let n;e&&e.gesture&&e.gesture.scale&&(e.preventDefault(),e.gesture.preventDefault(),n=e.gesture.scale,y&&(n/=y),0.05>Math.abs(n-1)||(y=e.gesture.scale,t.scale('touch',n,{x:e.gesture.center.pageX-f.data('offsetX'),y:e.gesture.center.pageY-f.data('offsetY')})))}).on('gestureend',function(){y=!1}):(u.scrollWhenDragging(t.getInputEnabled),u.on('mousedown',function(t){t.target!==u[0]&&u.css('overflow','hidden')}),o(document).on('mouseup',function(){'auto'!==u.css('overflow')&&u.css('overflow','auto')}),u.imageDropWidget(r)),a.viewController(t,f,n,r,l,p),i.each(h,function(e,n){u.keydown(n,function(n){m&&(n.stopImmediatePropagation(),n.preventDefault(),t[e]('keyboard'))})}),n||o(window).on('resize',function(){t.resetView()}),o(window).on('orientationchange',function(){c?t.centerOnNode(t.getSelectedNodeId()):t.resetView()}),o(document).on('keydown',function(n){const e={61:'scaleUp',173:'scaleDown',"U+003D":'scaleUp',"U+002D":'scaleDown'};let o;n&&!n.altKey&&(n.ctrlKey||n.metaKey)&&(n.originalEvent&&n.originalEvent.keyIdentifier?o=e[n.originalEvent.keyIdentifier]:'MozPrintableKey'===n.key&&(o=e[n.which]),o&&m&&(n.preventDefault(),t[o]('keyboard')))}).on('wheel mousewheel',function(t){const e=t.originalEvent.deltaX||-1*t.originalEvent.wheelDeltaX;0>e&&0===u.scrollLeft()&&t.preventDefault(),0<e&&0==u[0].scrollWidth-u.width()-u.scrollLeft()&&t.preventDefault()}),u.on('keypress',function(e){if(m&&!/INPUT|TEXTAREA/.test(e&&e.target&&e.target.tagName)){const n=e.charCode||e.keyCode,o=String.fromCharCode(n),i=g[o];i?(e.preventDefault(),t[i]('keyboard')):9>=+o&&1<=+o&&(e.preventDefault(),t.activateLevel('keyboard',+o+1))}})})}},function(e,t,n){const o=n(1);e.exports=function(e,t){'use strict';const n=function(e){return /^data:image/.test(e)},i=function(e){let t=!1;if(n(e.src))return e.src;const o=document.createElement('canvas');return o.width=e.width,o.height=e.height,t=o.getContext('2d'),t.drawImage(e,0,0),o.toDataURL('image/png')},a=o.Deferred(),d=new Image;return d.onload=function(){try{a.resolve({dataUri:i(d),width:d.width,height:d.height})}catch(t){a.reject()}},d.onerror=function(){a.reject()},n(e)||(t?(d.crossOrigin='Anonymous',e=t+encodeURIComponent(e)):a.reject('no-cors')),d.src=e,a.promise()}},function(e,t,n){const o=n(1);o.fn.imageDropWidget=function(t){'use strict';return this.on('dragenter dragover',function(t){if(t.originalEvent.dataTransfer)return!1}).on('drop',function(n){const e=n.originalEvent.dataTransfer;let o;n.stopPropagation(),n.preventDefault(),e&&e.files&&0<e.files.length?t.insertFiles(e.files,n.originalEvent):e&&(o=e.getData('text/html'),t.insertHtmlContent(o,n.originalEvent))}),this}},function(e,t,n){const o=n(3).observable,i=n(1),a=n(0),d=n(49);e.exports=function(e,t){'use strict';const n=o(this),r=function(e){const t=i.Deferred(),n=new FileReader;return n.onload=function(n){t.resolve(n.target.result)},n.onerror=t.reject,n.onprogress=t.notify,n.readAsDataURL(e),t.promise()};n.insertDataUrl=function(o,i){n.dispatchEvent('imageLoadStarted'),d(o,e).then(function(e){let o=e.dataUri;t&&(o=t(o)),n.dispatchEvent('imageInserted',o,e.width,e.height,i)},function(e){n.dispatchEvent('imageInsertError',e)})},n.insertFiles=function(e,t){i.each(e,function(e,o){/^image\//.test(o.type)&&i.when(r(o)).done(function(e){n.insertDataUrl(e,t)})})},n.insertHtmlContent=function(e,t){const o=e.match(/img[^>]*src="([^"]*)"/);o&&0<o.length&&a.each(o.slice(1),function(e){n.insertDataUrl(e,t)})}}},function(e,t,n){const o=n(1);o.fn.linkEditWidget=function(e){'use strict';return this.each(function(){const t=o(this),n=t.find('.color'),i=t.find('.lineStyle'),a=t.find('.arrow');let d,r,s;e.addEventListener('linkSelected',function(e,o,l){d=e,t.show(),r=r||t.width(),s=s||t.height(),t.css({top:o.y-0.5*s-15+'px',left:o.x-0.5*r-15+'px'}),n.val(l.color).change(),i.val(l.lineStyle),a[l.arrow?'addClass':'removeClass']('active')}),e.addEventListener('mapMoveRequested',function(){t.hide()}),t.find('.delete').click(function(){e.removeLink('mouse',d.ideaIdFrom,d.ideaIdTo),t.hide()}),n.change(function(){e.updateLinkStyle('mouse',d.ideaIdFrom,d.ideaIdTo,'color',o(this).val())}),i.find('a').click(function(){e.updateLinkStyle('mouse',d.ideaIdFrom,d.ideaIdTo,'lineStyle',o(this).text())}),a.click(function(){e.updateLinkStyle('mouse',d.ideaIdFrom,d.ideaIdTo,'arrow',!a.hasClass('active'))}),t.mouseleave(t.hide.bind(t))})}},function(e,t,n){var o=Math.pow,i=Math.round,a=Math.abs,d=Math.min,r=Math.max;const s=n(0),l=n(2).LayoutModel,c=n(3).observable;e.exports=function(e,t,n,p){'use strict';let h=!0,g=!0,u=!1,m=[],f=e,v,y,x,b,w,E;const k=this,C=p&&p.reorderMargin||20,T=p&&p.layoutModel||new l({nodes:{},connectors:{}}),F=function(e){const t=s.clone(m);m=0===e.length?[E]:e,k.dispatchEvent('activatedNodesChanged',s.difference(m,t),s.difference(t,m))},S=function(e){const t=x&&x(v);t&&s.each(e.nodes,function(e,n){(t[n]||0===t[n])&&(e.label=t[n])})},I=function(e,t){const n=s.min(e,function(e){return o(e.x+e.width/2-t.x-t.width/2,2)+o(e.y+e.height/2-t.y-t.height/2,2)});return n&&n.id},N=function(e,t){let n;const o=T.getLayout(),i=o.theme!==e.theme;k.dispatchEvent('layoutChangeStarting',s.size(e.nodes)-s.size(o.nodes)),S(e),s.each(o.connectors,function(t,n){const o=e.connectors&&e.connectors[n];o&&o.from===t.from&&o.to===t.to||k.dispatchEvent('connectorRemoved',t)}),s.each(o.links,function(t,n){const o=e.links&&e.links[n];o||k.dispatchEvent('linkRemoved',t)}),s.each(o.nodes,function(n,o){const i=e.nodes[o];let a;i||(o==E&&k.selectNode(I(e.nodes,n)),a=s.reject(m,function(t){return t==o}),a.length!==m.length&&F(a),k.dispatchEvent('nodeRemoved',n,o,t))}),s.each(e.nodes,function(e,n){const a=o.nodes[n];a?((e.x!==a.x||e.y!==a.y)&&k.dispatchEvent('nodeMoved',e,t),(e.width!==a.width||e.height!==a.height||e.level!==a.level||!s.isEqual(e.attr||{},a.attr||{})||i)&&k.dispatchEvent('nodeAttrChanged',e,t),e.title!==a.title&&k.dispatchEvent('nodeTitleChanged',e,t),e.label!==a.label&&k.dispatchEvent('nodeLabelChanged',e,t)):k.dispatchEvent('nodeCreated',e,t)}),s.each(e.connectors,function(e,n){const i=o.connectors[n];i&&!s.isEqual(i.attr||{},e.attr||{})&&k.dispatchEvent('connectorAttrChanged',e),i&&e.from===i.from&&e.to===i.to||k.dispatchEvent('connectorCreated',e,t)}),s.each(e.links,function(e,n){const i=o.links&&o.links[n];i?!s.isEqual(e.attr||{},i&&i.attr||{})&&k.dispatchEvent('linkAttrChanged',e,t):k.dispatchEvent('linkCreated',e,t)}),i&&(n={themeChanged:!0}),T.setLayout(e),k.isInCollapse||k.dispatchEvent('layoutChangeComplete',n)},A=function(e){b=E,w=m.slice(0),k.selectNode(e)},L=function(e){A(e),k.editNode(!1,!0,!0)},R=function(){return E||v.getDefaultRootId()},D=function(e,t,n){u||(b=!1,w=!1,k.rebuildRequired(n))},j=function(){return v.findSubIdeaById(E)||v},P=function(e,t){const n=v.findSubIdeaById(t)||v;n.getAttr('collapsed')&&v.updateAttr(t,'collapsed',!1)},O=function(e,t,n){const o=v.findSubIdeaById(t)||v;let i;return P(e,t),i=n?v.addSubIdea(t,n):v.addSubIdea(t),'top-down'===T.getOrientation()&&0>o.findChildRankById(i)&&v.flip(i),i},M=function(e){const t=e&&T.getNode(e);t&&v.updateAttr(e,'position',[t.x,t.y,1])},B=function(e,t){const n=t&&T.getNode(t);n&&v.updateAttr(e,'position',[n.x+n.width+2*C,n.y,1])},_=function(e,t){t?k.dispatchEvent('analytic','mapModel',e,t):k.dispatchEvent('analytic','mapModel',e)};c(this),k.pause=function(){u=!0},k.resume=function(){u=!1,k.rebuildRequired()},k.getIdea=function(){return v},k.isEditingEnabled=function(){return g},k.getCurrentLayout=function(){return T.getLayout()},k.analytic=_,k.getCurrentlySelectedIdeaId=R,k.rebuildRequired=function(e){v&&(T.getLayout().theme!==(v.attr&&v.attr.theme)&&k.dispatchEvent('themeChanged',v.attr&&v.attr.theme),N(k.reactivate(f(v)),e))},this.setIdea=function(e){v&&(v.removeEventListener('changed',D),u=!1,F([]),k.dispatchEvent('nodeSelectionChanged',E,!1),E=void 0),v=e,v.addEventListener('changed',D),D(),k.selectNode(v.getDefaultRootId(),!0),k.dispatchEvent('mapViewResetRequested')},this.setEditingEnabled=function(e){g=e},this.getEditingEnabled=function(){return g},this.setInputEnabled=function(e,t){h!==e&&(h=e,k.dispatchEvent('inputEnabledChanged',e,!!t))},this.getInputEnabled=function(){return h},this.selectNode=function(e,t,n){(t||h&&(e!==E||!k.isActivated(e)))&&(E&&k.dispatchEvent('nodeSelectionChanged',E,!1),E=e,n?k.activateNode('internal',e):F([e]),k.dispatchEvent('nodeSelectionChanged',e,!0))},this.clickNode=function(e,t){const n=t&&t.button&&-1!==t.button;t&&t.altKey?k.toggleLink('mouse',e):t&&t.shiftKey?k.toggleActivationOnNode('mouse',e):y&&!n?(this.toggleLink('mouse',e),this.toggleAddLinkMode()):(this.selectNode(e),n&&-1!==n&&h&&k.dispatchEvent('contextMenuRequested',e,t.layerX,t.layerY))},this.findIdeaById=function(e){return v.id==e?v:v.findSubIdeaById(e)},this.getSelectedStyle=function(e){return this.getStyleForId(E,e)},this.getStyleForId=function(e,t){const n=T.getNode(e);return n&&n.attr&&n.attr.style&&n.attr.style[t]},this.toggleCollapse=function(e){const t=j();let n;n=k.isActivated(t.id)&&0<s.size(t.ideas)?t.getAttr('collapsed'):k.everyActivatedIs(function(e){const t=k.findIdeaById(e);return t&&0<s.size(t.ideas)?t.getAttr('collapsed'):!0}),this.collapse(e,!n)},this.collapse=function(e,t){const n=R(),o=function(){return T.getNode(n)},i=o();let a=!1;_('collapse:'+t,e),k.isInCollapse=!0,h&&k.applyToActivated(function(e){const n=k.findIdeaById(e);n&&(!t||n.ideas&&0<s.size(n.ideas))&&v.updateAttr(e,'collapsed',t)}),a=o(),i&&a&&function(e,t,n){(t||n)&&s.each(e,function(e){e.x+=t,e.y+=n,k.dispatchEvent('nodeMoved',e,'scroll')})}(T.getLayout().nodes,i.x-a.x,i.y-a.y),k.isInCollapse=!1,k.dispatchEvent('layoutChangeComplete')},this.updateStyle=function(e,t,n){return!!g&&void(h&&(_('updateStyle:'+t,e),k.applyToActivated(function(e){k.getStyleForId(e,t)!=n&&v.mergeAttrProperty(e,'style',t,n)})))},this.updateLinkStyle=function(e,t,n,o,i){const a=s.extend({},v.getLinkAttr(t,n,'style'));return!!g&&void(h&&(_('updateLinkStyle:'+o,e),a[o]=i,v.updateLinkAttr(t,n,'style',a)))},this.addSubIdea=function(e,t,n){const o=t||E;let i;return!!g&&void(_('addSubIdea',e),h&&(v.batch(function(){i=O(e,o,n)}),i&&(n?A(i):L(i))))},k.addGroupSubidea=function(e,t){const n=t&&t.parentId,o=t&&t.group||!0,i=n||E;let a,d;return!!g&&void(_('addGroupSubidea',e),h&&(v.batch(function(){a=O(e,i,'group'),a&&(v.updateAttr(a,'contentLocked',!0),v.updateAttr(a,'group',o),d=v.addSubIdea(a))}),d&&L(d)))},this.insertIntermediateGroup=function(e,t){const n=[],o=t&&t.group||!0;return!!g&&(!h||v.isRootNode(E)?!1:void(_('insertIntermediate',e),k.applyToActivated(function(e){n.push(e)}),v.insertIntermediateMultiple(n,{title:'group',attr:{group:o,contentLocked:!0}})))},this.insertIntermediate=function(e){const t=[];let n=!1;return!!g&&!!h&&void(_('insertIntermediate',e),k.applyToActivated(function(e){t.push(e)}),n=v.insertIntermediateMultiple(t),n&&L(n))},this.flip=function(e){const t=T.getNode(E);return!!g&&(_('flip',e),!h||v.isRootNode(E)?!1:t&&2===t.level&&v.flip(E))},this.addSiblingIdeaBefore=function(e){let t,n,o,i;return!!g&&(_('addSiblingIdeaBefore',e),!!h&&void(n=v.isRootNode(E)?v:v.findParent(E),v.batch(function(){n!==v&&P(e,n.id),t=v.addSubIdea(n.id),t&&(n===v?B(t,E):(o=n.findChildRankById(E),i=n.findChildRankById(t),0>o*i&&v.flip(t),v.positionBefore(t,E)))}),t&&L(t)))},this.addSiblingIdea=function(e,t,n){let o,i,a,d,r;const s=t||E;return!!g&&void(_('addSiblingIdea',e),h&&(a=v.isRootNode(s)?v:v.findParent(s),v.batch(function(){a!==v&&P(e,a.id),o=n?v.addSubIdea(a.id,n):v.addSubIdea(a.id),o&&(a===v?B(o,E):(i=v.nextSiblingId(s),d=a.findChildRankById(s),r=a.findChildRankById(o),0>d*r&&v.flip(o),i&&v.positionBefore(o,i)))}),o&&(n?A(o):L(o))))},this.removeSubIdea=function(e){let t;return!!g&&(_('removeSubIdea',e),h&&k.applyToActivated(function(e){t=v.removeSubIdea(e)}),t)},this.updateTitle=function(e,t,n){n?v.initialiseTitle(e,t):v.updateTitle(e,t)},this.editNode=function(e,n,o){const i=j(),a=i.title;return!!g&&(e&&_('editNode',e),!!h&&(i.attr&&i.attr.contentLocked?!1:void(s.include(t,a)&&(n=!0),k.dispatchEvent('nodeEditRequested',E,n,!!o))))},this.editIcon=function(e){return!!g&&(e&&_('editIcon',e),!!h&&void k.dispatchEvent('nodeIconEditRequested',E))},this.scaleUp=function(e){k.scale(e,1.25)},this.scaleDown=function(e){k.scale(e,0.8)},this.scale=function(e,t,n){h&&(k.dispatchEvent('mapScaleChanged',t,n),_(1>t?'scaleDown':'scaleUp',e))},this.move=function(e,t,n){h&&(k.dispatchEvent('mapMoveRequested',t,n),_('move',e))},this.resetView=function(e){const t=T.getNode(E),n=t&&t.rootId||v&&v.getDefaultRootId();!n||h&&(_('resetView',e),k.selectNode(n),k.dispatchEvent('mapViewResetRequested'))},this.decorationAction=function(e,t,n){_('decorationAction',e),k.dispatchEvent('decorationActionRequested',t,n)},this.openAttachment=function(e,t){_('openAttachment',e),t=t||E;const n=T.getNode(t),o=n&&n.attr&&n.attr.attachment;n&&k.dispatchEvent('attachmentOpened',t,o)},this.setAttachment=function(e,t,n){const o=!!(n&&n.content);return!!g&&void(_('setAttachment',e),v.updateAttr(t,'attachment',o&&n))},this.toggleLink=function(e,t){const n=s.find(v.links,function(e){return e.ideaIdFrom+''===t+''&&e.ideaIdTo+''===E+''||e.ideaIdTo+''===t+''&&e.ideaIdFrom+''===E+''});n?k.removeLink(e,n.ideaIdFrom,n.ideaIdTo):k.addLink(e,t)},this.addLink=function(e,t){return!!g&&void(_('addLink',e),v.addLink(E,t))},this.selectLink=function(e,t,n){return!!g&&(_('selectLink',e),!!t&&void k.dispatchEvent('linkSelected',t,n,v.getLinkAttr(t.ideaIdFrom,t.ideaIdTo,'style')))},this.selectConnector=function(e,t,n){return!!g&&(_('selectConnector',e),!!t&&void k.dispatchEvent('connectorSelected',t.to,n,v.getAttrById(t.to,'parentConnector')))},this.removeLink=function(e,t,n){return!!g&&void(_('removeLink',e),v.removeLink(t,n))},this.toggleAddLinkMode=function(e){return!!g&&!!h&&void(_('toggleAddLinkMode',e),y=!y,k.dispatchEvent('addLinkModeToggled',y))},this.cancelCurrentAction=function(e){return!!h&&!!g&&void(y&&this.toggleAddLinkMode(e))},k.undo=function(e){const t=b,n=w;return!!g&&void(_('undo',e),h&&(v.undo(),t&&k.selectNode(t),n&&F(n)))},k.redo=function(e){return!!g&&void(_('redo',e),h&&v.redo())},k.moveRelative=function(e,t){let n;return!!g&&void(_('moveRelative',e),h&&('top-down'===T.getOrientation()&&(n={ignoreRankSide:!0}),v.moveRelative(E,t,n)))},k.contextForNode=function(e){const t=k.findIdeaById(e),n=t&&t.ideas&&0<s.size(t.ideas),o=s.size(v.ideas),i=v.hasSiblings(e),a=t&&t.attr&&t.attr.style&&t.attr.style.width,d=t&&t.attr&&t.attr.position,r=t&&t.getAttr('collapsed'),l=v.isRootNode(e);if(t)return{hasChildren:!!n,hasSiblings:!!i,hasPreferredWidth:!!a,hasPreferredPosition:!!d,notRoot:!l,notLastRoot:!l||1<o,canUndo:v.canUndo(),canRedo:v.canRedo(),canCollapse:n&&!r,canExpand:n&&r}},k.getIcon=function(e){const t=T.getNode(e||E);return!!t&&t.attr&&t.attr.icon},k.setIcon=function(e,t,n,o,i,a,d){let r=!1,l;return!!g&&(_('setIcon',e),a=a||E,r=k.findIdeaById(a),!!r&&void(t?(l={url:t,width:n,height:o,position:i},d&&(l.metaData=d),v.updateAttr(a,'icon',l)):(v.updateAttr(a,'icon',!1),!r.title&&0===s.size(r.ideas)&&v.removeSubIdea(a))))},k.insertUp=function(e){'standard'===T.getOrientation()?k.addSiblingIdeaBefore(e):k.insertIntermediate(e)},k.insertDown=function(e){'standard'===T.getOrientation()?k.addSiblingIdea(e):k.addSubIdea(e)},k.insertLeft=function(e){'standard'===T.getOrientation()?k.insertIntermediate(e):k.addSiblingIdeaBefore(e)},k.insertRight=function(e){'standard'===T.getOrientation()?k.addSubIdea(e):k.addSiblingIdea(e)},k.moveUp=function(e){'standard'===T.getOrientation()&&k.moveRelative(e,-1)},k.moveDown=function(e){'standard'===T.getOrientation()&&k.moveRelative(e,1)},k.moveLeft=function(e){'standard'===T.getOrientation()?k.flip(e):k.moveRelative(e,-1)},k.moveRight=function(e){'standard'===T.getOrientation()?k.flip(e):k.moveRelative(e,1)},k.getSelectedNodeId=function(){return R()},k.centerOnNode=function(e){T.getNode(e)||(v.startBatch(),s.each(v.calculatePath(e),function(e){v.updateAttr(e.id,'collapsed',!1)}),v.endBatch()),k.dispatchEvent('nodeFocusRequested',e),k.selectNode(e)},k.search=function(e){const t=[];return e=e.toLocaleLowerCase(),v.traverse(function(n){n.title&&0<=n.title.toLocaleLowerCase().indexOf(e)&&t.push({id:n.id,title:n.title})}),t},function(){const e=function(e,t,n,o){if(h){_(t,e);const i=T['nodeId'+o](E);i&&n.apply(k,[i])}},t={};['Left','Right','Up','Down'].forEach(function(n){t[n]=function(t,o,i){e(t,o,i,n)}}),k.getActivatedNodeIds=function(){return m.slice(0)},k.activateSiblingNodes=function(e){const t=v.findParent(E),n=t&&t.ideas&&s.map(t.ideas,function(e){return e.id});_('activateSiblingNodes',e);n&&F(n)},k.activateNodeAndChildren=function(e){const t=R(),n=v.getSubTreeIds(t);_('activateNodeAndChildren',e),n.push(t),F(n)},s.each(['Left','Right','Up','Down'],function(e){k['activateNode'+e]=function(n){t[e](n,'activateNode'+e,function(e){k.selectNode(e,!1,!0)})},k['selectNode'+e]=function(n){t[e](n,'selectNode'+e,k.selectNode)}}),k.toggleActivationOnNode=function(e,t){_('toggleActivated',e),k.isActivated(t)?F(s.without(m,t)):F([t].concat(m))},k.activateNode=function(e,t){_('activateNode',e),k.isActivated(t)||(m.push(t),k.dispatchEvent('activatedNodesChanged',[t],[]))},k.activateChildren=function(e){const t=j();_('activateChildren',e);!t||s.isEmpty(t.ideas)||t.getAttr('collapsed')||F(v.getSubTreeIds(t.id))},k.activateSelectedNode=function(e){_('activateSelectedNode',e),F([R()])},k.isActivated=function(e){return s.find(m,function(t){return e==t})},k.applyToActivated=function(e){v.batch(function(){s.each(m,e)})},k.everyActivatedIs=function(e){return s.every(m,e)},k.activateLevel=function(e,t){const n=s.map(s.filter(T.getLayout().nodes,function(e){return e.level==t}),function(e){return e.id});_('activateLevel',e),s.isEmpty(n)||F(n)},k.reactivate=function(e){return s.each(e.nodes,function(e){s.contains(m,e.id)&&(e.activated=!0)}),e}}(),k.getNodeIdAtPosition=function(e,t){const n=s.find(T.getLayout().nodes,function(n){return e>=n.x&&t>=n.y&&e<=n.x+n.width&&t<=n.y+n.height});return n&&n.id},k.autoPosition=function(e){return v.updateAttr(e,'position',!1)},k.standardPositionNodeAt=function(e,t,n,o){let i=!1;const a=T.getNode(T.getNode(e).rootId),d=v.findParent(e),r=T.getNode(d.id),l=T.getNode(e),c=T.getNode(e),p=function(){return 2>=c.level||0<(c.x-r.x)*(t-r.x)},h=function(){return s.isEmpty(d.ideas)?0:s.max(s.map(d.ideas,function(t){return t.id!==e&&t.attr&&t.attr.position&&t.attr.position[2]||0}))||0};return v.startBatch(),l&&2===l.level&&(i=function(t,n,o){const i=t.x<n.x&&o<t.x,a=t.x>n.x&&t.x<o;return(i||a)&&v.flip(e)}(a,c,t)),!o&&p()&&k.autoPosition(e),1<c.level&&(i=v.positionBefore(e,function(){let t={id:null,y:Infinity};return s.each(v.sameSideSiblingIds(e),function(e){const o=T.getNode(e);n<o.y&&o.y<t.y&&(t=o)}),t}().id)||i),o&&p()&&(1===c.level?i=function(){return v.updateAttr(e,'position',[t,n,h()+1])}():i=function(){let o;return o=t<r.x?r.x-t-c.width+r.width:t-r.x,_('nodeManuallyPositioned'),v.updateAttr(e,'position',[o,n-r.y,h()+1])}()||i),v.endBatch(),i},k.topDownPositionNodeAt=function(e,t,n,o){let i,d,r;const l=v.findParent(e),c=T.getNode(e),p=function(){return v.updateAttr(e,'position',[t,n,1])};return o?function(){return 2>c.level}()?p():v.batch(function(){return v.changeParent(e,'root'),p()}):!!l&&(s.each(l.ideas,function(n){const o=T.getNode(n.id);n.id===e||(t<o.x&&(!d||a(t-o.x)<a(t-T.getNode(d.id).x))&&(d=n),t>o.x+o.width&&(!r||a(t-o.x)<a(t-T.getNode(r.id).x))&&(r=n))}),v.batch(function(){const t=!!(d&&d.id&&0>v.findChildRankById(d.id)),n=t?r:d,o=t&&0<v.findChildRankById(e);k.autoPosition(e),o&&v.flip(e),i=v.positionBefore(e,n&&n.id)}),i)},k.positionNodeAt=function(e,t,n,o){return'standard'===T.getOrientation()?k.standardPositionNodeAt(e,t,n,o):k.topDownPositionNodeAt(e,t,n,o)},k.dropNode=function(e,t,n){let o;const i=v.findParent(e);return t!==e&&(n?(o=v.clone(e),o&&v.paste(t,o),!1):t===i.id?k.autoPosition(e):v.changeParent(e,t))},k.setLayoutCalculator=function(e){f=e},k.dropImage=function(e,t,n,o,a,r){const s=function(o,a){const s=d(t,300)/t,l=d(n,300)/n,c=d(s,l),p=v.getAttrById(o,'icon');k.setIcon('drag and drop',e,i(t*c),i(n*c),p&&p.position||a,o,r)},l=k.getNodeIdAtPosition(o,a);return l?s(l,'left'):void function(){v.startBatch();const e=v.addSubIdea(E);s(e,'center'),v.endBatch(),k.selectNode(e)}()},k.setLabelGenerator=function(e,t){x=e,k.dispatchEvent('labelGeneratorChange',t,!!e),k.rebuildRequired()},k.getStandardReorderBoundary=function(e){const t=T.getNode(e);return 1!==t.level&&function(e){let t;const n=[],o=T.getNode(e),i=T.getNode(o&&o.rootId),a=function(e,t){return e&&t&&e.x>=t.x},d=v.findParent(e),r=T.getNode(d.id),l=a(o,i)?'left':'right',c=a(o,i)?'right':'left',p=function(e,t){const n=s.map(e,function(e){return e.y}),i=s.map(e,function(e){return e.y+e.height}),a={minY:s.min(n)-C-o.height,maxY:s.max(i)+C,margin:C};return a.edge=t,a.x='left'===t?r.x+r.width+C:r.x-C,a},h=function(e){const t={minY:r.y-C-o.height,maxY:r.y+r.height+C,margin:C};return t.edge=e,t.x='left'===e?r.x+r.width+C:r.x-C,t},g=s.map(v.sameSideSiblingIds(e),function(e){return T.getNode(e)});return s.isEmpty(g)||n.push(p(g,l)),n.push(h(l)),2===o.level&&(t=function(){let e=s.map(d.ideas,function(e){return T.getNode(e.id)});return e=s.without(e,o),s.isEmpty(g)||(e=s.difference(e,g)),e}(),!s.isEmpty(t)&&n.push(p(t,c)),n.push(h(c))),n}(e)},k.getTopDownReorderBoundary=function(e){const t=T.getNode(e),n=v.findParent(e),o=10;let i=Infinity,a=-Infinity,l=-Infinity,c=!1;return n?(s.each(n.ideas,function(t){const n=T.getNode(t.id);n&&t.id!==e&&(c=!0,i=d(n.x,i),a=r(n.x+n.width,a),l=r(n.y+n.height,l))}),c?[{minY:t.y-t.height-o,maxY:l+o,minX:i-t.width-o,maxX:a+o,edge:'top'}]:[]):[]},k.getReorderBoundary=function(e){return'standard'===T.getOrientation()?k.getStandardReorderBoundary(e):k.getTopDownReorderBoundary(e)},k.focusAndSelect=function(e){k.selectNode(e),k.dispatchEvent('nodeFocusRequested',e)},k.requestContextMenu=function(e,t){return h&&g&&(k.dispatchEvent('contextMenuRequested',E,e,t),!0)},k.setTheme=function(e){return!!g&&void v.updateAttr(v.id,'theme',e)},k.makeSelectedNodeRoot=function(){const e=k.getSelectedNodeId(),t=e&&T.getNode(e),n=t&&t.rootId;return!e||v.isRootNode(e)?!1:h&&g?v.batch(function(){const t=v.changeParent(e,'root');return'top-down'===T.getOrientation()&&(!v.getAttrById(n,'position')&&M(n),M(e)),t}):void 0},k.setNodeWidth=function(e,t,n){v.mergeAttrProperty(t,'style','width',n)},k.unsetSelectedNodeWidth=function(e){return!!g&&void(_('unsetSelectedNodeWidth',e),k.applyToActivated(function(e){v.mergeAttrProperty(e,'style','width',!1)}))},k.unsetSelectedNodePosition=function(e){return!!g&&void(_('unsetSelectedNodePosition',e),k.applyToActivated(k.autoPosition))},k.insertRoot=function(e,t){const n=function(){return t?v.addSubIdea(v.id,t):v.addSubIdea(v.id)};if(!g)return!1;if(_('addRootNode',e),h){let e=!1;v.batch(function(){e=n(),B(e,k.getSelectedNodeId())}),e&&(t?A(e):L(e))}},k.editConnectorLabel=function(e,t){const n=T.getLayout().connectors,o=n[t];return!!o&&!!g&&(e&&_('editIcon',e),!!h&&void k.dispatchEvent('connectorLabelEditRequested',o))}}},function(e,t,n){const o=n(1);o.fn.mapToolbarWidget=function(e){'use strict';const t=['insertIntermediate','scaleUp','scaleDown','addSubIdea','editNode','removeSubIdea','toggleCollapse','addSiblingIdea','undo','redo','resetView','openAttachment','toggleAddLinkMode','activateChildren','activateNodeAndChildren','activateSiblingNodes','editIcon','insertRoot','makeSelectedNodeRoot'],n=['updateStyle'];return this.each(function(){const i=o(this);let a=!1;e.addEventListener('nodeSelectionChanged',function(){a=!0,i.find('.updateStyle[data-mm-target-property]').val(function(){return e.getSelectedStyle(o(this).data('mm-target-property'))}).change(),a=!1}),e.addEventListener('addLinkModeToggled',function(){i.find('.toggleAddLinkMode').toggleClass('active')}),t.forEach(function(t){i.find('.'+t).click(function(){e[t]&&e[t]('toolbar')})}),n.forEach(function(t){i.find('.'+t).change(function(){if(!a){const n=o(this);n.data('mm-target-property')&&e[t]('toolbar',n.data('mm-target-property'),n.val())}})})})}},function(e,t,n){const o=n(1);n(17),o.fn.nodeResizeWidget=function(e,t,n){'use strict';return this.each(function(){let i,a,d;const r=o(this),s=r.find('span[data-mapjs-role=title]'),l=s[0],c=function(e){const t=n(e),o=t&&i&&t.x-i.x,d=o&&Math.max(50,a+o);return d},p=o('<div>').addClass('resize-node').shadowDraggable().on('mm:start-dragging mm:start-dragging-shadow',function(o){t.selectNode(e),i=n(o),a=s.innerWidth(),d={"node.min-width":r.css('min-width'),"span.min-width":s.css('min-width'),"span.max-width":s.css('max-width')}}).on('mm:stop-dragging mm:cancel-dragging',function(e){const t=s.outerWidth();s.css({"max-width":d['span.max-width'],"min-width":d['span.min-width']}),r.css('min-width',d['node.min-width']),e&&e.stopPropagation(),e&&e.gesture&&e.gesture.stopPropagation(),r.trigger(o.Event('mm:resize',{nodeWidth:t}))}).on('mm:drag',function(e){let t=c(e);t&&(s.css({"max-width":t,"min-width":t}),r.css('min-width',s.outerWidth()),l.scrollWidth>l.offsetWidth&&(t=l.scrollWidth,s.css({"max-width":t,"min-width":t}),r.css('min-width',s.outerWidth()))),e&&e.stopPropagation(),e&&e.gesture&&e.gesture.stopPropagation()});p.appendTo(r)})}},function(e,t,n){const o=n(1),i=n(2).Theme,a=n(4);o.fn.themeCssWidget=function(e,t,n){'use strict';const d=o(this),r=function(n){const o=e[n||'default'];o&&(a.theme=new i(o),d.text(t.process(o).css))};return r('default'),n.addEventListener('themeChanged',r),d}},function(e){e.exports={name:'MindMup Top Down Argument Mapping',blockParentConnectorOverride:!0,layout:{orientation:'top-down',spacing:{h:20,v:100}},node:[{name:'default',cornerRadius:5,backgroundColor:'#ffffff',border:{type:'surround',line:{color:'#707070',width:1}},shadow:[{color:'#070707',opacity:0.3,offset:{width:2,height:2},radius:2}],text:{margin:5,alignment:'left',color:'#4F4F4F',lightColor:'#EEEEEE',darkColor:'#000000',font:{lineSpacing:2,lineSpacingPx:2.6,size:10,sizePx:13.3,weight:'light'}},connections:{default:{h:'center-separated',v:'base'},from:{horizontal:{h:'center-separated',v:'base'}},to:{h:'center',v:'top'}},decorations:{height:16,edge:'top',overlap:!0,position:'end'}},{name:'activated',border:{type:'surround',line:{color:'#22AAE0',width:3,style:'dotted'}}},{name:'selected',shadow:[{color:'#000000',opacity:0.9,offset:{width:2,height:2},radius:2}]},{name:'collapsed',shadow:[{color:'#888888',offset:{width:0,height:1},radius:0},{color:'#FFFFFF',offset:{width:0,height:3},radius:0},{color:'#888888',offset:{width:0,height:4},radius:0},{color:'#FFFFFF',offset:{width:0,height:6},radius:0},{color:'#888888',offset:{width:0,height:7},radius:0}]},{name:'collapsed.selected',shadow:[{color:'#FFFFFF',offset:{width:0,height:1},radius:0},{color:'#888888',offset:{width:0,height:3},radius:0},{color:'#FFFFFF',offset:{width:0,height:6},radius:0},{color:'#555555',offset:{width:0,height:7},radius:0},{color:'#FFFFFF',offset:{width:0,height:10},radius:0},{color:'#333333',offset:{width:0,height:11},radius:0}]},{name:'attr_group',cornerRadius:10,backgroundColor:'transparent',border:{type:'overline'},shadow:[{color:'transparent'}],text:{margin:0,alignment:'center',color:'#4F4F4F',lightColor:'#EEEEEE',darkColor:'#000000',font:{lineSpacing:2.5,lineSpacingPx:3.25,size:9,sizePx:12,weight:'bold'}},connections:{style:'supporting-group',childstyle:'no-connector',default:{h:'center',v:'base'},from:{below:{h:'center',v:'base'}},to:{h:'center',v:'top'}}},{name:'attr_group_supporting',connections:{style:'supporting-group',childstyle:'no-connector',default:{h:'center',v:'base'},from:{below:{h:'center',v:'base'}},to:{h:'center',v:'top'}}},{name:'attr_group_supporting.level_1',backgroundColor:'rgba(0, 255, 0, 0.2)',border:{type:'surround',line:{color:'transparent',width:2,style:'solid'}}},{name:'attr_group_supporting.activated',backgroundColor:'rgba(0, 255, 0, 0.2)',border:{type:'surround',line:{color:'#00FF00',width:3,style:'dotted'}}},{name:'attr_group_opposing',connections:{style:'opposing-group',childstyle:'no-connector',default:{h:'center',v:'base'},from:{below:{h:'center',v:'base'}},to:{h:'center',v:'top'}}},{name:'attr_group_opposing.level_1',backgroundColor:'rgba(255, 0, 0, 0.2)',border:{type:'surround',line:{color:'transparent',width:2,style:'solid'}}},{name:'attr_group_opposing.activated',backgroundColor:'rgba(255, 0, 0, 0.2)',border:{type:'surround',line:{color:'#FF0000',width:3,style:'dotted'}}},{name:'attr_group_supporting.droppable',backgroundColor:'rgba(0, 255, 0, 0.6)',border:{type:'surround',line:{color:'#00FF00',width:3,style:'dashed'}}},{name:'attr_group_opposing.droppable',backgroundColor:'rgba(255, 0, 0, 0.6)',border:{type:'surround',line:{color:'#FF0000',width:3,style:'dashed'}}}],connector:{default:{type:'vertical-quadratic-s-curve',line:{color:'#707070',width:1}},"no-connector":{type:'no-connector',line:{color:'#707070',width:0}},"supporting-group":{type:'vertical-quadratic-s-curve',line:{color:'#00FF00',width:3}},"opposing-group":{type:'vertical-quadratic-s-curve',line:{color:'#FF0000',width:3}},"no-connector.supporting-group":{type:'no-connector',line:{color:'#00FF00',width:4}},"no-connector.opposing-group":{type:'no-connector',line:{color:'#FF0000',width:4}}}}},function(e){e.exports={name:'MindMup Default',node:[{name:'default',cornerRadius:10,backgroundColor:'#E0E0E0',border:{type:'surround',line:{color:'#707070',width:1}},shadow:[{color:'#070707',opacity:0.4,offset:{width:2,height:2},radius:2}],text:{margin:5,alignment:'center',color:'#4F4F4F',lightColor:'#EEEEEE',darkColor:'#000000',font:{lineSpacing:2.5,lineSpacingPx:3.25,size:9,sizePx:12,weight:'bold'}},connections:{default:{h:'center',v:'center'},from:{horizontal:{h:'nearest-inset',v:'center'}},to:{h:'nearest',v:'center'}},decorations:{height:20,edge:'top',overlap:!0,position:'end'}},{name:'level_1',backgroundColor:'#22AAE0'},{name:'activated',border:{type:'surround',line:{color:'#22AAE0',width:3,style:'dotted'}}},{name:'level_1.activated',border:{type:'surround',line:{color:'#EEEEEE',width:3,style:'dotted'}}},{name:'selected',shadow:[{color:'#000000',opacity:0.9,offset:{width:2,height:2},radius:2}]},{name:'collapsed',shadow:[{color:'#888888',offset:{width:0,height:1},radius:0},{color:'#FFFFFF',offset:{width:0,height:3},radius:0},{color:'#888888',offset:{width:0,height:4},radius:0},{color:'#FFFFFF',offset:{width:0,height:6},radius:0},{color:'#888888',offset:{width:0,height:7},radius:0}]},{name:'collapsed.selected',shadow:[{color:'#FFFFFF',offset:{width:0,height:1},radius:0},{color:'#888888',offset:{width:0,height:3},radius:0},{color:'#FFFFFF',offset:{width:0,height:6},radius:0},{color:'#555555',offset:{width:0,height:7},radius:0},{color:'#FFFFFF',offset:{width:0,height:10},radius:0},{color:'#333333',offset:{width:0,height:11},radius:0}]}],connector:{default:{type:'quadratic',controlPoint:{above:{width:0,height:0.75},below:{width:0,height:0.75},horizontal:{width:0,height:0}},line:{color:'#707070',width:1}}}}},function(e){e.exports={name:'MindMup Simple Straight Lines',layout:'portrait',node:[{name:'default',cornerRadius:3,backgroundColor:'#FFFFFF',border:{type:'underline'},shadow:[{color:'transparent'}],text:{margin:2,alignment:'left',color:'#4F4F4F',lightColor:'#EEEEEE',darkColor:'#000000',font:{lineSpacing:2,lineSpacingPx:2.6,size:10,sizePx:13.3,weight:'light'}},connections:{default:{h:'nearest',v:'base'}},decorations:{height:20,edge:'left',overlap:!1,position:'center'}},{name:'level_1',cornerRadius:10,backgroundColor:'#22AAE0',border:{type:'surround',line:{color:'transparent',width:1}},connections:{default:{h:'nearest',v:'center'}},text:{margin:5,color:'#EEEEEE',font:{lineSpacing:6,lineSpacingPx:7.8,size:12,sizePx:16,weight:'light'}}},{name:'activated',border:{type:'surround',line:{color:'#22AAE0',width:2,style:'dashed'}}},{name:'level_1.activated',border:{type:'surround',line:{color:'#EEEEEE',width:2,style:'dashed'}}},{name:'selected',shadow:[{color:'#FFFFFF',offset:{width:1,height:0},radius:0},{color:'#FFFFFF',offset:{width:-1,height:0},radius:0},{color:'#22AAE0',offset:{width:4,height:0},radius:0},{color:'#22AAE0',offset:{width:-4,height:0},radius:0}]},{name:'collapsed',shadow:[{color:'#888888',offset:{width:0,height:1},radius:0},{color:'#FFFFFF',offset:{width:0,height:3},radius:0},{color:'#888888',offset:{width:0,height:4},radius:0},{color:'#FFFFFF',offset:{width:0,height:6},radius:0},{color:'#888888',offset:{width:0,height:7},radius:0}]},{name:'collapsed.selected',shadow:[{color:'#FFFFFF',offset:{width:1,height:0},radius:0},{color:'#FFFFFF',offset:{width:-1,height:0},radius:0},{color:'#22AAE0',offset:{width:4,height:0},radius:0},{color:'#22AAE0',offset:{width:-4,height:0},radius:0},{color:'#888888',offset:{width:0,height:1},radius:0},{color:'#FFFFFF',offset:{width:0,height:3},radius:0},{color:'#888888',offset:{width:0,height:4},radius:0},{color:'#FFFFFF',offset:{width:0,height:6},radius:0},{color:'#888888',offset:{width:0,height:7},radius:0}]}],connector:{default:{type:'straight',line:{color:'#707070',width:1}}}}},function(e){e.exports={name:'MindMup Simple',layout:'portrait',node:[{name:'default',cornerRadius:3,backgroundColor:'#FFFFFF',border:{type:'underline'},shadow:[{color:'transparent'}],text:{margin:2,alignment:'left',color:'#4F4F4F',lightColor:'#EEEEEE',darkColor:'#000000',font:{lineSpacing:2,lineSpacingPx:2.6,size:10,sizePx:13.3,weight:'light'}},connections:{default:{h:'nearest',v:'base'}},decorations:{height:20,edge:'left',overlap:!1,position:'center'}},{name:'level_1',cornerRadius:10,backgroundColor:'#22AAE0',border:{type:'surround',line:{color:'transparent',width:1}},connections:{default:{h:'nearest',v:'center'}},text:{margin:5,color:'#EEEEEE',font:{lineSpacing:6,lineSpacingPx:7.8,size:12,sizePx:16,weight:'light'}}},{name:'activated',border:{type:'surround',line:{color:'#22AAE0',width:2,style:'dashed'}}},{name:'level_1.activated',border:{type:'surround',line:{color:'#EEEEEE',width:2,style:'dashed'}}},{name:'selected',shadow:[{color:'#FFFFFF',offset:{width:1,height:0},radius:0},{color:'#FFFFFF',offset:{width:-1,height:0},radius:0},{color:'#22AAE0',offset:{width:4,height:0},radius:0},{color:'#22AAE0',offset:{width:-4,height:0},radius:0}]},{name:'collapsed',shadow:[{color:'#888888',offset:{width:0,height:1},radius:0},{color:'#FFFFFF',offset:{width:0,height:3},radius:0},{color:'#888888',offset:{width:0,height:4},radius:0},{color:'#FFFFFF',offset:{width:0,height:6},radius:0},{color:'#888888',offset:{width:0,height:7},radius:0}]},{name:'collapsed.selected',shadow:[{color:'#FFFFFF',offset:{width:1,height:0},radius:0},{color:'#FFFFFF',offset:{width:-1,height:0},radius:0},{color:'#22AAE0',offset:{width:4,height:0},radius:0},{color:'#22AAE0',offset:{width:-4,height:0},radius:0},{color:'#888888',offset:{width:0,height:1},radius:0},{color:'#FFFFFF',offset:{width:0,height:3},radius:0},{color:'#888888',offset:{width:0,height:4},radius:0},{color:'#FFFFFF',offset:{width:0,height:6},radius:0},{color:'#888888',offset:{width:0,height:7},radius:0}]}],connector:{default:{type:'compact-s-curve',label:{position:{ratio:0.4},backgroundColor:'transparent',borderColor:'transparent',text:{color:'#4F4F4F',font:{size:8,sizePx:11,weight:'light'}}},line:{color:'#707070',width:1}}}}},function(e){e.exports={name:'MindMup Straight Lines',node:[{name:'default',cornerRadius:10,backgroundColor:'#E0E0E0',border:{type:'surround',line:{color:'#707070',width:1}},shadow:[{color:'#070707',opacity:0.4,offset:{width:2,height:2},radius:2}],text:{margin:5,alignment:'center',color:'#4F4F4F',lightColor:'#EEEEEE',darkColor:'#000000',font:{lineSpacing:2.5,lineSpacingPx:3.25,size:9,sizePx:12,weight:'bold'}},connections:{default:{h:'nearest',v:'center'},from:{horizontal:{h:'nearest',v:'center'}},to:{h:'nearest',v:'center'}},decorations:{height:20,edge:'top',overlap:!0,position:'end'}},{name:'level_1',backgroundColor:'#22AAE0'},{name:'activated',border:{type:'surround',line:{color:'#22AAE0',width:3,style:'dotted'}}},{name:'level_1.activated',border:{type:'surround',line:{color:'#EEEEEE',width:3,style:'dotted'}}},{name:'selected',shadow:[{color:'#000000',opacity:0.9,offset:{width:2,height:2},radius:2}]},{name:'collapsed',shadow:[{color:'#888888',offset:{width:0,height:1},radius:0},{color:'#FFFFFF',offset:{width:0,height:3},radius:0},{color:'#888888',offset:{width:0,height:4},radius:0},{color:'#FFFFFF',offset:{width:0,height:6},radius:0},{color:'#888888',offset:{width:0,height:7},radius:0}]},{name:'collapsed.selected',shadow:[{color:'#FFFFFF',offset:{width:0,height:1},radius:0},{color:'#888888',offset:{width:0,height:3},radius:0},{color:'#FFFFFF',offset:{width:0,height:6},radius:0},{color:'#555555',offset:{width:0,height:7},radius:0},{color:'#FFFFFF',offset:{width:0,height:10},radius:0},{color:'#333333',offset:{width:0,height:11},radius:0}]}],connector:{default:{type:'straight',line:{color:'#707070',width:1}}}}},function(e){e.exports={name:'MindMup Top Down Straight Lines',layout:{orientation:'top-down',spacing:{h:20,v:100}},node:[{name:'default',cornerRadius:5,backgroundColor:'transparent',border:{type:'overline'},shadow:[{color:'transparent'}],text:{margin:5,alignment:'left',color:'#4F4F4F',lightColor:'#EEEEEE',darkColor:'#000000',font:{lineSpacing:2,lineSpacingPx:2.6,size:10,sizePx:13.3,weight:'light'}},connections:{default:{h:'center',v:'base'},from:{horizontal:{h:'center',v:'base'}},to:{h:'center',v:'top'}},decorations:{height:32,edge:'right',overlap:!0,position:'center'}},{name:'activated',border:{type:'surround',line:{color:'#22AAE0',width:3,style:'dotted'}}},{name:'selected',shadow:[{color:'#000000',opacity:0.9,offset:{width:2,height:2},radius:2}]},{name:'collapsed',shadow:[{color:'#888888',offset:{width:0,height:1},radius:0},{color:'#FFFFFF',offset:{width:0,height:3},radius:0},{color:'#888888',offset:{width:0,height:4},radius:0},{color:'#FFFFFF',offset:{width:0,height:6},radius:0},{color:'#888888',offset:{width:0,height:7},radius:0}]},{name:'collapsed.selected',shadow:[{color:'#FFFFFF',offset:{width:0,height:1},radius:0},{color:'#888888',offset:{width:0,height:3},radius:0},{color:'#FFFFFF',offset:{width:0,height:6},radius:0},{color:'#555555',offset:{width:0,height:7},radius:0},{color:'#FFFFFF',offset:{width:0,height:10},radius:0},{color:'#333333',offset:{width:0,height:11},radius:0}]}],connector:{default:{type:'top-down-s-curve',label:{position:{aboveEnd:15},backgroundColor:'white',borderColor:'white',text:{color:'#4F4F4F',font:{size:9,sizePx:12,weight:'normal'}}},line:{color:'#707070',width:2}}}}},function(e){e.exports={name:'MindMup Top Down Default',layout:{orientation:'top-down',spacing:{h:20,v:100}},node:[{name:'default',cornerRadius:10,backgroundColor:'#E0E0E0',border:{type:'surround',line:{color:'#707070',width:1}},shadow:[{color:'#070707',opacity:0.4,offset:{width:2,height:2},radius:2}],text:{margin:5,alignment:'center',color:'#4F4F4F',lightColor:'#EEEEEE',darkColor:'#000000',font:{lineSpacing:2.5,lineSpacingPx:3.25,size:9,sizePx:12,weight:'bold'}},connections:{default:{h:'center',v:'base'},from:{horizontal:{h:'center',v:'base'}},to:{h:'center',v:'top'}},decorations:{height:20,edge:'top',overlap:!0,position:'end'}},{name:'level_1',backgroundColor:'#22AAE0'},{name:'activated',border:{type:'surround',line:{color:'#22AAE0',width:3,style:'dotted'}}},{name:'level_1.activated',border:{type:'surround',line:{color:'#EEEEEE',width:3,style:'dotted'}}},{name:'selected',shadow:[{color:'#000000',opacity:0.9,offset:{width:2,height:2},radius:2}]},{name:'collapsed',shadow:[{color:'#888888',offset:{width:0,height:1},radius:0},{color:'#FFFFFF',offset:{width:0,height:3},radius:0},{color:'#888888',offset:{width:0,height:4},radius:0},{color:'#FFFFFF',offset:{width:0,height:6},radius:0},{color:'#888888',offset:{width:0,height:7},radius:0}]},{name:'collapsed.selected',shadow:[{color:'#FFFFFF',offset:{width:0,height:1},radius:0},{color:'#888888',offset:{width:0,height:3},radius:0},{color:'#FFFFFF',offset:{width:0,height:6},radius:0},{color:'#555555',offset:{width:0,height:7},radius:0},{color:'#FFFFFF',offset:{width:0,height:10},radius:0},{color:'#333333',offset:{width:0,height:11},radius:0}]}],connector:{default:{type:'top-down-s-curve',label:{position:{aboveEnd:15},backgroundColor:'white',borderColor:'white',text:{color:'#4F4F4F',font:{size:9,sizePx:12,weight:'normal'}}},line:{color:'#707070',width:2}}}}},function(e,t,n){'use strict';e.exports=function(e){var t=e.length;if(3>t){for(var n=Array(t),a=0;a<t;++a)n[a]=a;return 2===t&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]?[0]:n}for(var i=Array(t),a=0;a<t;++a)i[a]=a;i.sort(function(t,n){var o=e[t][0]-e[n][0];return o?o:e[t][1]-e[n][1]});for(var d=[i[0],i[1]],r=[i[0],i[1]],a=2;a<t;++a){for(var s=i[a],l=e[s],c=d.length;1<c&&0>=o(e[d[c-2]],e[d[c-1]],l);)c-=1,d.pop();for(d.push(s),c=r.length;1<c&&0<=o(e[r[c-2]],e[r[c-1]],l);)c-=1,r.pop();r.push(s)}for(var n=Array(r.length+d.length-2),p=0,a=0,h=d.length;a<h;++a)n[p++]=d[a];for(var g=r.length-2;0<g;--g)n[p++]=r[g];return n};var o=n(72)[3]},function(e,t,n){function o(e,t,n){var o=p.segments(e),i=p.segments(t),a=p.combine(o,i),d=n(a);return p.polygon(d)}/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var i=n(66),a=n(67),d=n(68),r=n(70),s=n(71),l=!1,c=a(),p={buildLog:function(e){return!0===e?l=i():!1===e&&(l=!1),!1!==l&&l.list},epsilon:function(e){return c.epsilon(e)},segments:function(e){var t=d(!0,c,l);return e.regions.forEach(t.addRegion),{segments:t.calculate(e.inverted),inverted:e.inverted}},combine:function(e,t){var n=d(!1,c,l);return{combined:n.calculate(e.segments,e.inverted,t.segments,t.inverted),inverted1:e.inverted,inverted2:t.inverted}},selectUnion:function(e){return{segments:s.union(e.combined,l),inverted:e.inverted1||e.inverted2}},selectIntersect:function(e){return{segments:s.intersect(e.combined,l),inverted:e.inverted1&&e.inverted2}},selectDifference:function(e){return{segments:s.difference(e.combined,l),inverted:e.inverted1&&!e.inverted2}},selectDifferenceRev:function(e){return{segments:s.differenceRev(e.combined,l),inverted:!e.inverted1&&e.inverted2}},selectXor:function(e){return{segments:s.xor(e.combined,l),inverted:e.inverted1!==e.inverted2}},polygon:function(e){return{regions:r(e.segments,c,l),inverted:e.inverted}},union:function(e,t){return o(e,t,p.selectUnion)},intersect:function(e,t){return o(e,t,p.selectIntersect)},difference:function(e,t){return o(e,t,p.selectDifference)},differenceRev:function(e,t){return o(e,t,p.selectDifferenceRev)},xor:function(e,t){return o(e,t,p.selectXor)}};'object'==typeof window&&(window.PolyBool=p),e.exports=p},function(e){e.exports=function(){function e(e,t){return o.list.push({type:e,data:t?JSON.parse(JSON.stringify(t)):void 0}),o}var t=0,n=!1,o;return o={list:[],segmentId:function(){return t++},checkIntersection:function(t,n){return e('check',{seg1:t,seg2:n})},segmentChop:function(t,n){return e('div_seg',{seg:t,pt:n}),e('chop',{seg:t,pt:n})},statusRemove:function(t){return e('pop_seg',{seg:t})},segmentUpdate:function(t){return e('seg_update',{seg:t})},segmentNew:function(t,n){return e('new_seg',{seg:t,primary:n})},segmentRemove:function(t){return e('rem_seg',{seg:t})},tempStatus:function(t,n,o){return e('temp_status',{seg:t,above:n,below:o})},rewind:function(t){return e('rewind',{seg:t})},status:function(t,n,o){return e('status',{seg:t,above:n,below:o})},vert:function(t){return t===n?o:(n=t,e('vert',{x:t}))},log:function(t){return'string'!=typeof t&&(t=JSON.stringify(t,!1,'  ')),e('log',{txt:t})},reset:function(){return e('reset')},selected:function(t){return e('selected',{segs:t})},chainStart:function(t){return e('chain_start',{seg:t})},chainRemoveHead:function(t,n){return e('chain_rem_head',{index:t,pt:n})},chainRemoveTail:function(t,n){return e('chain_rem_tail',{index:t,pt:n})},chainNew:function(t,n){return e('chain_new',{pt1:t,pt2:n})},chainMatch:function(t){return e('chain_match',{index:t})},chainClose:function(t){return e('chain_close',{index:t})},chainAddHead:function(t,n){return e('chain_add_head',{index:t,pt:n})},chainAddTail:function(t,n){return e('chain_add_tail',{index:t,pt:n})},chainConnect:function(t,n){return e('chain_con',{index1:t,index2:n})},chainReverse:function(t){return e('chain_rev',{index:t})},chainJoin:function(t,n){return e('chain_join',{index1:t,index2:n})},done:function(){return e('done')}},o}},function(e){var t=Math.abs;e.exports=function(e){'number'!=typeof e&&(e=1e-10);var n={epsilon:function(t){return'number'==typeof t&&(e=t),e},pointAboveOrOnLine:function(t,n,o){var i=n[0],a=n[1],d=o[0],r=o[1],s=t[0],l=t[1];return(d-i)*(l-a)-(r-a)*(s-i)>=-e},pointBetween:function(t,n,o){var i=t[1]-n[1],a=o[0]-n[0],d=t[0]-n[0],r=o[1]-n[1],s=d*a+i*r;if(s<e)return!1;return!(s-(a*a+r*r)>-e)},pointsSameX:function(n,o){return t(n[0]-o[0])<e},pointsSameY:function(n,o){return t(n[1]-o[1])<e},pointsSame:function(e,t){return n.pointsSameX(e,t)&&n.pointsSameY(e,t)},pointsCompare:function(e,t){return n.pointsSameX(e,t)?n.pointsSameY(e,t)?0:e[1]<t[1]?-1:1:e[0]<t[0]?-1:1},pointsCollinear:function(n,o,i){var a=n[0]-o[0],d=n[1]-o[1],r=o[0]-i[0],s=o[1]-i[1];return t(a*s-r*d)<e},linesIntersect:function(n,o,i,a){var d=o[0]-n[0],r=o[1]-n[1],s=a[0]-i[0],l=a[1]-i[1],c=d*l-r*s;if(t(c)<e)return!1;var p=n[0]-i[0],h=n[1]-i[1],g=(s*h-l*p)/c,u=(d*h-r*p)/c,m={alongA:0,alongB:0,pt:[n[0]+g*d,n[1]+g*r]};return m.alongA=g<=-e?-2:g<e?-1:g-1<=-e?0:g-1<e?1:2,m.alongB=u<=-e?-2:u<e?-1:u-1<=-e?0:u-1<e?1:2,m}};return n}},function(e,t,n){var o=n(69);e.exports=function(e,t,n){function a(e,t){return{id:n?n.segmentId():-1,start:e,end:t,myFill:{above:null,below:null},otherFill:null}}function i(e,t,o){return{id:n?n.segmentId():-1,start:e,end:t,myFill:{above:o.myFill.above,below:o.myFill.below},otherFill:null}}function d(e,n,o,i,a,d){var r=t.pointsCompare(n,a);return 0===r?t.pointsSame(o,d)?0:e===i?t.pointAboveOrOnLine(o,i?a:d,i?d:a)?1:-1:e?1:-1:r}function r(e,t){u.insertBefore(e,function(n){var o=d(e.isStart,e.pt,t,n.isStart,n.pt,n.other.pt);return 0>o})}function s(e,t){var n=o.node({isStart:!0,pt:e.start,seg:e,primary:t,other:null,status:null});return r(n,e.end),n}function l(e,t,n){var i=o.node({isStart:!1,pt:t.end,seg:t,primary:n,other:e,status:null});e.other=i,r(i,e.pt)}function c(e,t){var n=s(e,t);return l(n,e,t),n}function p(e,t){n&&n.segmentChop(e.seg,t),e.other.remove(),e.seg.end=t,e.other.pt=t,r(e.other,e.pt)}function h(e,t){var n=i(t,e.seg.end,e.seg);return p(e,t),c(n,e.primary)}function g(i,a){function d(e,n){var o=e.seg.start,i=e.seg.end,a=n.seg.start,d=n.seg.end;return t.pointsCollinear(o,a,d)?t.pointsCollinear(i,a,d)?1:t.pointAboveOrOnLine(i,a,d)?1:-1:t.pointAboveOrOnLine(o,a,d)?1:-1}function r(e){return c.findTransition(function(t){var n=d(e,t.ev);return 0<n})}function l(e,o){var a=e.seg,d=o.seg,r=a.start,s=a.end,l=d.start,c=d.end;n&&n.checkIntersection(a,d);var p=t.linesIntersect(r,s,l,c);if(!1===p){if(!t.pointsCollinear(r,s,l))return!1;if(t.pointsSame(r,c)||t.pointsSame(s,l))return!1;var i=t.pointsSame(r,l),g=t.pointsSame(s,c);if(i&&g)return o;var u=!i&&t.pointBetween(r,l,c),m=!g&&t.pointBetween(s,l,c);if(i)return m?h(o,s):h(e,c),o;u&&(g||(m?h(o,s):h(e,c)),h(o,r))}else 0===p.alongA&&(-1===p.alongB?h(e,l):0===p.alongB?h(e,p.pt):1===p.alongB&&h(e,c)),0===p.alongB&&(-1===p.alongA?h(o,r):0===p.alongA?h(o,p.pt):1===p.alongA&&h(o,s));return!1}for(var c=o.create(),p=[],g;!u.isEmpty();){if(g=u.getHead(),n&&n.vert(g.pt[0]),g.isStart){n&&n.segmentNew(g.seg,g.primary);var m=r(g),f=m.before?m.before.ev:null,y=m.after?m.after.ev:null;n&&n.tempStatus(g.seg,!!f&&f.seg,!!y&&y.seg);var x=function(){if(f){var e=l(g,f);if(e)return e}return!!y&&l(g,y)}();if(x){if(e){var v;v=null===g.seg.myFill.below||g.seg.myFill.above!==g.seg.myFill.below,v&&(x.seg.myFill.above=!x.seg.myFill.above)}else x.seg.otherFill=g.seg.myFill;n&&n.segmentUpdate(x.seg),g.other.remove(),g.remove()}if(u.getHead()!==g){n&&n.rewind(g.seg);continue}if(e){var v;v=null===g.seg.myFill.below||g.seg.myFill.above!==g.seg.myFill.below,g.seg.myFill.below=y?y.seg.myFill.above:i,g.seg.myFill.above=v?!g.seg.myFill.below:g.seg.myFill.below}else if(null===g.seg.otherFill){var b;b=y?g.primary===y.primary?y.seg.otherFill.above:y.seg.myFill.above:g.primary?a:i,g.seg.otherFill={above:b,below:b}}n&&n.status(g.seg,!!f&&f.seg,!!y&&y.seg),g.other.status=m.insert(o.node({ev:g}))}else{var w=g.status;if(null===w)throw new Error('PolyBool: Zero-length segment detected; your epsilon is probably too small or too large');if(c.exists(w.prev)&&c.exists(w.next)&&l(w.prev.ev,w.next.ev),n&&n.statusRemove(w.ev.seg),w.remove(),!g.primary){var E=g.seg.myFill;g.seg.myFill=g.seg.otherFill,g.seg.otherFill=E}p.push(g.seg)}u.getHead().remove()}return n&&n.done(),p}var u=o.create();return e?{addRegion:function(e){for(var n=e[e.length-1],o=0,i;o<e.length;o++){i=n,n=e[o];var d=t.pointsCompare(i,n);0===d||c(a(0>d?i:n,0>d?n:i),!0)}},calculate:function(e){return g(e,!1)}}:{calculate:function(e,t,n,o){return e.forEach(function(e){c(e,!0)}),n.forEach(function(e){c(e,!1)}),g(t,o)}}}},function(e){e.exports={create:function(){var e={root:{root:!0,next:null},exists:function(t){return null===t||t===e.root?!1:!0},isEmpty:function(){return null===e.root.next},getHead:function(){return e.root.next},insertBefore:function(t,n){for(var o=e.root,i=e.root.next;null!==i;){if(n(i))return t.prev=i.prev,t.next=i,i.prev.next=t,void(i.prev=t);o=i,i=i.next}o.next=t,t.prev=o,t.next=null},findTransition:function(t){for(var n=e.root,o=e.root.next;null!==o&&!t(o);)n=o,o=o.next;return{before:n===e.root?null:n,after:o,insert:function(e){return e.prev=n,e.next=o,n.next=e,null!==o&&(o.prev=e),e}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}}},function(e){e.exports=function(e,t,n){var o=[],i=[];return e.forEach(function(e){function a(e,t,n){return(h.index=e,h.matches_head=t,h.matches_pt1=n,h===c)?(h=p,!1):(h=null,!0)}function d(e){n&&n.chainReverse(e),o[e].reverse()}function r(e,i){var a=o[e],d=o[i],r=a[a.length-1],s=a[a.length-2],l=d[0],c=d[1];t.pointsCollinear(s,r,l)&&(n&&n.chainRemoveTail(e,r),a.pop(),r=s),t.pointsCollinear(r,l,c)&&(n&&n.chainRemoveHead(i,l),d.shift()),n&&n.chainJoin(e,i),o[e]=a.concat(d),o.splice(i,1)}var s=e.start,l=e.end;if(t.pointsSame(s,l))return void console.warn('PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large');n&&n.chainStart(e);for(var c={index:0,matches_head:!1,matches_pt1:!1},p={index:0,matches_head:!1,matches_pt1:!1},h=c,g=0;g<o.length;g++){var u=o[g],m=u[0],f=u[1],y=u[u.length-1],x=u[u.length-2];if(t.pointsSame(m,s)){if(a(g,!0,!0))break;}else if(t.pointsSame(m,l)){if(a(g,!0,!1))break;}else if(t.pointsSame(y,s)){if(a(g,!1,!0))break;}else if(t.pointsSame(y,l)&&a(g,!1,!1))break}if(h===c)return o.push([s,l]),void(n&&n.chainNew(s,l));if(h===p){n&&n.chainMatch(c.index);var v=c.index,b=c.matches_pt1?l:s,w=c.matches_head,u=o[v],E=w?u[0]:u[u.length-1],k=w?u[1]:u[u.length-2],C=w?u[u.length-1]:u[0],T=w?u[u.length-2]:u[1];return(t.pointsCollinear(k,E,b)&&(w?(n&&n.chainRemoveHead(c.index,b),u.shift()):(n&&n.chainRemoveTail(c.index,b),u.pop()),E=k),t.pointsSame(C,b))?(o.splice(v,1),t.pointsCollinear(T,C,E)&&(w?(n&&n.chainRemoveTail(c.index,E),u.pop()):(n&&n.chainRemoveHead(c.index,E),u.shift())),n&&n.chainClose(c.index),void i.push(u)):void(w?(n&&n.chainAddHead(c.index,b),u.unshift(b)):(n&&n.chainAddTail(c.index,b),u.push(b)))}var I=c.index,F=p.index;n&&n.chainConnect(I,F);var S=o[I].length<o[F].length;c.matches_head?p.matches_head?S?(d(I),r(I,F)):(d(F),r(F,I)):r(F,I):p.matches_head?r(I,F):S?(d(I),r(F,I)):(d(F),r(I,F))}),i}},function(e){function t(e,t,n){var o=[];return e.forEach(function(e){var i=(e.myFill.above?8:0)+(e.myFill.below?4:0)+(e.otherFill&&e.otherFill.above?2:0)+(e.otherFill&&e.otherFill.below?1:0);0!==t[i]&&o.push({id:n?n.segmentId():-1,start:e.start,end:e.end,myFill:{above:1===t[i],below:2===t[i]},otherFill:null})}),n&&n.selected(o),o}e.exports={union:function(e,n){return t(e,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],n)},intersect:function(e,n){return t(e,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],n)},difference:function(e,n){return t(e,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],n)},differenceRev:function(e,n){return t(e,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],n)},xor:function(e,n){return t(e,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],n)}}},function(e,t,n){'use strict';function o(e,t){for(var n=Array(e.length-1),o=1,i;o<e.length;++o){i=n[o-1]=Array(e.length-1);for(var a=0,d=0;a<e.length;++a)a!==t&&(i[d++]=e[o][a])}return n}function a(e){for(var t=Array(e),n=0;n<e;++n){t[n]=Array(e);for(var o=0;o<e;++o)t[n][o]=['m',o,'[',e-n-1,']'].join('')}return t}function d(e){return 1&e?'-':''}function r(e){if(1===e.length)return e[0];if(2===e.length)return['sum(',e[0],',',e[1],')'].join('');var t=e.length>>1;return['sum(',r(e.slice(0,t)),',',r(e.slice(t)),')'].join('')}function s(e){if(2===e.length)return[['sum(prod(',e[0][0],',',e[1][1],'),prod(-',e[0][1],',',e[1][0],'))'].join('')];for(var t=[],n=0;n<e.length;++n)t.push(['scale(',r(s(o(e,n))),',',d(n),e[0][n],')'].join(''));return t}function i(e){for(var t=[],n=[],d=a(e),l=[],p=0;p<e;++p)0==(1&p)?t.push.apply(t,s(o(d,p))):n.push.apply(n,s(o(d,p))),l.push('m'+p);var i=r(t),m=r(n),f='orientation'+e+'Exact',y=['function ',f,'(',l.join(),'){var p=',i,',n=',m,',d=sub(p,n);return d[d.length-1];};return ',f].join(''),x=new Function('sum','prod','scale','sub',y);return x(h,c,g,u)}function l(e){var t=v[e.length];return t||(t=v[e.length]=i(e.length)),t.apply(void 0,e)}var p=Math.abs,c=n(19),h=n(75),g=n(73),u=n(74),m=5,f=1.1102230246251565e-16,y=i(3),x=i(4),v=[function(){return 0},function(){return 0},function(e,t){return t[0]-e[0]},function(e,t,n){var o=(e[1]-n[1])*(t[0]-n[0]),i=(e[0]-n[0])*(t[1]-n[1]),a=o-i,d;if(0<o){if(0>=i)return a;d=o+i}else if(0>o){if(0<=i)return a;d=-(o+i)}else return a;var r=(3+16*f)*f*d;return a>=r||a<=-r?a:y(e,t,n)},function(e,t,n,o){var i=e[0]-o[0],a=t[0]-o[0],d=n[0]-o[0],r=e[1]-o[1],s=t[1]-o[1],l=n[1]-o[1],c=e[2]-o[2],h=t[2]-o[2],g=n[2]-o[2],u=a*l,m=d*s,y=d*r,v=i*l,b=i*s,w=a*r,E=c*(u-m)+h*(y-v)+g*(b-w),k=(p(u)+p(m))*p(c)+(p(y)+p(v))*p(h)+(p(b)+p(w))*p(g),C=(7+56*f)*f*k;return E>C||-E>C?E:x(e,t,n,o)}];(function(){for(;v.length<=m;)v.push(i(v.length));for(var t=[],n=['slow'],o=0;o<=m;++o)t.push('a'+o),n.push('o'+o);for(var a=['function getOrientation(',t.join(),'){switch(arguments.length){case 0:case 1:return 0;'],o=2;o<=m;++o)a.push('case ',o,':return o',o,'(',t.slice(0,o).join(),');');a.push('}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation'),n.push(a.join(''));var d=Function.apply(void 0,n);e.exports=d.apply(void 0,[l].concat(v));for(var o=0;o<=m;++o)e.exports[o]=v[o]})()},function(e,t,n){'use strict';var o=n(19),d=n(76);e.exports=function(r,e){var s=r.length;if(1===s){var n=o(r[0],e);return n[0]?n:[n[1]]}var l=Array(2*s),c=[0.1,0.1],p=[0.1,0.1],t=0;o(r[0],e,c),c[0]&&(l[t++]=c[0]);for(var h=1;h<s;++h){o(r[h],e,p);var i=c[1];d(i,p[0],c),c[0]&&(l[t++]=c[0]);var g=p[1],a=c[1],u=g+a,m=a-(u-g);c[1]=u,m&&(l[t++]=m)}return c[1]&&(l[t++]=c[1]),0==t&&(l[t++]=0),l.length=t,l}},function(e){'use strict';function t(e,t){var n=e+t,o=n-e,i=e-(n-o)+(t-o);return i?[i,n]:[n]}e.exports=function(n,e){var o=0|n.length,i=0|e.length;if(1==o&&1==i)return t(n[0],-e[0]);var d=Array(o+i),r=0,s=0,l=0,c=Math.abs,p=n[s],h=c(p),g=-e[l],u=c(g),m,a;h<u?(a=p,s+=1,s<o&&(p=n[s],h=c(p))):(a=g,l+=1,l<i&&(g=-e[l],u=c(g))),s<o&&h<u||l>=i?(m=p,s+=1,s<o&&(p=n[s],h=c(p))):(m=g,l+=1,l<i&&(g=-e[l],u=c(g)));for(var f=m+a,x=f-m,v=a-x,y=v,b=f,w,E,k,C,T;s<o&&l<i;)h<u?(m=p,s+=1,s<o&&(p=n[s],h=c(p))):(m=g,l+=1,l<i&&(g=-e[l],u=c(g))),a=y,f=m+a,x=f-m,v=a-x,v&&(d[r++]=v),w=b+f,E=w-b,k=w-E,C=f-E,T=b-k,y=T+C,b=w;for(;s<o;)m=p,a=y,f=m+a,x=f-m,v=a-x,v&&(d[r++]=v),w=b+f,E=w-b,k=w-E,C=f-E,T=b-k,y=T+C,b=w,s+=1,s<o&&(p=n[s]);for(;l<i;)m=g,a=y,f=m+a,x=f-m,v=a-x,v&&(d[r++]=v),w=b+f,E=w-b,k=w-E,C=f-E,T=b-k,y=T+C,b=w,l+=1,l<i&&(g=-e[l]);return y&&(d[r++]=y),b&&(d[r++]=b),r||(d[r++]=0),d.length=r,d}},function(e){'use strict';function t(e,t){var n=e+t,o=n-e,i=e-(n-o)+(t-o);return i?[i,n]:[n]}e.exports=function(n,e){var o=0|n.length,i=0|e.length;if(1==o&&1==i)return t(n[0],e[0]);var d=Array(o+i),r=0,s=0,l=0,c=Math.abs,p=n[s],h=c(p),g=e[l],u=c(g),m,a;h<u?(a=p,s+=1,s<o&&(p=n[s],h=c(p))):(a=g,l+=1,l<i&&(g=e[l],u=c(g))),s<o&&h<u||l>=i?(m=p,s+=1,s<o&&(p=n[s],h=c(p))):(m=g,l+=1,l<i&&(g=e[l],u=c(g)));for(var f=m+a,x=f-m,v=a-x,y=v,b=f,w,E,k,C,T;s<o&&l<i;)h<u?(m=p,s+=1,s<o&&(p=n[s],h=c(p))):(m=g,l+=1,l<i&&(g=e[l],u=c(g))),a=y,f=m+a,x=f-m,v=a-x,v&&(d[r++]=v),w=b+f,E=w-b,k=w-E,C=f-E,T=b-k,y=T+C,b=w;for(;s<o;)m=p,a=y,f=m+a,x=f-m,v=a-x,v&&(d[r++]=v),w=b+f,E=w-b,k=w-E,C=f-E,T=b-k,y=T+C,b=w,s+=1,s<o&&(p=n[s]);for(;l<i;)m=g,a=y,f=m+a,x=f-m,v=a-x,v&&(d[r++]=v),w=b+f,E=w-b,k=w-E,C=f-E,T=b-k,y=T+C,b=w,l+=1,l<i&&(g=e[l]);return y&&(d[r++]=y),b&&(d[r++]=b),r||(d[r++]=0),d.length=r,d}},function(e){'use strict';e.exports=function(e,t,n){var o=e+t,i=o-e,a=t-i,d=e-(o-i);return n?(n[0]=d+a,n[1]=o,n):[d+a,o]}},function(e,t,n){const o=n(1),i=n(20),a=n(3).content,d=n(3).observable,r=n(2).ThemeProcessor,s=n(2).Theme,l=n(21).default;e.exports=function(e){'use strict';const t=o('#container'),n='ontouchstart'in document.documentElement,c=new i.MapModel(i.DOMRender.layoutCalculator,[]),p=d({}),h=function(e){const t=e.theme||l,n=t&&new r().process(t).css;return!!n&&(i.DOMRender.theme=new s(t),window.themeCSS||o('<style id="themeCSS" type="text/css"></style>').appendTo('head').text(n),!0)};t.empty().domMapWidget(d({}),c,n,d({}),t,(e)=>e),o('.attachment').hide(),c.addEventListener('decorationActionRequested',function(e,n){if('note'===n){const n=c.getIdea().getAttrById(e,'note');n&&n.text&&(o('#attachment').empty(),o('#attachment').text(n.text).addClass('note'),t.hide(),o('.attachment').show())}}),c.addEventListener('attachmentOpened',function(e,n){if('application/vnd.google.drive.attachment'===n.contentType){const e=n.content.url||n.content.embedUrl;e&&window.open(e)}else n.remoteUrl?n.content&&window.open(n.content):n.dataUriEncoded?(o('#attachment').empty().removeClass('note'),function(e){return e&&('application/pdf'===e||/^image\//.test(e)||/^text\//.test(e))}(n.contentType)?(o('<iframe>').attr('src',n.content).appendTo('#attachment'),t.hide(),o('.attachment').show()):o(document).nodeWithId(e).find('.mapjs-attachment').attr({download:n.name,href:n.content,target:'_blank'})):(o('#attachment').html(n.content),t.hide(),o('.attachment').show())}),o('.close.attachment').click(function(){o('.attachment').hide(),o('#attachment').removeClass('note'),t.show()}),i.DOMRender.stageMargin={top:50,left:50,bottom:50,right:50},c.setEditingEnabled(!1),e&&function(e){const t=a(e);h(e),p.dispatchEvent('mapLoaded','internal',t),c.setIdea(t),c.focusAndSelect(t.getDefaultRootId())}(e),document.fonts&&document.fonts.ready&&document.fonts.ready.then?document.fonts.ready.then(function(){o('modalcontainer').toggleClass('hidden')}):o('modalcontainer').toggleClass('hidden')}}]);